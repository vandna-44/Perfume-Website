;/*FB_PKG_DELIM*/

__d("BTManifestName",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MAIN:"main",LONGTAIL:"longtail"});c=a;f["default"]=c}),66);
__d("BtLongtailHashFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5779");b=d("FalcoLoggerInternal").create("bt_longtail_hash",a);e=b;g["default"]=e}),98);
__d("CometBTManifestLoader",["BootloaderEvents","BtLongtailHashFalcoEvent","ClientConsistencyEventEmitter","FBLogger","ODS","Promise","SiteData","XHRRequest","asyncToGeneratorRuntime","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Set();function k(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d,e,f){var g=(yield new(i||(i=b("Promise")))(function(b,g){new(c("XHRRequest"))(a+"/btmanifest/"+e+"/"+d+"/"+f).setMethod("GET").setResponseHandler(function(a){return b(a.toString())}).setErrorHandler(function(a){return g(a)}).send()}));if(typeof g!=="string")throw c("FBLogger")("binary_transparency","bt_invalid_manifest_response").mustfixThrow("Invalid response from BT manifest endpoint");return g});return l.apply(this,arguments)}function m(a,b){(h||(h=d("ODS"))).bumpEntityKey(454,"obc.www.all","bt.comet_manifest_loader."+Number(d("SiteData").compose_bootloads)+"."+d("SiteData").pkg_cohort+"."+a+"."+b)}function n(a,b,d){var e;if(d instanceof Error)e=d;else if(typeof d==="object"){var f=JSON.stringify(d);e=c("err")("(XHRRequest): %s",f.slice(0,300)+(f.length>300?"...":""))}else e=c("err")(d);c("FBLogger")("binary_transparency","bt_download_manifest_error").catching(e).mustfix('Unable to download and inject BT manifest "%s" for version: %s',b,a)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!d("SiteData").manifest_origin||d("SiteData").manifest_version_prefix==null||d("SiteData").manifest_base_uri==null)return;var c=a+"_"+b;a=""+d("SiteData").manifest_version_prefix+a;if(j.has(c))return;m(b,"start");j.add(c);try{var e,f=document.createElement("script");f.innerText=(yield k(d("SiteData").manifest_base_uri,d("SiteData").manifest_origin,a,b));f.type="application/json";f.setAttribute("name","binary-transparency-manifest");f.dataset.manifestRev=a;f.dataset.manifestType=b;(e=document.head)==null?void 0:e.appendChild(f);m(b,"complete")}catch(d){m(b,"failed"),n(a,b,d),j["delete"](c)}});return p.apply(this,arguments)}function a(){c("promiseDone")(o(d("SiteData").client_revision,"main")),d("BootloaderEvents").onResourceInLongTailBTManifest(function(a){c("promiseDone")(o(d("SiteData").client_revision,"longtail")),a.hashes.forEach(function(b){c("BtLongtailHashFalcoEvent").log(function(){return{client_revision:String(d("SiteData").client_revision),compose_bootloads:d("SiteData").compose_bootloads,ef_page:d("SiteData").ef_page||"",hash:b,pkg_cohort:d("SiteData").pkg_cohort,reference:a.source,rls_id:d("SiteData").hsi}})})}),c("ClientConsistencyEventEmitter").addListener("newRevision",function(a){c("promiseDone")(o(a,"main")),c("promiseDone")(o(a,"longtail"))})}g.init=a}),98);
__d("CometSuspenseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1828945");b=d("FalcoLoggerInternal").create("comet_suspense",a);e=b;g["default"]=e}),98);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("ms-2.1.1",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=1e3,b=a*60,c=b*60,d=c*24,e=d*7,f=d*365.25;g.exports=function(a,b){b=b||{};var c=typeof a;if(c==="string"&&a.length>0)return h(a);else if(c==="number"&&isNaN(a)===!1)return b["long"]?j(a):i(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))};function h(g){g=String(g);if(g.length>100)return;g=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(!g)return;var h=parseFloat(g[1]);g=(g[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return h*f;case"weeks":case"week":case"w":return h*e;case"days":case"day":case"d":return h*d;case"hours":case"hour":case"hrs":case"hr":case"h":return h*c;case"minutes":case"minute":case"mins":case"min":case"m":return h*b;case"seconds":case"second":case"secs":case"sec":case"s":return h*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return void 0}}function i(e){var f=Math.abs(e);if(f>=d)return Math.round(e/d)+"d";if(f>=c)return Math.round(e/c)+"h";if(f>=b)return Math.round(e/b)+"m";return f>=a?Math.round(e/a)+"s":e+"ms"}function j(e){var f=Math.abs(e);if(f>=d)return k(e,f,d,"day");if(f>=c)return k(e,f,c,"hour");if(f>=b)return k(e,f,b,"minute");return f>=a?k(e,f,a,"second"):e+" ms"}function k(a,b,c,d){b=b>=c*1.5;return Math.round(a/c)+" "+d+(b?"s":"")}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("debug-4.1.1",["ms-2.1.1","supports-color-5.5.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("ms-2.1.1")),h=a(b("supports-color-5.5.0"));d={};var i={exports:d};function j(){function a(a){c.debug=c;c["default"]=c;c.coerce=j;c.disable=h;c.enable=f;c.enabled=i;c.humanize=g();Object.keys(a).forEach(function(b){c[b]=a[b]});c.instances=[];c.names=[];c.skips=[];c.formatters={};function b(a){var b=0;for(var d=0;d<a.length;d++)b=(b<<5)-b+a.charCodeAt(d),b|=0;return c.colors[Math.abs(b)%c.colors.length]}c.selectColor=b;function c(a){var f;function g(){var a=arguments;if(!g.enabled)return;var b=g,d=Number(new Date()),e=d-(f||d);b.diff=e;b.prev=f;b.curr=d;f=d;a[0]=c.coerce(a[0]);typeof a[0]!=="string"&&a.unshift("%O");var h=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(d,e){if(d==="%%")return d;h++;e=c.formatters[e];if(typeof e==="function"){var f=a[h];d=e.call(b,f);a.splice(h,1);h--}return d});c.formatArgs.call(b,a);var i=b.log||c.log;i.apply(b,a)}g.namespace=a;g.enabled=c.enabled(a);g.useColors=c.useColors();g.color=b(a);g.destroy=d;g.extend=e;typeof c.init==="function"&&c.init(g);c.instances.push(g);return g}function d(){var a=c.instances.indexOf(this);if(a!==-1){c.instances.splice(a,1);return!0}return!1}function e(a,b){b=c(this.namespace+(typeof b==="undefined"?":":b)+a);b.log=this.log;return b}function f(a){c.save(a);c.names=[];c.skips=[];var b,d=(typeof a==="string"?a:"").split(/[\s,]+/),e=d.length;for(b=0;b<e;b++){if(!d[b])continue;a=d[b].replace(/\*/g,".*?");a[0]==="-"?c.skips.push(new RegExp("^"+a.substr(1)+"$")):c.names.push(new RegExp("^"+a+"$"))}for(b=0;b<c.instances.length;b++){a=c.instances[b];a.enabled=c.enabled(a.namespace)}}function h(){var a=[].join(",");c.enable("");return a}function i(a){if(a[a.length-1]==="*")return!0;var b,d;for(b=0,d=c.skips.length;b<d;b++)if(c.skips[b].test(a))return!1;for(b=0,d=c.names.length;b<d;b++)if(c.names[b].test(a))return!0;return!1}function j(a){return a instanceof Error?a.stack||a.message:a}c.enable(c.load());return c}i.exports=a}var k=!1;function l(){k||(k=!0,j());return i.exports}var m={},n={exports:m};function o(){m.log=c;m.formatArgs=b;m.save=d;m.load=e;m.useColors=a;m.storage=f();m.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;return typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function b(a){a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff);if(!this.useColors)return;var b="color: "+this.color;a.splice(1,0,b,"color: inherit");var c=0,d=0;a[0].replace(/%[a-zA-Z%]/g,function(a){if(a==="%%")return;c++;a==="%c"&&(d=c)});a.splice(d,0,b)}function c(){arguments;return typeof console==="object"&&emptyFunction&&emptyFunction.apply(console,arguments)}function d(a){try{a?m.storage.setItem("debug",a):m.storage.removeItem("debug")}catch(a){}}function e(){var a;try{a=m.storage.getItem("debug")}catch(a){}!a&&typeof process!=="undefined"&&"env"in process&&(a=process.env.DEBUG);return a}function f(){try{return localStorage}catch(a){}}n.exports=l()(m);c=n.exports.formatters;c.j=function(a){try{return JSON.stringify(a)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}}var p=!1;function q(){p||(p=!0,o());return n.exports}var r={},s={exports:r};function t(){({});var a={};r.init=i;r.log=e;r.formatArgs=c;r.save=f;r.load=g;r.useColors=b;r.colors=[6,2,3,4,5,1];try{i=h();i&&(i.stderr||i).level>=2&&(r.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(a){}r.inspectOpts=Object.keys(process.env).filter(function(a){return/^debug_/i.test(a)}).reduce(function(a,b){var c=b.substring(6).toLowerCase().replace(/_([a-z])/g,function(a,b){return b.toUpperCase()});b=process.env[b];/^(yes|on|true|enabled)$/i.test(b)?b=!0:/^(no|off|false|disabled)$/i.test(b)?b=!1:b==="null"?b=null:b=Number(b);a[c]=b;return a},{});function b(){return"colors"in r.inspectOpts?Boolean(r.inspectOpts.colors):!1}function c(b){var c=this.namespace,a=this.useColors;if(a){a=this.color;a="\x1b[3"+(a<8?a:"8;5;"+a);var e=a+";1m$"+c+"\x1b[0m";b[0]=e+b[0].split("\n").join("\n"+e);b.push(a+"m+"+s.exports.humanize(this.diff)+"\x1b[0m")}else b[0]=d()+c+" "+b[0]}function d(){return r.inspectOpts.hideDate?"":new Date().toISOString()+" "}function e(){return process.stderr.write(a.format.apply(a,arguments)+"\n")}function f(a){a?process.env.DEBUG=a:delete process.env.DEBUG}function g(){return process.env.DEBUG}function i(a){a.inspectOpts={};var b=Object.keys(r.inspectOpts);for(var c=0;c<b.length;c++)a.inspectOpts[b[c]]=r.inspectOpts[b[c]]}s.exports=l()(r);e=s.exports.formatters;e.o=function(b){this.inspectOpts.colors=this.useColors;return a.inspect(b,this.inspectOpts).replace(/\s*\n\s*/g," ")};e.O=function(b){this.inspectOpts.colors=this.useColors;return a.inspect(b,this.inspectOpts)}}var u=!1;function v(){u||(u=!0,t());return s.exports}f={};var w={exports:f};function x(){typeof process==="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?w.exports=q():w.exports=v()}var y=!1;function z(){y||(y=!0,x());return w.exports}function c(a){switch(a){case void 0:return z()}}e.exports=c}),null);
__d("DebugStub",["debug-4.1.1"],(function(a,b,c,d,e,f){e.exports=b("debug-4.1.1")()}),null);
__d("WAConcurrentIterate",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d){var e=[],f=[],h=0,i=function(){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(!(h<a)){e.next=8;break}d=h;h++;e.next=5;return b("regeneratorRuntime").awrap(c(d));case 5:f[d]=e.sent;e.next=0;break;case 8:case"end":return e.stop()}},null,this)};d=Math.min(a,d);for(var j=0;j<d;j++)e.push(i());return(g||(g=b("Promise"))).all(e).then(function(){return f})}f.concurrentIterate=a}),66);
__d("WAGlobals",["WAJids","WALogger","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}var i=null;function a(a){i=a}function j(){if(i==null)throw c("err")("WaMsgr api called before set");return i}function k(){var a;return(a=j().myJids)==null?void 0:a.deviceJid}function b(){var a;return(a=j().myJids)==null?void 0:a.userJid}function e(a){return d("WAJids").extractUserJid(a)===d("WAJids").extractUserJid(k())}function f(){return j().config}function l(){return j().dependencies}var m="WAOneQueue is not defined";function n(){var a=j().waOneQueue;if(a==null){d("WALogger").ERROR(h(),m);throw c("err")(m)}return a}function o(){return j().hmacKey}g.setGlobals=a;g.getMyDeviceJid=k;g.getMyUserJid=b;g.isPeerDevice=e;g.getConfig=f;g.getDependencies=l;g.getWaOneQueue=n;g.getHMACKey=o}),98);
__d("WAHashUtils",["WABase64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("WABase64").encodeB64UrlSafe(a,b)}function b(a,b){return d("WABase64").encodeB64UrlSafe(a,b)}function c(a){return a}function e(a){return a}function f(a){return""+a.slice(0,3)}g.toPlaintextHash=a;g.toCiphertextHash=b;g.stringToPlaintextHash=c;g.toHashedPlaintextHash=e;g.sanitisePlaintextHash=f}),98);
__d("WAMediaEntryData.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};a.internalSpec={fileSha256:[1,(e=d("WAProtoConst")).TYPES.BYTES],mediaKey:[2,e.TYPES.BYTES],fileEncSha256:[3,e.TYPES.BYTES],directPath:[4,e.TYPES.STRING],mediaKeyTimestamp:[5,e.TYPES.INT64],serverMediaType:[6,e.TYPES.STRING],uploadToken:[7,e.TYPES.BYTES],validatedTimestamp:[8,e.TYPES.BYTES],sidecar:[9,e.TYPES.BYTES],objectId:[10,e.TYPES.STRING],fbid:[11,e.TYPES.STRING],downloadableThumbnail:[12,e.TYPES.MESSAGE,c],handle:[13,e.TYPES.STRING],filename:[14,e.TYPES.STRING],progressiveJpegDetails:[15,e.TYPES.MESSAGE,b],size:[16,e.TYPES.INT64],lastDownloadAttemptTimestamp:[17,e.TYPES.INT64]};b.internalSpec={scanLengths:[1,e.FLAGS.REPEATED|e.TYPES.UINT32],sidecar:[2,e.TYPES.BYTES]};c.internalSpec={fileSha256:[1,e.TYPES.BYTES],fileEncSha256:[2,e.TYPES.BYTES],directPath:[3,e.TYPES.STRING],mediaKey:[4,e.TYPES.BYTES],mediaKeyTimestamp:[5,e.TYPES.INT64],objectId:[6,e.TYPES.STRING]};g.MediaEntrySpec=a;g.MediaEntry$ProgressiveJpegDetailsSpec=b;g.MediaEntry$DownloadableThumbnailSpec=c}),98);
__d("WAProgressiveJpegGetScanOffsets",["WAProgressiveJpegMarkers","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Non-progressive JPEG marker found"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Ending marker found before end of image"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Scan found at offset ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Not a JPEG image"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["starting"]);l=function(){return a};return a}var m=d("WATagsLogger").TAGS(["media","progressiveJpegUtils"]);function a(a){m.DEV(l());if(!n(a)){m.DEV(k());return[]}var b=[],c=2,e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA",f=null,g=0,r=!1,s=!1,t=!1;function u(){t=!1,m.DEV(j(),c-1),b.push(c-1)}while(c<a.byteLength){f=a[c];if(r){m.ERROR(i());return[]}switch(e){case"READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA":f===d("WAProgressiveJpegMarkers").MARKER_PREFIX&&(e="READ_MARKER_SECOND_BYTE");break;case"READ_MARKER_SECOND_BYTE":if(f===d("WAProgressiveJpegMarkers").MARKER_PREFIX)e="READ_MARKER_SECOND_BYTE";else if(f===d("WAProgressiveJpegMarkers").MARKER_ESCAPE_BYTE)e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA";else if(f===d("WAProgressiveJpegMarkers").MARKERS.EOI)r=!0,t&&u();else if(!s&&p(f)){m.LOG(h());return[]}else o(f)?(s=!0,e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA"):(t&&u(),f===d("WAProgressiveJpegMarkers").MARKERS.SOS&&(t=!0),q(f)?e="READ_SIZE_FIRST_BYTE":e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA");break;case"READ_SIZE_FIRST_BYTE":e="READ_SIZE_SECOND_BYTE";break;case"READ_SIZE_SECOND_BYTE":c+=g*256;c+=f;c-=2;e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA";break}c+=1;g=f}return b}function n(a){if(a.byteLength<=2)return!1;if(a[0]!==d("WAProgressiveJpegMarkers").MARKER_PREFIX)return!1;return a[1]!==d("WAProgressiveJpegMarkers").MARKERS.SOF2&&a[1]!==d("WAProgressiveJpegMarkers").MARKERS.SOI?!1:!0}function o(a){return a===d("WAProgressiveJpegMarkers").MARKERS.SOF2||a===d("WAProgressiveJpegMarkers").MARKERS.SOF6||a===d("WAProgressiveJpegMarkers").MARKERS.SOF10||a===d("WAProgressiveJpegMarkers").MARKERS.SOF14}function p(a){return a===d("WAProgressiveJpegMarkers").MARKERS.SOF0||a===d("WAProgressiveJpegMarkers").MARKERS.SOF1||a===d("WAProgressiveJpegMarkers").MARKERS.SOF3||a===d("WAProgressiveJpegMarkers").MARKERS.SOF5||a===d("WAProgressiveJpegMarkers").MARKERS.SOF7||a===d("WAProgressiveJpegMarkers").MARKERS.JPG||a===d("WAProgressiveJpegMarkers").MARKERS.SOF9||a===d("WAProgressiveJpegMarkers").MARKERS.SOF11||a===d("WAProgressiveJpegMarkers").MARKERS.SOF13||a===d("WAProgressiveJpegMarkers").MARKERS.SOF15}function q(a){if(a===d("WAProgressiveJpegMarkers").MARKERS.TEM)return!1;return a>=d("WAProgressiveJpegMarkers").MARKERS.RST0&&a<=d("WAProgressiveJpegMarkers").MARKERS.RST7?!1:a!==d("WAProgressiveJpegMarkers").MARKERS.EOI&&a!==d("WAProgressiveJpegMarkers").MARKERS.SOI}g.getProgressiveJpegScanOffsets=a}),98);
__d("WAProgressiveJpegGetScanLengths",["WAProgressiveJpegGetScanOffsets"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("WAProgressiveJpegGetScanOffsets").getProgressiveJpegScanOffsets(a);return h(a)}function b(a){return a}function h(a){var b=[],c=0;for(var d=0;d<a.length;d++){var e=a[d];b.push(e-c);c=e}return b}g.getProgressiveJpegScanLengths=a;g.asProgressiveJpegScanLength=b}),98);
__d("WAMediaUtils",["WACryptoDependencies","WAGlobals","WALongInt","WAMediaEntryData.pb","WAProgressiveJpegGetScanLengths","WAResultOrError","WAServerMediaType","WATimeUtils","decodeProtobuf","encodeProtobuf","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=new Uint8Array(32);d("WACryptoDependencies").getCrypto().getRandomValues(a);return a.buffer}function i(a){return a}function a(){return h()}function j(a){return a}function k(a){return a}function b(a){return a}var l="0_0_0_.enc";function e(a){if(a==null)return d("WAResultOrError").makeError("direct-path-undefined");if(a==="")return d("WAResultOrError").makeError("direct-path-empty");return a.includes(l)?d("WAResultOrError").makeError("direct-path-corrupted"):d("WAResultOrError").makeResult(a)}function f(a){return a}function m(a){return a}function n(a,b){a=d("decodeProtobuf").decodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,b);b=a.fileSha256;var c=a.mediaKey,e=a.fileEncSha256,f=a.directPath,g=a.mediaKeyTimestamp,h=a.sidecar,i=a.objectId,j=a.fbid,l=a.serverMediaType,m=a.downloadableThumbnail,n=a.filename,o=a.progressiveJpegDetails;a=a.size;return{fileSha256:b,mediaKey:c,fileEncSha256:e,directPath:f,mediaKeyTimestamp:g==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(g)),sidecar:h&&k(h),objectId:i,fbid:j,downloadableThumbnail:m&&u(m),serverMediaType:l,filename:n,progressiveJpegDetails:o&&v(o),size:a==null?void 0:d("WALongInt").numberOrThrowIfTooLarge(a)}}function o(a){var b=a.fileSha256,c=a.fileEncSha256,e=a.mediaKey,f=a.directPath,g=a.mediaKeyTimestamp,h=a.serverMediaType,i=a.objectId,j=a.fbid,k=a.downloadableThumbnail,l=a.filename,m=a.progressiveJpegDetails;a=a.size;b=d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,{fileSha256:b,fileEncSha256:c,mediaKey:e,directPath:f,mediaKeyTimestamp:g,serverMediaType:h,objectId:i,fbid:j,downloadableThumbnail:k,filename:l,progressiveJpegDetails:m,size:a});return b.readByteArray()}function p(a){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function q(a,b){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,babelHelpers["extends"]({},a,{directPath:b})).readByteArray()}function r(a,b){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,babelHelpers["extends"]({},a,{downloadableThumbnail:babelHelpers["extends"]({},a.downloadableThumbnail,{directPath:b})})).readByteArray()}function s(a,b){a=babelHelpers["extends"]({},a,{fbid:b});return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function t(a,b){a=babelHelpers["extends"]({},a,{objectId:b});return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function u(a){if(a==null)return null;a.$$unknownFieldCount;var b=a.directPath,c=a.objectId,e=babelHelpers.objectWithoutPropertiesLoose(a,["$$unknownFieldCount","directPath","objectId"]);return babelHelpers["extends"]({},e,{directPath:b,objectId:c,mediaKey:a.mediaKey&&i(a.mediaKey),mediaKeyTimestamp:a.mediaKeyTimestamp==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(a.mediaKeyTimestamp))})}function v(a){if(a==null)return null;return a.scanLengths==null||a.sidecar==null?null:{sidecar:a.sidecar,scanLengths:a.scanLengths.map(function(a){return d("WAProgressiveJpegGetScanLengths").asProgressiveJpegScanLength(d("WALongInt").numberOrThrowIfTooLarge(a))})}}function w(a){a=d("decodeProtobuf").decodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a);var b=a.serverMediaType,c=a.mediaKey,e=a.mediaKeyTimestamp,f=a.uploadToken,g=a.downloadableThumbnail,h=a.progressiveJpegDetails,k=a.size,l=a.lastDownloadAttemptTimestamp,m=a.sidecar,n=a.directPath,o=a.objectId;a=babelHelpers.objectWithoutPropertiesLoose(a,["serverMediaType","mediaKey","mediaKeyTimestamp","uploadToken","downloadableThumbnail","progressiveJpegDetails","size","lastDownloadAttemptTimestamp","sidecar","directPath","objectId"]);var p=null;h!=null&&h.scanLengths!=null&&h.sidecar!=null&&(p={sidecar:h.sidecar,scanLengths:h.scanLengths.map(function(a){return d("WAProgressiveJpegGetScanLengths").asProgressiveJpegScanLength(d("WALongInt").numberOrThrowIfTooLarge(a))})});return babelHelpers["extends"]({},a,{objectId:o,directPath:n,sidecar:m,serverMediaType:b==null?null:d("WAServerMediaType").castToServerMediaType(b),mediaKey:c&&i(c),mediaKeyTimestamp:e==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(e)),uploadToken:f&&j(f),progressiveJpegDetails:p,downloadableThumbnail:g&&u(g),size:d("WALongInt").maybeNumberOrThrowIfTooLarge(k),lastDownloadAttemptTimestamp:l==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(l))})}function x(a){var b="image/jpeg";switch(a){case"image":b="image/jpeg";break;case"ptt":b="audio/wav";break;case"video":b="video/mp4";break;case"gif":b="image/gif";break;case"sticker":b="image/webp";break;case"preview":b="image/jpeg";break;case"document":b=d("WAGlobals").getConfig().isOctetStreamAttachmentMimeTypeEnabled()===!0?"application/octet-stream":"application/pdf";break;case"xma-image":b="image/jpeg";break;default:throw c("err")("Unsupported server media type: "+a)}return b}var y=function(){return"TransformStream"in self};g.createMediaKey=h;g.castToMediaKey=i;g.createUploadToken=a;g.castToUploadToken=j;g.castToStreamingSidecar=k;g.unsafeCastToDirectPath=b;g.validateDirectPath=e;g.stringToDeliveryObjectId=f;g.stringToBackupEntFbid=m;g.mediaEntryDataToRawData=n;g.rawDataToMediaEntry=o;g.encodeMediaEntryForUpload=p;g.encodeMediaEntryWithUpdatedPath=q;g.encodeMediaEntryDownloadableThumbnailWithUpdatedPath=r;g.encodeMediaEntryWithUpdatedFbid=s;g.encodeMediaEntryWithUpdatedObjectId=t;g.convertMediaDownloadableThumbnailToDownloadableThumbnail=u;g.decodeMediaEntryData=w;g.getMimeTypeFromServerMediaType=x;g.isTransformStreamSupported=y}),98);
__d("WAMediaCryptoSidecar",["WAConcurrentIterate","WACryptoHmac","WAMediaUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a==="video"}var h=16,i=10,j=64*1024;function b(a,b,c){c===void 0&&(c=1);var e=b.buffer.byteLength;e=Math.ceil((e-h)/j);var f=new Uint8Array(i*e);return d("WAConcurrentIterate").concurrentIterate(e,function(c){var e=c*j,g=e+h+j;e=b.subarray(e,g);return d("WACryptoHmac").sign(a,e).then(function(a){a=new Uint8Array(a,0,i);f.set(a,c*i)})},c).then(function(){return d("WAMediaUtils").castToStreamingSidecar(f.buffer)})}g.shouldHaveStreamingSidecar=a;g.calculateStreamingSidecar=b}),98);
__d("WAMediaHkdfInfo",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case"document":return"WhatsApp Document Keys";case"image":case"sticker":case"xma-image":return"WhatsApp Image Keys";case"video":case"gif":return"WhatsApp Video Keys";case"audio":case"ptt":return"WhatsApp Audio Keys";case"md-app-state":return"WhatsApp App State Keys";case"md-msg-hist":return"WhatsApp History Keys";default:throw c("err")("getMediaHkdfInfo: unexpected media type "+a)}}function b(){return"Messenger Preview Keys"}g.getMediaHkdfInfo=a;g.getPreviewMediaHkdfInfo=b}),98);
__d("WAMediaCrypto",["Promise","WABinary","WABlobToArrayBuffer","WACryptoAesCbc","WACryptoDependencies","WACryptoHkdf","WACryptoHmac","WACryptoSha256","WACryptoUtils","WACustomError","WAHashUtils","WALogger","WAMediaCryptoSidecar","WAMediaHkdfInfo","WATagsLogger","WATypedArraysConcat","err","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Processing scan ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to decrypt partial due to invalid target scan"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["decryptPartialChunks targetScan greater length of scanLength array"]);k=function(){return a};return a}var l=d("WATagsLogger").TAGS(["WAMediaCrypto"]),m=d("WACustomError").customError("HmacValidationError",!1),n=new Uint8Array([2,2]);function o(a,b){return d("WACryptoHkdf").extractAndExpand(new Uint8Array(a),b,112).then(function(a){return{iv:new Uint8Array(a,0,16),cipherKey:new Uint8Array(a,16,32),hmacKey:new Uint8Array(a,48,32),refKey:new Uint8Array(a,80,32)}})}function p(a,b){b=d("WAMediaHkdfInfo").getMediaHkdfInfo(b);return o(a,b)}function q(a){var b=d("WAMediaHkdfInfo").getPreviewMediaHkdfInfo();return o(a,b)}function a(a){var c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:c=new Map();f.next=3;return b("regeneratorRuntime").awrap(q(a));case 3:d=f.sent;c.set("preview",d);e=["document","image","video","audio","md-app-state","md-msg-hist"];f.next=8;return b("regeneratorRuntime").awrap((h||(h=b("Promise"))).all(e.map(function(b){return p(a,b).then(function(a){c.set(b,a)})})));case 8:return f.abrupt("return",c);case 9:case"end":return f.stop()}},null,this)}function e(a){switch(a){case"image":case"video":return a;default:return null}}var r=16,s=16,t=10,u=64*1024;function f(a,c,e,f,g){var i,j,k,l,m,n,o,p,q,v,w,x,y,z,A;return b("regeneratorRuntime").async(function(B){while(1)switch(B.prev=B.next){case 0:i=new(d("WABinary").Binary)(),i.ensureCapacity(s+f.size+r+t),i.writeByteArray(c),j=new(d("WACryptoAesCbc").AesCbcStream)(i,"encrypt",a,c),k=0,l=k+u;case 6:if(!(l<f.size)){B.next=17;break}m=f.slice(k,l);B.next=10;return b("regeneratorRuntime").awrap(d("WABlobToArrayBuffer").blobToArrayBuffer(m));case 10:n=B.sent;B.next=13;return b("regeneratorRuntime").awrap(j.append(new Uint8Array(n)));case 13:k=l;l+=u;B.next=6;break;case 17:B.next=19;return b("regeneratorRuntime").awrap(d("WABlobToArrayBuffer").blobToArrayBuffer(f.slice(k)));case 19:o=B.sent;B.next=22;return b("regeneratorRuntime").awrap(j.finalize(new Uint8Array(o)));case 22:p=i.peek(function(a){return a.readByteArray()});B.next=25;return b("regeneratorRuntime").awrap(d("WACryptoHmac").encodeKeySha256(e));case 25:q=B.sent;B.next=28;return b("regeneratorRuntime").awrap(d("WACryptoHmac").sign(q,p));case 28:v=B.sent;i.writeByteArray(new Uint8Array(v,0,t));w=i.readByteArray();x=w.subarray(s);B.next=34;return b("regeneratorRuntime").awrap((h||(h=b("Promise"))).all([d("WACryptoDependencies").getCrypto().subtle.digest("SHA-256",x),d("WAMediaCryptoSidecar").shouldHaveStreamingSidecar(g)?d("WAMediaCryptoSidecar").calculateStreamingSidecar(q,w):void 0]));case 34:y=B.sent;z=y[0];A=y[1];return B.abrupt("return",{ciphertext:x,ciphertextHash:z,sidecar:A,ivCiphertext:p,ivCiphertextHmac:w});case 38:case"end":return B.stop()}},null,this)}function v(a,c,e){var f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(d("WACryptoHmac").encodeKeySha256(a));case 2:f=h.sent;g=d("WABinary").Binary.build(c,e).readByteArray();return h.abrupt("return",d("WACryptoHmac").sign(f,g));case 5:case"end":return h.stop()}},null,this)}function w(a,c,e,f,g){var h,i,j,k,l;return b("regeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:if(10<=g.length&&g.length<=32){n.next=2;break}throw new m("Bad hmac size "+g.length);case 2:h=d("WABinary").Binary.build(c,e).readByteArray();n.next=5;return b("regeneratorRuntime").awrap(d("WACryptoHmac").hmacSha256(f,h).then(function(a){return new Uint8Array(a)}));case 5:i=n.sent;j=i.slice(0,g.length);if(A(j,g)){n.next=9;break}throw new m("hmacAndDecrypt hmac mismatch");case 9:n.next=11;return b("regeneratorRuntime").awrap(d("WACryptoAesCbc").aesCbcDecrypt(a,c,e));case 11:k=n.sent;n.next=14;return b("regeneratorRuntime").awrap(d("WACryptoDependencies").getCrypto().subtle.digest("SHA-256",k));case 14:l=n.sent;return n.abrupt("return",{plaintextHash:d("WAHashUtils").toPlaintextHash(l),plaintext:k});case 16:case"end":return n.stop()}},null,this)}function x(a,b,c,e,f){if(!(10<=f.length&&f.length<=32))throw new m("Bad hmac size "+f.length);var g=d("WATypedArraysConcat").concatTypedArrays(Uint8Array,[b,c]);return d("WACryptoHmac").hmacSha256(e,g,f.length).then(function(a){return new Uint8Array(a)}).then(function(a){if(!d("WACryptoUtils").uint8ArraysEqual(a,f))throw new m("hmacAndDecrypt hmac mismatch")}).then(function(){var a=c.byteLength%r===t;if(a===!0)return c.subarray(0,-10);else return c}).then(function(c){return y(a,b,c)})}function y(a,b,c){var e=c.subarray(-r);return d("WACryptoAesCbc").aesCbcEncrypt(a,n,e).then(function(a){return a.slice(s)}).then(function(a){return d("WABinary").Binary.build(c,a).readByteArray()}).then(function(c){return d("WACryptoAesCbc").aesCbcDecrypt(a,b,c)}).then(function(a){return new Uint8Array(a,0,a.byteLength-n.byteLength)}).then(function(a){return{plaintext:a,nextIv:e}})}function z(a,e,f,g,h,m){var n,o,p,q,r,s,t,u,v,w,y,z,A,B,C,D;return b("regeneratorRuntime").async(function(E){while(1)switch(E.prev=E.next){case 0:h>m.scanLengths.length&&l.ERROR(k());n=Math.min(h,m.scanLengths.length);if(!(n<1)){E.next=5;break}l.ERROR(j());throw c("err")("Unable to decrypt partial due to invalid target scan");case 5:o=new(d("WABinary").Binary)();p=[];for(q=0;q<n;q++)p.push(new Uint8Array(m.sidecar,q*10,10));r=0;s=e;t=0;u=0;case 12:if(!(u<n)){E.next=29;break}d("WALogger").DEV(i(),u);v=m.alignedScanLengths[u];w=r+v;y=f.subarray(r,w);E.next=19;return b("regeneratorRuntime").awrap(x(a,s,y,g,p[u]));case 19:z=E.sent,A=z.plaintext,B=z.nextIv,o.write(A),r+=v,s=B,t+=m.scanLengths[u];case 26:u++;E.next=12;break;case 29:C=o.readBuffer(t);E.next=32;return b("regeneratorRuntime").awrap(d("WACryptoSha256").sha256(C));case 32:D=E.sent;return E.abrupt("return",{plaintextHash:d("WAHashUtils").toPlaintextHash(D),plaintext:C});case 34:case"end":return E.stop()}},null,this)}function A(a,b){if(a.length!==b.length)return!1;var c=1,d=a.length;for(var e=0;e<d;e++)c&=a[e]===b[e]?1:0;return c!==0}g.HmacValidationError=m;g.DEFAULT_PADDING=n;g.computeMediaKeys=p;g.computeMediaKeysForPreview=q;g.deprecated_getAllCommonComputedMediaKeys=a;g.convertServerMediaTypeToPreviewMediaType=e;g.CBC_BLOCK_SIZE=r;g.IV_LENGTH=s;g.HMAC_LENGTH=t;g.encryptAndHmac=f;g.hmacCiphertext=v;g.hmacAndDecrypt=w;g.hmacAndDecryptPartial=x;g.decryptPartialChunks=z}),98);
__d("WAPttComposerOpusRecorder",["$InternalEnum","Promise","WAGetUserMedia","WANullthrows","WAOpusRecorderWorkerClient","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i={bitRate:16e3,bufferLength:4096,numberOfChannels:1,encoderSampleRate:16e3,maxBuffersPerPage:40,encoderApplication:2048,encoderFrameSize:20,streamOptions:{optional:[],mandatory:{googEchoCancellation:!1,googAutoGainControl:!1,googNoiseSuppression:!1,googHighpassFilter:!1}}},j=b("$InternalEnum").Mirrored(["INACTIVE","RECORDING","PAUSED","STOPPED"]);a=function(){function a(a){var d=this;this._duration=0;this._recordedPages=[];this._state=j.INACTIVE;this._isFirstBuffer=!1;this._requestCount=0;this._pendingFlushResolvers=new Map();this._handleEncoderMessage=function(a){a=a.data;switch(a.message){case"page":d._storePage(a.page);break;case"flushed":d._handleFlushed(a.requestId);break;default:throw c("err")("Invalid message event type: "+a.message)}};if(!l())throw c("err")("Recording is not supported in this browser");this._createStream=a.createStream;this._onDuration=a.onDuration;this._onPause=a.onPause;this._onResume=a.onResume;this._onStart=a.onStart;this._onStop=a.onStop;this._handlePage=a.onPage;this._completeRecordingPromise=new(h||(h=b("Promise")))(function(a){d._resolveCompleteRecordingPromise=a});this._audioContext=new AudioContext();this._encoderNode=this._audioContext.createScriptProcessor(i.bufferLength,i.numberOfChannels,i.numberOfChannels);this._encoderNode.onaudioprocess=function(a){d._encodeBuffers(a.inputBuffer)};this._monitorNode=this._audioContext.createGain()}var e=a.prototype;e.getState=function(){return this._state};e.start=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){switch(this._state){case j.RECORDING:return!0;case j.STOPPED:return!1;case j.PAUSED:return this.resume();case j.INACTIVE:break}this._recordedPages=[];this._isFirstBuffer=!0;this._duration=0;var a=d("WAOpusRecorderWorkerClient").getOpusEncoderWorker();this._encoder=a;a.addEventListener("message",this._handleEncoderMessage);var b=(yield this._startRecording());if(!b)return!1;this._onStart==null?void 0:this._onStart();this._onDuration==null?void 0:this._onDuration(this._duration);a.postMessage({command:"encode-init",config:babelHelpers["extends"]({},i,{originalSampleRate:this._audioContext.sampleRate})});this._encoderNode.connect(this._audioContext.destination);return!0});function c(){return a.apply(this,arguments)}return c}();e.stop=function(){var a;if(this._state===j.STOPPED)return;this._state=j.STOPPED;(a=this._recordingAbortController)==null?void 0:a.abort();this._audioContext.close&&this._audioContext.close();this._monitorNode.disconnect();this._encoderNode.disconnect();(a=this._encoder)==null?void 0:a.postMessage({command:"encode-done"})};e.pause=function(){var a;if(this._state!==j.RECORDING)return;this._state=j.PAUSED;(a=this._recordingAbortController)==null?void 0:a.abort();this._onPause==null?void 0:this._onPause()};e.resume=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){switch(this._state){case j.RECORDING:return!0;case j.STOPPED:return!1;case j.INACTIVE:throw c("err")("Attempting to resume recording that hasn't started");case j.PAUSED:break}var a=(yield this._startRecording());if(!a)return!1;this._onResume==null?void 0:this._onResume();return!0});function d(){return a.apply(this,arguments)}return d}();e.getDuration=function(){return this._duration};e.getMonitorNode=function(){return this._monitorNode};e._encodeBuffers=function(a){if(this._isFirstBuffer){this._isFirstBuffer=!1;return}if(this._state!==j.RECORDING)return;var b=[];for(var d=0;d<a.numberOfChannels;d++)b[d]=a.getChannelData(d);d=c("WANullthrows")(this._encoder);d.postMessage({command:"encode",buffers:b});this._duration+=a.duration;this._onDuration==null?void 0:this._onDuration(this._duration)};e._getNextRequestId=function(){this._requestCount++;return this._requestCount};e._startRecording=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){this._state=j.RECORDING;this._recordingAbortController=new AbortController();var a=(yield m(this._createStream,this._audioContext,[this._encoderNode,this._monitorNode],this._recordingAbortController.signal));if(!a){this.stop();return!1}return!0});function a(){return a.apply(this,arguments)}return a}();e._storePage=function(a){this._recordedPages.push(a);if(a[5]&4){this._handlePage==null?void 0:this._handlePage(a,!0);var b=c("WANullthrows")(this._encoder);b.removeEventListener("message",this._handleEncoderMessage);this._resolveCompleteRecordingPromise(k(this._recordedPages));this._recordedPages=[];this._onStop==null?void 0:this._onStop();return}this._handlePage==null?void 0:this._handlePage(a,!1)};e._handleFlushed=function(a){var b=c("WANullthrows")(this._pendingFlushResolvers.get(a));this._pendingFlushResolvers["delete"](a);b(k(this._recordedPages))};e.getPartialRecording=function(){var a=this,d=this._getNextRequestId(),e=new(h||(h=b("Promise")))(function(b){a._pendingFlushResolvers.set(d,b)}),f=c("WANullthrows")(this._encoder);f.postMessage({command:"flush",requestId:d});return e};e.getCompleteRecording=function(){return this._completeRecordingPromise};return a}();function k(a){var b=a.reduce(function(a,b){return a+b.length},0);b=new Uint8Array(b);var c=0;for(a of a)b.set(a,c),c+=a.length;return new Blob([b],{type:"audio/ogg; codecs=opus"})}function l(){return Boolean(window.AudioContext&&d("WAGetUserMedia").getUserMedia)}function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){var e=(yield a(d));if(d.aborted||e==null)return!1;var f=b.createMediaStreamSource(e);c.forEach(function(a){f.connect(a)});d.addEventListener("abort",function(){e.getTracks().forEach(function(a){a.stop()}),f.disconnect()},{once:!0});return!0});return n.apply(this,arguments)}g.OpusRecorderState=j;g.OpusRecorder=a}),98);
__d("WAPttComposerRecorderPollableTimer",[],(function(a,b,c,d,e,f){a=function(){function a(){}var b=a.prototype;b.start=function(){this.$1=Date.now()};b.stop=function(){this.$2=Date.now()};b.pause=function(){this.stop()};b.resume=function(){this.$1=Date.now()-this.getTime(),this.$2=null};b.getTime=function(){var a,b=this.$1;if(b==null)return 0;a=(a=this.$2)!=null?a:Date.now();return a-b};return a}();f["default"]=a}),66);
__d("WAPttComposerWaveformRecorder",["WANullthrows","WAPttComposerRecorderPollableTimer","WAPttComposerScaleWaveform","WAStartAnimationLoop"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){var d=this;this.$2=new(c("WAPttComposerRecorderPollableTimer"))();this.$3=[];this.$4=[];this.$5=0;this.$10=function(){d.$5=Math.max(d.$5,d.$11());var a=d.$3.length/d.$1;a=Math.floor((d.getDuration()-a)*d.$1);if(a===0)return;for(var b=0;b<a;b++)d.$3.push(d.$5);d.$5=0};this.$12=0;this.$7=h(a);a.connect(this.$7);this.$1=b}var b=a.prototype;b.start=function(){this.$2.start(),this.$9()};b.stop=function(){this.$2.stop(),this.$6==null?void 0:this.$6()};b.pause=function(){this.$2.pause(),this.$6==null?void 0:this.$6()};b.resume=function(){this.$2.resume(),this.$9()};b.$9=function(){this.$6=d("WAStartAnimationLoop").startAnimationLoop(this.$10)};b.$11=function(){var a,b=c("WANullthrows")(this.$7);this.$8=(a=this.$8)!=null?a:new Uint8Array(b.frequencyBinCount);a=this.$8;b.getByteFrequencyData(a);return Math.max.apply(Math,Array.from(a))/255};b.commitSamples=function(a){a=Math.floor(a*this.$1);a=a-this.$4.length;var b=this.$3.length-this.$12;if(a===0||b===0)return;b=this.$3.slice(this.$12,this.$3.length);b=c("WAPttComposerScaleWaveform")(b,a);for(var a=b,b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;this.$4.push(e)}this.$12=this.$3.length};b.getSamples=function(){return this.$3};b.getDuration=function(){var a;a=(a=this.$2.getTime())!=null?a:0;return a/1e3};b.getCorrectedSamples=function(){return this.$4};return a}();function h(a){a=a.context.createAnalyser();a.fftSize=32;a.smoothingTimeConstant=0;a.minDecibels=-60;a.maxDecibels=-10;return a}g["default"]=a}),98);
__d("WAPttComposerRecorder",["WAPttComposerOpusRecorder","WAPttComposerWaveformRecorder","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this._handleOpusRecorderDuration=function(){b._waveformRecorder.commitSamples(b.getDuration()),b._onDuration==null?void 0:b._onDuration(b.getDuration())};this._onDuration=a.onDuration;this._opusRecorder=new(d("WAPttComposerOpusRecorder").OpusRecorder)({createStream:a.createStream,onDuration:this._handleOpusRecorderDuration,onPage:function(b,c){a.onPage==null?void 0:a.onPage(b,c)}});this._waveformRecorder=new(c("WAPttComposerWaveformRecorder"))(this._opusRecorder.getMonitorNode(),a.waveformSampleRate)}var e=a.prototype;e.start=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this._opusRecorder.start());if(!a)return!1;this._waveformRecorder.start();return!0});function c(){return a.apply(this,arguments)}return c}();e.stop=function(){this._opusRecorder.stop(),this._waveformRecorder.stop()};e.pause=function(){this._opusRecorder.pause(),this._waveformRecorder.pause()};e.resume=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this._opusRecorder.resume());if(!a)return!1;this._waveformRecorder.resume();return!0});function c(){return a.apply(this,arguments)}return c}();e.getDuration=function(){return this._opusRecorder.getDuration()};e.getPreciseDuration=function(){var a;return(a=this._waveformRecorder.getDuration())!=null?a:0};e.getLiveWaveformSamples=function(){return this._waveformRecorder.getSamples()};e.getCorrectedWaveformSamples=function(){return this._waveformRecorder.getCorrectedSamples()};e.getPartialRecording=function(){return this._opusRecorder.getPartialRecording()};e.getCompleteRecording=function(){return this._opusRecorder.getCompleteRecording()};return a}();g["default"]=a}),98);
__d("WASyncdHandleKeyRequest",["Promise","WAGetSyncKey","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:c=[];e=[];f.next=4;return b("regeneratorRuntime").awrap((h||(h=b("Promise"))).all(a.map(function(a){var f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=2;return b("regeneratorRuntime").awrap(d("WAGetSyncKey").getSyncKeyInTransaction_DO_NOT_USE(a));case 2:f=g.sent,f?c.push(f):e.push(a);case 4:case"end":return g.stop()}},null,this)})));case 4:return f.abrupt("return",{keys:c,orphanKeys:e});case 5:case"end":return f.stop()}},null,this)}g.getKeysForKeyRequest=a}),98);
__d("WASyncdHandleKeyShare",["Promise","WABaseGlobals","WACryptoUtils","WAGetSyncKey","WALogger","WASyncd","WASyncdConst","WASyncdCryptoUtils","WASyncdKeyManagementUtils","WASyncdStoreMissingKeys","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: got key share for existing key with different key data\n            (timestampMismatch: ",", epochMismatch: ",", keyDataMismatch: ",",\n              currentIndexMismatch: ",", rowIdMismatch: ",", fingerprintMismatch: ",",\n              keyDataLengthMismatch: ",")"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: no previous in memory key for ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: details from previous in memory key for ",":\n              memory key id: ","\n              memory key device id: ","\n              memory key device epoch: ","\n              memory key timestamp: ","\n              memory key fingerprint device indexes: ","\n              memory key binary equal incoming binary? ","\n              memory key binary equal existing key binary? ","\n              memory key sharing device id: ","\n            "]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: all shared keys in payload: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: key share mismatch extra details:\n              existing timestamp: ",", new key timestamp: ","\n              existing fingerprint device indexes: ",", new key fingerprint device indexes: ","\n              existing key length: ",", new key length: ",",\n              sending client id: ",",\n              existing key device id: ","\n              new key device id: ","\n              existing key device epoch: ","\n              new key device epoch: ","\n              existing key id:  ","\n              new key id:  ","\n              index key id: ","\n          "]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: comparing fingerprint element "," index "," to ","\n            result: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: stored key share key id "," from device ",". payload key id: ",".\n        timestamp raw: ",". timestamp: ",". device from key id: ",". epoch ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: already have in memory key "," from device ","."]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: key share from device "," has no keys with keydata."]);q=function(){return a};return a}var r={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3},s=new Map();function a(a,c){return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c.some(function(a){return a.fullKey!=null})||d("WALogger").LOG(q(),a);e.next=3;return b("regeneratorRuntime").awrap((h||(h=b("Promise"))).all(c.map(function(e){var f,g,h,q,t,u,v,w,x,y,z,A,B;return b("regeneratorRuntime").async(function(C){while(1)switch(C.prev=C.next){case 0:f=e.keyId,g=e.fullKey;if(!(g==null)){C.next=3;break}return C.abrupt("return");case 3:h=d("WASyncdCryptoUtils").syncKeyIdToHex(f);C.next=6;return b("regeneratorRuntime").awrap(d("WAGetSyncKey").getSyncKeyInTransaction_DO_NOT_USE(f));case 6:q=C.sent;if(!(!q||d("WABaseGlobals").getConfig().syncShouldAllowOverrideKey())){C.next=15;break}C.next=10;return b("regeneratorRuntime").awrap(d("WAGetSyncKey").setSyncKeyInTransaction(g));case 10:s.has(h)&&d("WALogger").WARN(p(),h,a);s.set(h,{keyId:f,fullKey:g,sharingDeviceId:a});d("WALogger").LOG(o(),d("WASyncdCryptoUtils").syncKeyIdToHex(f),a,d("WASyncdCryptoUtils").syncKeyIdToHex(g.keyId),g.timestamp,new Date(g.timestamp).toLocaleString(void 0,r),d("WASyncdKeyManagementUtils").getKeyDeviceId(g.keyId),d("WASyncdKeyManagementUtils").getKeyEpoch(g.keyId));C.next=31;break;case 15:t=q.timestamp!==g.timestamp;u=q.keyEpoch!==g.keyEpoch;v=!d("WACryptoUtils").arrayBuffersEqual(q.keyData,g.keyData);w=q.keyData.byteLength!==g.keyData.byteLength;x=q.fingerprint.currentIndex!==g.fingerprint.currentIndex;y=q.fingerprint.rawId!==g.fingerprint.rawId;z=q.fingerprint.deviceIndexes.every(function(a,b){return a===g.fingerprint.deviceIndexes[b]});z&&q.fingerprint.deviceIndexes.every(function(a,b){d("WALogger").LOG(n(),a,b,g.fingerprint.deviceIndexes[b],a===g.fingerprint.deviceIndexes[b])});if(!v){C.next=31;break}C.next=26;return b("regeneratorRuntime").awrap(d("WABaseGlobals").getDbImpls().writeSyncdLog(d("WASyncdConst").CollectionName.CriticalBlock,"incoming shared key has mismatch with an existing key:\n            key id: "+d("WASyncdCryptoUtils").syncKeyIdToHex(g.keyId)+"\n            sending client id: "+a.toString()+"\n            timestamp: "+new Date(g.timestamp).toLocaleString(void 0,r)));case 26:d("WALogger").LOG(m(),new Date(q.timestamp).toLocaleString(void 0,r),new Date(g.timestamp).toLocaleString(void 0,r),q.fingerprint.deviceIndexes,g.fingerprint.deviceIndexes,q.keyData.byteLength,g.keyData.byteLength,a,d("WASyncdKeyManagementUtils").getKeyDeviceId(q.keyId),d("WASyncdKeyManagementUtils").getKeyDeviceId(g.keyId),d("WASyncdKeyManagementUtils").getKeyEpoch(q.keyId),d("WASyncdKeyManagementUtils").getKeyEpoch(g.keyId),d("WASyncdCryptoUtils").syncKeyIdToHex(q.keyId),d("WASyncdCryptoUtils").syncKeyIdToHex(g.keyId),d("WASyncdCryptoUtils").syncKeyIdToHex(f)),d("WALogger").LOG(l(),c.map(function(a){return d("WASyncdCryptoUtils").syncKeyIdToHex(a.keyId)})),A=s.get(h),A&&(B=A.fullKey,B?d("WALogger").WARN(k(),h,d("WASyncdCryptoUtils").syncKeyIdToHex(A.keyId),d("WASyncdKeyManagementUtils").getKeyDeviceId(A.keyId),d("WASyncdKeyManagementUtils").getKeyEpoch(A.keyId),new Date(B.timestamp).toLocaleString(void 0,r),B.fingerprint.deviceIndexes,d("WACryptoUtils").arrayBuffersEqual(B.keyData,g.keyData),d("WACryptoUtils").arrayBuffersEqual(B.keyData,q.keyData),A.sharingDeviceId):d("WALogger").LOG(j(),h)),d("WALogger").ERROR(i(),t,u,v,x,y,z,w).sendLogs("syncd: got key share for existing key with different key data");case 31:case"end":return C.stop()}},null,this)})));case 3:e.next=5;return b("regeneratorRuntime").awrap(d("WASyncdStoreMissingKeys").updateMissingKeys(c.map(function(a){var b=a.keyId;a=a.fullKey;return{keyId:b,keyData:a==null?void 0:a.keyData}}),a));case 5:return e.abrupt("return",d("WASyncd").syncBlockedCollections());case 6:case"end":return e.stop()}},null,this)}g.handleKeyShare=a}),98);
__d("WAWebMsgAckBridge",["Promise","WALogger","WAWebAck","WAWebMsgInfoCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["getHighestAcks: orphan ack "," for ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["getHighestAcks: orphan ack has 0 receipt for ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["getHighestAcks: no orphan ack found for ",""]);k=function(){return a};return a}function a(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=new Map();if(a.length===1){var e=(yield d("WAWebMsgInfoCollection").MsgInfoCollection.find(a[0].id));c.set(a[0].id.toString(),e)}else c=(yield d("WAWebMsgInfoCollection").MsgInfoCollection.findManyAndUpdate(a.map(function(a){return a.id})));var f=new Map();yield (h||(h=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var a=c.get(b.id.toString());if(!a){d("WALogger").LOG(k(),b.id);return null}var e=null,g=null;a.playedRemaining===0&&a.played.length!==0?(g=d("WAWebAck").ACK.PLAYED,e=a.played):a.readRemaining===0&&a.read.length!==0?(g=d("WAWebAck").ACK.READ,e=a.read):a.deliveryRemaining===0&&a.delivery.length!==0&&(g=d("WAWebAck").ACK.RECEIVED,e=a.delivery);if(g==null||e==null){d("WALogger").LOG(j(),b.id);return null}d("WALogger").LOG(i(),g,b.id);f.set(b.id.toString(),{ack:g,t:Math.max.apply(Math,e.map(function(a){return a.t})),to:b.to,from:b.from})});return function(b){return a.apply(this,arguments)}}()));return f});return l.apply(this,arguments)}g.getHighestAcks=a}),98);
__d("WAWebAckMsgAction",["WALogger","WAWebBackendApi","WAWebMessageReceiptBatcher","WAWebMsgAckBridge","WAWebMsgCollection","WAWebWid","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed: processOrphanReadReceipts failed!"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["processOrphanReadReceipts: skip for msgId: ",""]);j=function(){return a};return a}function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){if(b.latestEditMsgKey&&!b.latestEditMsgKey.equals(a))return;var f=e.ack;e=e.t;a=a.remote;b.updateAck(f);c("WAWebWid").isUser(a)&&(yield d("WAWebBackendApi").frontendSendAndReceive("updateMsgInfo",{updates:[{msgKey:b.id,ack:f,participant:a,ts:e}]}))});return l.apply(this,arguments)}function a(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebMessageReceiptBatcher").receiptBatcher.runActiveBatches();a=a.map(function(a){var b;b=(b=d("WAWebMsgCollection").MsgCollection.get(a))!=null?b:d("WAWebMsgCollection").MsgCollection.getByEditMsgKey(a);if(!b){d("WALogger").LOG(j(),String(a));return null}return b}).filter(Boolean);var e=(yield d("WAWebMsgAckBridge").getHighestAcks(a));a.forEach(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{var b=e.get(a.id.toString());if(!b||b.ack===a.ack)return;return k(a.id,a,b)}catch(a){c("gkx")("26258")?d("WALogger").ERROR(i()):d("WALogger").ERROR(h()).devConsole(a).sendLogs("processOrphanReadReceipts failed")}});return function(b){return a.apply(this,arguments)}}())});return m.apply(this,arguments)}g.updateMsgAck=k;g.processOrphanReadReceipts=a}),98);
__d("WAWebAdEntryPointsConfigurationAction",["Promise","WAWebAdEntryPointsConfigurationModel"],(function(a,b,c,d,e,f,g){var h;function a(a){d("WAWebAdEntryPointsConfigurationModel").notifyAdEntryPointsConfigurationLoaded(a);a.type==="success"?d("WAWebAdEntryPointsConfigurationModel").setAdEntryPointsConfiguration({entryPoints:a.entryPoints,locale:a.locale}):a.type==="recovery-required"?d("WAWebAdEntryPointsConfigurationModel").setAdEntryPointsConfiguration("failed-to-load-recovery-required"):(a.type,a.expiredConfiguration!=null&&d("WAWebAdEntryPointsConfigurationModel").setAdEntryPointsConfiguration({entryPoints:a.expiredConfiguration,locale:a.locale}));return(h||(h=b("Promise"))).resolve()}g.loadedAdEntryPointsConfiguration=a}),98);
__d("WAWebCommentAction",["WAAbortError","WALogger","WAWebChatCollection","WAWebCommentCollection","WAWebMsgType","WAWebNotificationBackend"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Comments] Aborted notification ",""]);h=function(){return a};return a}function i(a){return!a.read&&a.parentMsgKey.fromMe&&!a.id.fromMe}function a(a,b){var c=[];b=b?[].concat(b):[];for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;switch(g.type){case d("WAWebMsgType").MSG_TYPE.REVOKED:c.push(d("WAWebCommentCollection").createCommentModelFromRevoke(g));g.protocolMessageKey!=null&&b.push(g.protocolMessageKey);break;case d("WAWebMsgType").MSG_TYPE.CIPHERTEXT:c.push(d("WAWebCommentCollection").createCommentModelFromPlaceholder(g));break;case d("WAWebMsgType").MSG_TYPE.COMMENT:c.push(d("WAWebCommentCollection").createCommentModel(g))}}d("WAWebCommentCollection").CommentCollection.remove(b);d("WAWebCommentCollection").CommentCollection.set(c,{remove:!1})}function b(a){for(var b=0;b<a.length;b++){var c=a[b],e=c.id,f=c.t;if(e==null)continue;e=d("WAWebChatCollection").ChatCollection.get(e);if(e!=null){e.t=f;e.unreadCount=(f=c.unreadCount)!=null?f:e.unreadCount}}}function c(a,b){for(var a=a,c=Array.isArray(a),e=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;i(f)&&d("WAWebNotificationBackend").showCommentNotification(f)["catch"](d("WAAbortError").catchAbort(function(a){d("WALogger").LOG(h(),a)}))}for(f=b,e=Array.isArray(f),c=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(c>=f.length)break;a=f[c++]}else{c=f.next();if(c.done)break;a=c.value}b=a;d("WAWebNotificationBackend").removeCommentNotification(b)}}g.upsertCommentModelCollection=a;g.updateChatToLatest=b;g.handleCommentNotification=c}),98);
__d("WAWebDeleteExpiredPinsJob",["WALogger","WAWebAddonDeleteMsgs","WAWebOrchestratorNonPersistedJob","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Expired pins deletion failed"]);h=function(){return a};return a}function a(a){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("deleteExpiredPins",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield d("WAWebAddonDeleteMsgs").deleteAddonMsgsByParentKeys({parentMsgKeys:a})}catch(a){d("WALogger").ERROR(h());throw a}})).waitUntilCompleted()}g.deleteExpiredPins=a}),98);
__d("WAWebPinMessageAction",["WALogger","WANullthrows","WAWebDeleteExpiredPinsJob","WAWebMsgGetters","WAWebPinInChatCollection","WAWebPinMsgConstants","WAWebPinMsgGatingUtils","WAWebProtobufsE2E.pb","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["deleteExpiredPins: error deleting expired pins from DB: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["deleteExpiredPins Success"]);i=function(){return a};return a}function j(a){if(a===d("WAWebProtobufsE2E.pb").Message$PinInChatMessage$Type.PIN_FOR_ALL)return d("WAWebPinMsgConstants").PIN_STATE.PIN;else if(a===d("WAWebProtobufsE2E.pb").Message$PinInChatMessage$Type.UNPIN_FOR_ALL)return d("WAWebPinMsgConstants").PIN_STATE.UNPIN;return d("WAWebPinMsgConstants").PIN_STATE.INVALID}function k(a){var b=c("WANullthrows")(d("WAWebMsgGetters").getSender(a));a={msgKey:a.id,parentMsgKey:c("WANullthrows")(a.pinParentKey),senderTimestampMs:c("WANullthrows")(a.pinSenderTimestampMs),sender:d("WAWebWidFactory").toUserWid(b),pinType:j(a.pinMessageType),pinExpiryDuration:a.pinExpiryDuration,t:a.t,chatId:d("WAWebWidFactory").toChatWid(a.id.remote),ack:a.ack,read:d("WAWebUserPrefsMeUser").isMeAccount(b)};return a}function a(a,b){var c=new Map(),e=[];for(a of a){var f=k(a);if(f!=null){e.push(f);f=f.msgKey.remote;c.has(f.toString())||c.set(f.toString(),d("WAWebWidFactory").toChatWid(f))}}f=e.map(function(a){return babelHelpers["extends"]({id:d("WAWebPinInChatCollection").getPinInChatId(a.parentMsgKey)},a)});d("WAWebPinInChatCollection").PinInChatCollection.add(f,{merge:!0});a=[];for(f of b){b=d("WAWebPinInChatCollection").PinInChatCollection.getByMsgKey(f);if(b!=null){a.push(b.parentMsgKey);b=b.msgKey.remote;c.has(b.toString())||c.set(b.toString(),d("WAWebWidFactory").toChatWid(b))}}a.length&&d("WAWebPinInChatCollection").PinInChatCollection.remove(a.map(d("WAWebPinInChatCollection").getPinInChatId));for(b of c.values())d("WAWebPinInChatCollection").PinInChatCollection.byChatId(b).filter(function(a){return a.pinType===d("WAWebPinMsgConstants").PIN_STATE.PIN}).sort(function(a,b){return b.senderTimestampMs-a.senderTimestampMs}).slice(d("WAWebPinMsgGatingUtils").getMaxPins()).forEach(function(a){a.pinType=d("WAWebPinMsgConstants").PIN_STATE.UNPIN});return e}function l(a){var b=[],c=[];for(a of a)d("WAWebPinInChatCollection").isPinExpired(a)?c.push(a.parentMsgKey):b.push(a);return{validPins:b,expiredPinParentKeys:c}}function e(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=l(a);var b=a.validPins;a=a.expiredPinParentKeys;if(a.length>0)try{yield d("WAWebDeleteExpiredPinsJob").deleteExpiredPins(a.map(function(a){return a.toString()})),d("WALogger").LOG(i()),a.forEach(function(a){return d("WAWebPinInChatCollection").PinInChatCollection.deleteByParentMessageKey(a)})}catch(a){d("WALogger").ERROR(h(),a)}return b});return m.apply(this,arguments)}g.craftPinMessage=k;g.updatePinCollection=a;g.checkPinExpiration=l;g.seekAndDestroyExpiredPins=e}),98);
__d("WAWebPollsUpsertVotesModelCollectionMsgAction",["WAAbortError","WAAckLevel","WALogger","WAWebABProps","WAWebAddonGatingUtils","WAWebAddonHydrationUtils","WAWebFrontendMsgGetters","WAWebMaxPerGroup","WAWebMsgCollection","WAWebMsgGetters","WAWebMsgType","WAWebNotificationBackend","WAWebNotificationHelpers","WAWebPollsGatingUtils","WAWebPollsGetVoteKey","WAWebPollsPollVoteCollection","WAWebUserPrefsMeUser","asyncToGeneratorRuntime","lodash"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[upsertVotesModelCollection][notifications] Msg "," is not a pollCreationMsg, votes ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["rehydrated poll create msg from the db"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Polls] Aborted notification ",""]);j=function(){return a};return a}function a(a,e,f){f===void 0&&(f=!0);var g=d("WAWebMaxPerGroup").maxPerGroup(a,function(a){return a.senderTimestampMs},d("WAWebPollsGetVoteKey").getVoteKey);e=(e||[]).map(function(a){return d("WAWebPollsPollVoteCollection").PollVoteCollection.getByMsgKey(a)}).filter(Boolean);var k=[];for(g of g){var l=d("WAWebPollsPollVoteCollection").PollVoteCollection.getForParentAddressingModeInsensitive([g.parentMsgKey]);l=l[0];l=l.getVoteFromSenderAddressingModeInsensitive(g.sender);if(l!=null&&(l.senderTimestampMs>g.senderTimestampMs||l.msgKey.equals(g.msgKey))){d("WAWebAddonGatingUtils").isUnifiedInfraEnabledForType(d("WAWebMsgType").MSG_TYPE.POLL_UPDATE)&&l.ack!==g.ack&&(l.ack=g.ack,l.isSendFailure=g.ack===d("WAAckLevel").ACK.FAILED);continue}l!=null&&e.push(l);k.push(d("WAWebPollsPollVoteCollection").createPollVoteModel(babelHelpers["extends"]({},g,{isSendFailure:f&&g.ack===d("WAAckLevel").ACK.CLOCK&&d("WAWebUserPrefsMeUser").isMeAccount(g.sender)})))}k.length>0&&d("WAWebPollsPollVoteCollection").PollVoteCollection.add(k);e.length>0&&d("WAWebPollsPollVoteCollection").PollVoteCollection.remove(e);d("WAWebPollsGatingUtils").arePollsNotificationsEnabled()&&b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(f||d("WAWebNotificationHelpers").isOfflineResumeInProgress())return;var b=c("lodash").uniqBy(a.filter(function(a){return!d("WAWebUserPrefsMeUser").isMeAccount(a.sender)}).map(function(a){return a.parentMsgKey}),String),e=[],g=(yield d("WAWebMsgCollection").MsgCollection.hydrateOrGetMessages(Array.from(b,String))),k=function*(b){if(!d("WAWebMsgGetters").getIsSentByMe(b))return"continue";var c=d("WAWebFrontendMsgGetters").getAsPollCreation(b);if(c==null&&b.type===d("WAWebMsgType").MSG_TYPE.CIPHERTEXT&&d("WAWebABProps").getABPropConfigValue("offline_resume_orphan_addons_with_failed_parents")){d("WALogger").LOG(i());var f=(yield d("WAWebMsgCollection").MsgCollection.getMessagesById([b.id.toString()]));f=f.messages;c=d("WAWebFrontendMsgGetters").getAsPollCreation(f[0])}if(c==null){f=a.filter(function(a){return a.parentMsgKey.equals(b.id)}).map(function(a){return a.msgKey.toString()}).join(", ");d("WALogger").ERROR(h(),b.id,f).sendLogs("msg-type-"+b.type+"-not-poll-creation-msg")}else e.push(c)};for(g of g){var l=(yield* k(g));if(l==="continue")continue}yield d("WAWebAddonHydrationUtils").hydrateAddons({ids:b,hydrationType:d("WAWebMsgType").MSG_TYPE.POLL_UPDATE});for(l of e){k=d("WAWebPollsPollVoteCollection").PollVoteCollection.getForParentAddressingModeInsensitive([l.id]);g=k[0];g.getUnreadCount()>0&&d("WAWebNotificationBackend").showPollVoteNotification(l)["catch"](d("WAAbortError").catchAbort(function(a){d("WALogger").LOG(j(),a)}))}})()}g.upsertVotesModelCollection=a}),98);
__d("WAWebUpsertEventResponsesModelCollectionAction",["WAAckLevel","WANullthrows","WAWebEventResponseCollection","WAWebLidMigrationUtils","WAWebMsgGetters","WAWebPrepareEventResponsesToUpsert","WAWebUserPrefsMeUser","WAWebWid"],(function(a,b,c,d,e,f,g){function a(a,b){var e=(b||[]).map(function(a){return d("WAWebEventResponseCollection").EventResponseCollection.get(a)}).filter(Boolean),f=[];b=d("WAWebPrepareEventResponsesToUpsert").getNewestEventResponses(a);b.forEach(function(a){var b=c("WANullthrows")(d("WAWebMsgGetters").getSender(a)),g=d("WAWebEventResponseCollection").EventResponseCollection.byParent(a.parentMsgKey).findFirst(function(a){a=a.sender;return c("WAWebWid").equals.apply(c("WAWebWid"),d("WAWebLidMigrationUtils").toCommonAddressingMode(a,b))});g!=null&&!g.id.equals(a.id)&&e.push(g);f.push(d("WAWebEventResponseCollection").createEventResponseModel(babelHelpers["extends"]({},a,{isSendFailure:a.ack!=null&&a.ack<d("WAAckLevel").ACK.CLOCK&&d("WAWebUserPrefsMeUser").isMeAccount(b)})))});f.length>0&&d("WAWebEventResponseCollection").EventResponseCollection.add(f,{merge:!0});e.length>0&&d("WAWebEventResponseCollection").EventResponseCollection.remove(e)}g.upsertEventResponsesModelCollection=a}),98);
__d("WAWebAddOnsBridgeApi",["WAWebAddOnsUpdateSendStatesAction","WAWebCommentAction","WAWebMarkAddOnsAsReadAction","WAWebPinMessageAction","WAWebPollsPollVoteCollection","WAWebPollsUpsertVotesModelCollectionMsgAction","WAWebReactionsMsgAction","WAWebUpsertEventResponsesModelCollectionAction"],(function(a,b,c,d,e,f,g){a={updateAddOnCollectionAcks:function(a){a=a.updatesByType;d("WAWebAddOnsUpdateSendStatesAction").updateAddOnCollectionsSendStatesAction(a)},upsertVotesModelCollection:function(a){var b=a.votes,c=a.votesToRemove;a=a.restoredFromDb;d("WAWebPollsUpsertVotesModelCollectionMsgAction").upsertVotesModelCollection(b,c,a)},markAddOnsAsReadUi:function(a){a=a.updatedMsgKeys;d("WAWebMarkAddOnsAsReadAction").markAddOnsAsReadUiAction(a)},updatePinCollection:function(a){var b=a.msgs;a=a.removeMsgs;return d("WAWebPinMessageAction").updatePinCollection(b,a)},hasPollVotesInCollection:function(a){a=a.msgKeys;return a.map(function(a){return Boolean(d("WAWebPollsPollVoteCollection").PollVoteCollection.getByMsgKey(a))})},handleCommentNotification:function(a){var b=a.comments;a=a.revokes;d("WAWebCommentAction").handleCommentNotification(b,a)},upsertEventResponsesModelCollection:function(a){var b=a.eventResponses;a=a.eventResponsesToRemove;return d("WAWebUpsertEventResponsesModelCollectionAction").upsertEventResponsesModelCollection(b,a)},upsertCommentModelCollection:function(a){var b=a.comments;a=a.commentsToRemove;return d("WAWebCommentAction").upsertCommentModelCollection(b,a)},handleReactionNotification:function(a){a=a.reactions;d("WAWebReactionsMsgAction").handleReactionNotification(a)}};g.AddOnsBridgeApi=a}),98);
__d("WAWebArchivedDrawer.react",["fbt","WAWebApiChat","WAWebChat.react","WAWebChatCollection","WAWebChatCommunityUtils","WAWebCmd","WAWebCommunityGatingUtils","WAWebComposeBoxActions","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebEmptyState.react","WAWebFlatList.react","WAWebFlatListController","WAWebFocusTracer","WAWebKeyboardHotKeys.react","WAWebSettingsGetters","WAWebSingleSelection","WAWebUIRefreshGatingUtils","WAWebWDSText.react","react","useLazyRef","useWAWebListener","useWAWebSettingsValues"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useRef,n=b.useState,o=d("WAWebChat.react").ChatFactory(),p=d("WAWebFlatList.react").FlatListFactory();e=k.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.onClose,f=function(){return d("WAWebChatCollection").ChatCollection.filter(function(a){return a.archive&&a.shouldAppearInList})};a=d("useWAWebSettingsValues").useSettingsValues([d("WAWebSettingsGetters").getShowArchiveV2,d("WAWebSettingsGetters").getArchive]);var g=a[0],i=a[1];a=c("useLazyRef")(function(){return new(c("WAWebFlatListController"))()});var j=c("useLazyRef")(function(){return new(c("WAWebSingleSelection"))([],function(a){return a.id.toString()})}),q=m(null),r=n(f),s=r[0],t=r[1];r=function(a){var b=j.current.getVal();a===b&&j.current.unset()};var u=function(){return g};d("useWAWebListener").useListener(d("WAWebChatCollection").ChatCollection,[u()?"sort":null,"change:archive","add","remove"].filter(Boolean),function(){t(f())});var v=function(a){j.current.setVal(a,!1)};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"close_chat",r);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"update_chatlist_selection",v);r=function(){var a=d("WAWebChatCollection").ChatCollection.some(function(a){return a.archive});return a};var w=function(){return d("WAWebChatCollection").ChatCollection.toArray().find(function(a){return a.active&&a.archive})};l(function(){if(u()){var a=f(),b=new Map();a.forEach(function(a){a.archiveAtMentionViewedInDrawer=!0,b.set(a.id.toString(),!0)});d("WAWebApiChat").updateChatArchiveDrawer(b)}q.current&&c("WAWebFocusTracer").focus(q.current);a=w();a&&v(a)},[]);var x=function(){e()},y=function(a,b){d("WAWebCmd").Cmd.openChatFromUnread(b).then(function(a){a&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(b)}),i.enabled||x()},z=function(a){a.preventDefault(),a.stopPropagation(),j.current.setNext(!0)},A=function(a){a.preventDefault(),a.stopPropagation(),j.current.setPrev(!0)},B=function(){return s.map(function(a){return{itemKey:a.id.toString(),chat:a,height:d("WAWebCommunityGatingUtils").shouldShowNewSubgroupIdentity(a.groupMetadata)?d("WAWebChatCommunityUtils").SUBGROUP_V2_CHAT_CELL_HEIGHT:void 0}})};j.current.init(s,!0);var C;if(r()){r=h._("__JHASH__mr-G7SkLOWq__JHASH__",[h._implicitParam("=m2",k.jsx("span",{className:"x117nqv4",children:h._("__JHASH__RcpovFgViWh__JHASH__")}))]);var D=h._("__JHASH__EDLaLyXUlTJ__JHASH__",[h._implicitParam("=m2",k.jsx("span",{className:"x117nqv4",children:h._("__JHASH__d_gqvp1JFMj__JHASH__")}))]);C=k.jsx("div",{className:"xso031l x1q0q8m5 x1v2jjsl x1xnncb0",children:k.jsx("div",{className:"x1yrsyyn x4uap5 x10b6aqq xkhd6sd",children:k.jsx("div",{className:"x1yrsyyn xmns6w2 x10b6aqq xpkgp8e x1yc453h",children:k.jsx(d("WAWebWDSText.react").WDSTextMuted,{as:"p",children:g?r:D})})})})}if(s.length>0){r={down:z,up:A};D=k.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:q,handlers:r,children:[C,k.jsx(p,{className:"x6ikm8r x10wlt62",data:B(),flatListController:a.current,direction:"vertical",renderItem:function(a){return k.jsx(o,{chat:a.chat,mode:d("WAWebChat.react").Mode.LAST,active:j.current,onClick:y,hideArchivedIcon:i.enabled,hideMuteIcon:u(),hideMuteOption:u(),ephemeralIcon:"chat-list",showCommunityInfo:!0})}})]})}else D=k.jsx(d("WAWebEmptyState.react").Archived,{});z=i.enabled?h._("__JHASH__TQ2BuCO_4ej__JHASH__"):h._("__JHASH__IkojJE167d4__JHASH__");A=d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL;d("WAWebUIRefreshGatingUtils").sideNavSecondarySectionEnabled()&&(A=d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.TAB);return k.jsxs(c("WAWebDrawer.react"),{ref:b,theme:"archived",tsNavigationData:{surface:"archived-chats-drawer"},children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:z,onBack:x,type:A,menu:null}),k.jsx(c("WAWebDrawerBody.react"),{flatListControllers:[a.current],children:D})]})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),226);
__d("WAWebArchivedFlow.react",["$InternalEnum","WAWebArchivedDrawer.react","WAWebSettingsModel","react","useWAWebFlow"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=b("$InternalEnum").Mirrored(["Chats"]);function a(a){a=a.onEnd;a=d("useWAWebFlow").useFlow(j.Chats,{transitions:d("useWAWebFlow").FlowTransitions.DrawerRight,onEnd:a});var b=a[0],e=a[1];if(e.step==null)return null;var f;switch(e.step){case j.Chats:f=i.jsx(c("WAWebArchivedDrawer.react"),{settings:c("WAWebSettingsModel"),onClose:function(){e.pop()}});break}return i.jsx(b,{flow:e,children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebAttachMenuPopupItem.react",["WAWebDropdownItem.react","WAWebFlex.react","WAWebL10N","WAWebNoop","WAWebPopoverContext.react","WAWebTag.react","WAWebUISpacing","WAWebWDSTooltip.react","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useRef,m={container:{cursor:"x1ypdohk",height:"x1vqgdyp",$$css:!0},icon:{minWidth:"xt4ypqs",$$css:!0},text:{lineHeight:"xdod15v",color:"xzwifym",overflowX:"x6ikm8r",overflowY:"x10wlt62",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",$$css:!0},disabled:{opacity:"xbyyjgo",cursor:"x1h6gzvc",$$css:!0}};function a(a){var b=a.action,e=a.testid;e=a.icon;var f=a.text,g=a.children,h=a.disabled,j=a.tooltipIfDisabled;a=a.showcase;a=a===void 0?!1:a;var n=d("WAWebPopoverContext.react").useWDSPopoverControllerRef(),o=l(null),p;if(h===!0&&j!=null&&o!=null){j=k.jsx(d("WAWebWDSTooltip.react").WDSHoverTooltip,{targetRef:o,alignment:c("WAWebL10N").isRTL()?d("WAWebWDSTooltip.react").PopoverAlignment.End:d("WAWebWDSTooltip.react").PopoverAlignment.Start,position:d("WAWebWDSTooltip.react").PopoverPosition.Bottom,buffer:8,children:j});p=k.jsx(d("WAWebPopoverContext.react").WDSPopoverController,{targetRef:o,popover:j,controllerRef:n})}return k.jsx("div",{className:(i||(i=c("stylex")))([d("WAWebUISpacing").uiMargin.horiz8,h===!0&&m.disabled]),ref:o,children:k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:h===!0?c("WAWebNoop"):b,disabled:h,type:"attach-menu-popup",children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:[m.container,d("WAWebUISpacing").uiMargin.start8,d("WAWebUISpacing").uiMargin.end32],children:[k.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:[m.icon,d("WAWebUISpacing").uiMargin.end12],children:e}),k.jsx("span",{className:i([m.text]),children:f}),g,a?k.jsx("div",{className:(i||(i=c("stylex")))(d("WAWebUISpacing").uiMargin.start8),children:k.jsx(d("WAWebTag.react").Tag,{theme:d("WAWebTag.react").TagTheme.PrimaryPill,children:k.jsx("span",{children:"New"})})}):void 0,p]})})})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItem=a}),98);
__d("WAWebAttachMenuStrings",["fbt","WAWebBizGatingUtils"],(function(a,b,c,d,e,f,g,h){a=function(){return h._("__JHASH__vBBzBdxVAUq__JHASH__")};b=function(){return h._("__JHASH__GA0RDhsuo7p__JHASH__")};c=function(){return h._("__JHASH__W2r7MD1wI_x__JHASH__")};e=function(){return h._("__JHASH__E9ENGkXmHBW__JHASH__")};f=function(){return d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__bdV_YEjX9wV__JHASH__"):h._("__JHASH__i9gnkBhzxGe__JHASH__")};var i=function(){return h._("__JHASH__vWL3pR6QPV0__JHASH__")},j=function(){return h._("__JHASH__EQCv9IbBguC__JHASH__")},k=function(){return h._("__JHASH__wwViWu-hrcH__JHASH__")},l=function(){return h._("__JHASH__4vFEWcdb4Fe__JHASH__")},m=function(){return h._("__JHASH__tVhGIzG6OEY__JHASH__")},n=function(){return h._("__JHASH__lDY4sfdE2KU__JHASH__")};g.CameraText=a;g.CatalogText=b;g.ContactText=c;g.DocumentText=e;g.OrderText=f;g.PhotosAndVideosText=i;g.PollText=j;g.QuickRepliesText=k;g.StickerMakerText=l;g.AudioText=m;g.EventText=n}),226);
__d("WAWebWamEnumActionThreadTypeType",[],(function(a,b,c,d,e,f){a=Object.freeze({GROUP_CHAT:1,P2P_THREAD:2,MESSAGE_YOURSELF:3,META_AI:4,TO_CHARACTER:5,TO_UGC:6});f.ACTION_THREAD_TYPE_TYPE=a}),66);
__d("WAWebWamEnumAttachmentTrayActionTargetType",[],(function(a,b,c,d,e,f){a=Object.freeze({ATTACHMENT_TRAY:1,DOCUMENT:2,CAMERA:3,CAMERA_LIBRARY:4,GALLERY:5,PHOTO_AND_VIDEO_LIBRARY:6,AUDIO:7,LOCATION:8,CONTACT:9,POLL:10,PAYMENT:11,SHOP:12,ORDER:13,CATALOG:14,QUICK_REPLY:15,STICKER_MAKER:16,IMAGINE_EDIT:17,EVENT_CREATION:18,CALL_LINK_CREATION:19});f.ATTACHMENT_TRAY_ACTION_TARGET_TYPE=a}),66);
__d("WAWebWamEnumAttachmentTrayActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({CLICK:1,SEND:2,CANCEL:3});f.ATTACHMENT_TRAY_ACTION_TYPE=a}),66);
__d("WAWebWamEnumSendMediaTypeType",[],(function(a,b,c,d,e,f){a=Object.freeze({PHOTO:1,VIDEO:2,MIXED:3});f.SEND_MEDIA_TYPE_TYPE=a}),66);
__d("WAWebAttachmentTrayActionsWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumActionThreadTypeType","WAWebWamEnumAttachmentTrayActionTargetType","WAWebWamEnumAttachmentTrayActionType","WAWebWamEnumClientGroupSizeBucket","WAWebWamEnumSendMediaTypeType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({AttachmentTrayActions:[3980,{actionDurationMs:[1,a.TYPES.INTEGER],actionThreadType:[9,d("WAWebWamEnumActionThreadTypeType").ACTION_THREAD_TYPE_TYPE],attachmentTrayAction:[2,d("WAWebWamEnumAttachmentTrayActionType").ATTACHMENT_TRAY_ACTION_TYPE],attachmentTrayActionTarget:[3,d("WAWebWamEnumAttachmentTrayActionTargetType").ATTACHMENT_TRAY_ACTION_TARGET_TYPE],groupSizeBucket:[4,d("WAWebWamEnumClientGroupSizeBucket").CLIENT_GROUP_SIZE_BUCKET],isAGroup:[5,a.TYPES.BOOLEAN],isSuccessful:[6,a.TYPES.BOOLEAN],sendMediaType:[7,d("WAWebWamEnumSendMediaTypeType").SEND_MEDIA_TYPE_TYPE],sendTime:[8,a.TYPES.INTEGER]},[1,1,1],"regular"]},{AttachmentTrayActions:[]});g.AttachmentTrayActionsWamEvent=b}),98);
__d("WAWebAttachmentMenuLogger",["$InternalEnum","WANullthrows","WAWebABProps","WAWebAttachmentTrayActionsWamEvent","WAWebWamEnumAttachmentTrayActionTargetType","WAWebWamEnumAttachmentTrayActionType","WAWebWamNumberToClientGroupSizeBucket"],(function(a,b,c,d,e,f,g){var h=b("$InternalEnum").Mirrored(["OPEN","CLOSE"]),i=b("$InternalEnum").Mirrored(["SEND","CANCEL"]);a=function(){function a(){this.$1=null}var b=a.prototype;b.logAttachmentMenuOpen=function(a){a=new(d("WAWebAttachmentTrayActionsWamEvent").AttachmentTrayActionsWamEvent)(babelHelpers["extends"]({},j(h.OPEN,a),{actionDurationMs:0}));this.$2();m()&&a.commit()};b.logAttachmentMenuClose=function(a){a=new(d("WAWebAttachmentTrayActionsWamEvent").AttachmentTrayActionsWamEvent)(babelHelpers["extends"]({},j(h.CLOSE,a),{actionDurationMs:this.$3()}));this.$2();m()&&a.commit()};b.logAttachMenuClick=function(a,b){b=new(d("WAWebAttachmentTrayActionsWamEvent").AttachmentTrayActionsWamEvent)(babelHelpers["extends"]({attachmentTrayActionTarget:b,attachmentTrayAction:d("WAWebWamEnumAttachmentTrayActionType").ATTACHMENT_TRAY_ACTION_TYPE.CLICK},l(a),{actionDurationMs:this.$3()}));this.$2();m()&&b.commit()};b.logAttachmentSend=function(a,b){b=new(d("WAWebAttachmentTrayActionsWamEvent").AttachmentTrayActionsWamEvent)(babelHelpers["extends"]({},k(i.SEND,b,a),{actionDurationMs:this.$3()}));this.$2();m()&&b.commit()};b.logAttachmentCancel=function(a,b){b=new(d("WAWebAttachmentTrayActionsWamEvent").AttachmentTrayActionsWamEvent)(babelHelpers["extends"]({},k(i.CANCEL,b,a),{actionDurationMs:this.$3()}));this.$2();m()&&b.commit()};b.$2=function(){this.$1=Date.now()};b.$3=function(){return Date.now()-c("WANullthrows")(this.$1)};return a}();function j(a,b){return babelHelpers["extends"]({attachmentTrayActionTarget:d("WAWebWamEnumAttachmentTrayActionTargetType").ATTACHMENT_TRAY_ACTION_TARGET_TYPE.ATTACHMENT_TRAY,attachmentTrayAction:a===h.OPEN?d("WAWebWamEnumAttachmentTrayActionType").ATTACHMENT_TRAY_ACTION_TYPE.CLICK:d("WAWebWamEnumAttachmentTrayActionType").ATTACHMENT_TRAY_ACTION_TYPE.CANCEL},l(b))}function k(a,b,c){return babelHelpers["extends"]({attachmentTrayActionTarget:b,attachmentTrayAction:a===i.SEND?d("WAWebWamEnumAttachmentTrayActionType").ATTACHMENT_TRAY_ACTION_TYPE.SEND:d("WAWebWamEnumAttachmentTrayActionType").ATTACHMENT_TRAY_ACTION_TYPE.CANCEL},l(c))}function l(a){return{isAGroup:a.isGroup,groupSizeBucket:a.isGroup?c("WAWebWamNumberToClientGroupSizeBucket")(a.getParticipantCount()):void 0}}function m(){return d("WAWebABProps").getABPropConfigValue("attachment_tray_logging_enabled")}e=new a();g.AttachmentMenuTarget=d("WAWebWamEnumAttachmentTrayActionTargetType").ATTACHMENT_TRAY_ACTION_TARGET_TYPE;g.AttachmentMenuLogger=e}),98);
__d("WAWebAttachMenuPopupItemAudio.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebFilePicker.react","WAWebMimeTypes","WAWebMsgAudioIcon","WAWebPrepareMessageSendingAction","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useRef,l={icon:{color:"x10wjepd",$$css:!0}};function a(a){var b=a.chat,e=a.dismissMenu,f=a.multiple,g=a.onMediaPick,h=k();a=function(a){a.preventDefault();if(h.current!=null){h.current.open();void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.AUDIO);return!1}return!0};var i=function(a){if(!a){e();return}a.preventDefault();a=Array.from((a=a.target.files)!=null?a:[]);e();if(!a.length)return;g(a.map(function(a){return{file:a}}))};return j.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:j.jsx(d("WAWebMsgAudioIcon").MsgAudioIcon,{height:20,width:20,iconXstyle:l.icon}),text:d("WAWebAttachMenuStrings").AudioText(),children:j.jsx(c("WAWebFilePicker.react"),{ref:h,mimes:d("WAWebMimeTypes").AUDIO_MIMES,onChange:i,multiple:f})})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemAudio=a}),98);
__d("WAWebCameraFilledRefreshedIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="camera-filled-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M12 17.5C13.25 17.5 14.3125 17.0625 15.1875 16.1875C16.0625 15.3125 16.5 14.25 16.5 13C16.5 11.75 16.0625 10.6875 15.1875 9.8125C14.3125 8.9375 13.25 8.5 12 8.5C10.75 8.5 9.6875 8.9375 8.8125 9.8125C7.9375 10.6875 7.5 11.75 7.5 13C7.5 14.25 7.9375 15.3125 8.8125 16.1875C9.6875 17.0625 10.75 17.5 12 17.5ZM12 15.5C11.3 15.5 10.7083 15.2583 10.225 14.775C9.74167 14.2917 9.5 13.7 9.5 13C9.5 12.3 9.74167 11.7083 10.225 11.225C10.7083 10.7417 11.3 10.5 12 10.5C12.7 10.5 13.2917 10.7417 13.775 11.225C14.2583 11.7083 14.5 12.3 14.5 13C14.5 13.7 14.2583 14.2917 13.775 14.775C13.2917 15.2583 12.7 15.5 12 15.5ZM4 21C3.45 21 2.97917 20.8042 2.5875 20.4125C2.19583 20.0208 2 19.55 2 19V7C2 6.45 2.19583 5.97917 2.5875 5.5875C2.97917 5.19583 3.45 5 4 5H7.15L8.4 3.65C8.58333 3.45 8.80417 3.29167 9.0625 3.175C9.32083 3.05833 9.59167 3 9.875 3H14.125C14.4083 3 14.6792 3.05833 14.9375 3.175C15.1958 3.29167 15.4167 3.45 15.6 3.65L16.85 5H20C20.55 5 21.0208 5.19583 21.4125 5.5875C21.8042 5.97917 22 6.45 22 7V19C22 19.55 21.8042 20.0208 21.4125 20.4125C21.0208 20.8042 20.55 21 20 21H4Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CameraFilledRefreshedIcon=a}),98);
__d("WAWebAttachMenuPopupItemCamera.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebCameraFilledRefreshedIcon","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={refreshedIcon:{color:"x1cbnkk4",$$css:!0}};function a(a){var b=a.chat,c=a.onCaptureClick;a=function(){c();d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CAMERA);return!0};var e=i.jsxs("svg",{width:"20",height:"19",viewBox:"0 0 20 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M9.9999 13.04C8.16657 13.04 6.67479 11.5482 6.67479 9.71486C6.67479 7.88153 8.16657 6.38976 9.9999 6.38976C11.8332 6.38976 13.325 7.88153 13.325 9.71486C13.325 11.5482 11.8332 13.04 9.9999 13.04Z",fill:"var(--attachment-type-camera-color)"}),i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.606 1.6763C14.9347 2.23849 15.5121 2.60821 16.1634 2.60821H16.2429C18.3177 2.60821 20 4.29014 20 6.36531V14.8157C20 16.8902 18.3177 18.5725 16.2429 18.5725H3.7571C1.68226 18.5725 0 16.8902 0 14.8157V6.36531C0 4.29014 1.68226 2.60821 3.7571 2.60821H3.83661C4.48792 2.60821 5.06535 2.23849 5.39398 1.6763C5.98035 0.673833 7.06697 0 8.3126 0H11.6874C12.933 0 14.0193 0.673833 14.606 1.6763ZM9.9999 4.73333C7.25322 4.73333 5.01837 6.96818 5.01837 9.71486C5.01837 12.4615 7.25322 14.6964 9.9999 14.6964C12.7466 14.6964 14.9814 12.4615 14.9814 9.71486C14.9814 6.96818 12.7466 4.73333 9.9999 4.73333Z",fill:"var(--attachment-type-camera-color)"})]});return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:d("WAWebUIRefreshGatingUtils").listRefreshEnabled()?i.jsx(d("WAWebCameraFilledRefreshedIcon").CameraFilledRefreshedIcon,{iconXstyle:j.refreshedIcon}):e,text:d("WAWebAttachMenuStrings").CameraText()})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemCamera=a}),98);
__d("WAWebAttachProductModalLoadable",["fbt","JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingModal.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBizAttachProductModal.react").__setRef("WAWebAttachProductModalLoadable").load());return a}),"AttachProductModal");d=c("react-loadable")({loader:a,loading:function(a){return j.jsx(c("WAWebLoadingModal.react"),{title:h._("__JHASH__g_Xg1UUzHmM__JHASH__"),error:Boolean(a.error)})}});g.requireBundle=a;g.AttachProductModalLoadable=d}),226);
__d("WAWebAttachMenuPopupItemCatalog.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachProductModalLoadable","WAWebAttachmentMenuLogger","WAWebModalManager","WAWebPrepareMessageSendingAction","WAWebProductCatalogLogEvents","WAWebProductCatalogMetaLinkingGatingUtils","WAWebProductCatalogSession","WAWebUtilsLogQplEvents","react","useLazyRef"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.chat;a=a.disabled;var e=c("useLazyRef")(function(){return new(d("WAWebProductCatalogSession").ProductCatalogSession)()}),f=function(a){a.preventDefault();a=e.current.toString();if(a==null)return!0;d("WAWebProductCatalogLogEvents").logCatalogAttachmentButtonClick(a);d("WAWebUtilsLogQplEvents").qplStartCatalogView("Attachment");d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebAttachProductModalLoadable").AttachProductModalLoadable,{chat:b,sessionId:a,onSend:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CATALOG)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CATALOG)}}));void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CATALOG);return!0};return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:f,icon:i.jsx("svg",{width:"20",height:"16",viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.00007 2H17.0001C17.5501 2 18.0001 1.55 18.0001 1C18.0001 0.45 17.5501 0 17.0001 0H3.00007C2.45007 0 2.00007 0.45 2.00007 1C2.00007 1.55 2.45007 2 3.00007 2ZM18.1601 3.8C18.0701 3.34 17.6601 3 17.1801 3H2.82007C2.34007 3 1.93007 3.34 1.84007 3.8L0.840074 8.8C0.720074 9.42 1.19007 10 1.82007 10H2.00007V15C2.00007 15.55 2.45007 16 3.00007 16H11.0001C11.5501 16 12.0001 15.55 12.0001 15V10H16.0001V15C16.0001 15.55 16.4501 16 17.0001 16C17.5501 16 18.0001 15.55 18.0001 15V10H18.1801C18.8101 10 19.2801 9.42 19.1601 8.8L18.1601 3.8ZM4.00007 14H10.0001V10H4.00007V14Z",fill:"var(--attachment-type-catalog-color)"})}),text:d("WAWebAttachMenuStrings").CatalogText(),disabled:a,tooltipIfDisabled:a===!0?d("WAWebProductCatalogMetaLinkingGatingUtils").getDisabledMetaLinkedCatalogTooltipText():null})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemCatalog=a}),98);
__d("WAWebAttachVcardsFlowLoadable",["fbt","JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingModal.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebAttachVcardsFlow.react").__setRef("WAWebAttachVcardsFlowLoadable").load());return a}),"AttachVcardsFlow");d=c("react-loadable")({loader:a,loading:function(a){return j.jsx(c("WAWebLoadingModal.react"),{title:h._("__JHASH__0FKlgfRZkxG__JHASH__"),error:Boolean(a.error)})}});g.requireBundle=a;g.AttachVcardsFlowLoadable=d}),226);
__d("WAWebPersonFilledRefreshedIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="person-filled-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M12 11C10.7625 11 9.70312 10.5594 8.82188 9.67813C7.94063 8.79688 7.5 7.7375 7.5 6.5C7.5 5.2625 7.94063 4.20312 8.82188 3.32188C9.70312 2.44063 10.7625 2 12 2C13.2375 2 14.2969 2.44063 15.1781 3.32188C16.0594 4.20312 16.5 5.2625 16.5 6.5C16.5 7.7375 16.0594 8.79688 15.1781 9.67813C14.2969 10.5594 13.2375 11 12 11ZM5.25 21C4.63125 21 4.10156 20.7797 3.66094 20.3391C3.22031 19.8984 3 19.3687 3 18.75V17.85C3 17.2125 3.16406 16.6266 3.49219 16.0922C3.82031 15.5578 4.25625 15.15 4.8 14.8688C5.9625 14.2875 7.14375 13.8516 8.34375 13.5609C9.54375 13.2703 10.7625 13.125 12 13.125C13.2375 13.125 14.4563 13.2703 15.6562 13.5609C16.8562 13.8516 18.0375 14.2875 19.2 14.8688C19.7438 15.15 20.1797 15.5578 20.5078 16.0922C20.8359 16.6266 21 17.2125 21 17.85V18.75C21 19.3687 20.7797 19.8984 20.3391 20.3391C19.8984 20.7797 19.3687 21 18.75 21H5.25Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.PersonFilledRefreshedIcon=a}),98);
__d("WAWebAttachMenuPopupItemContacts.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachVcardsFlowLoadable","WAWebAttachmentMenuLogger","WAWebModalManager","WAWebPersonFilledRefreshedIcon","WAWebPrepareMessageSendingAction","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={refreshedIcon:{color:"x19hyexh",$$css:!0}};function a(a){var b=a.chat,c=a.onMenuComplete;a=function(a){a.preventDefault();d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebAttachVcardsFlowLoadable").AttachVcardsFlowLoadable,{chat:b,onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CONTACT)},onContactsSent:function(){c==null?void 0:c(!0),d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CONTACT)}}));void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CONTACT);return!0};var e=i.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C12 6.21 10.21 8 8 8C5.79 8 4 6.21 4 4C4 1.79 5.79 0 8 0C10.21 0 12 1.79 12 4ZM0 14C0 11.34 5.33 10 8 10C10.67 10 16 11.34 16 14V15C16 15.55 15.55 16 15 16H1C0.45 16 0 15.55 0 15V14Z",fill:"var(--attachment-type-contacts-color)"})});return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:d("WAWebUIRefreshGatingUtils").listRefreshEnabled()?i.jsx(d("WAWebPersonFilledRefreshedIcon").PersonFilledRefreshedIcon,{iconXstyle:j.refreshedIcon}):e,text:d("WAWebAttachMenuStrings").ContactText()})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemContacts=a}),98);
__d("WAWebDocumentFilledRefreshedIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="document-filled-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M9 18H15C15.2833 18 15.5208 17.9042 15.7125 17.7125C15.9042 17.5208 16 17.2833 16 17C16 16.7167 15.9042 16.4792 15.7125 16.2875C15.5208 16.0958 15.2833 16 15 16H9C8.71667 16 8.47917 16.0958 8.2875 16.2875C8.09583 16.4792 8 16.7167 8 17C8 17.2833 8.09583 17.5208 8.2875 17.7125C8.47917 17.9042 8.71667 18 9 18ZM9 14H15C15.2833 14 15.5208 13.9042 15.7125 13.7125C15.9042 13.5208 16 13.2833 16 13C16 12.7167 15.9042 12.4792 15.7125 12.2875C15.5208 12.0958 15.2833 12 15 12H9C8.71667 12 8.47917 12.0958 8.2875 12.2875C8.09583 12.4792 8 12.7167 8 13C8 13.2833 8.09583 13.5208 8.2875 13.7125C8.47917 13.9042 8.71667 14 9 14ZM6 22C5.45 22 4.97917 21.8042 4.5875 21.4125C4.19583 21.0208 4 20.55 4 20V4C4 3.45 4.19583 2.97917 4.5875 2.5875C4.97917 2.19583 5.45 2 6 2H13.175C13.4417 2 13.6958 2.05 13.9375 2.15C14.1792 2.25 14.3917 2.39167 14.575 2.575L19.425 7.425C19.6083 7.60833 19.75 7.82083 19.85 8.0625C19.95 8.30417 20 8.55833 20 8.825V20C20 20.55 19.8042 21.0208 19.4125 21.4125C19.0208 21.8042 18.55 22 18 22H6ZM13 8C13 8.28333 13.0958 8.52083 13.2875 8.7125C13.4792 8.90417 13.7167 9 14 9H18L13 4V8Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.DocumentFilledRefreshedIcon=a}),98);
__d("WAWebAttachMenuPopupItemDocuments.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebDocumentFilledRefreshedIcon","WAWebFilePicker.react","WAWebFileUtils","WAWebMimeTypes","WAWebPrepareMessageSendingAction","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useRef,l={refreshedIcon:{color:"x19mqsdy",$$css:!0}};function a(a){var b=a.chat,e=a.dismissMenu,f=a.onDocumentPick,g=k();a=function(a){a.preventDefault();if(g.current){g.current.open();void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.DOCUMENT);return!1}return!0};var h=function(a){a.stopPropagation();a=a.target.files==null?[]:Array.from(a.target.files);e();if(!a.length)return;a=a.map(function(a){return{file:a,type:d("WAWebFileUtils").FILETYPE.DOCUMENT}});f(a)},i=j.jsx("svg",{height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 0C0.9 0 0.01 0.9 0.01 2L0 18C0 19.1 0.89 20 1.99 20H14C15.1 20 16 19.1 16 18V6.83C16 6.3 15.79 5.79 15.41 5.42L10.58 0.59C10.21 0.21 9.7 0 9.17 0H2ZM9 6V1.5L14.5 7H10C9.45 7 9 6.55 9 6ZM4 10C3.44772 10 3 10.4477 3 11C3 11.5523 3.44772 12 4 12H12C12.5523 12 13 11.5523 13 11C13 10.4477 12.5523 10 12 10H4ZM10 15C10 14.4477 9.55228 14 9 14H4C3.44772 14 3 14.4477 3 15C3 15.5523 3.44772 16 4 16H9C9.55228 16 10 15.5523 10 15Z",fill:"var(--attachment-type-documents-color)"})});return j.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:d("WAWebUIRefreshGatingUtils").listRefreshEnabled()?j.jsx(d("WAWebDocumentFilledRefreshedIcon").DocumentFilledRefreshedIcon,{iconXstyle:l.refreshedIcon}):i,text:d("WAWebAttachMenuStrings").DocumentText(),children:j.jsx(c("WAWebFilePicker.react"),{ref:g,mimes:d("WAWebMimeTypes").DOC_MIMES,onChange:h})})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemDocuments=a}),98);
__d("WAWebCalendarFilledIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="calendar-filled";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=20;m=18;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 18 20",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M11.4306 15.8334C10.75 15.8334 10.1748 15.5984 9.70486 15.1285C9.23495 14.6586 9 14.0834 9 13.4028C9 12.7223 9.23495 12.147 9.70486 11.6771C10.1748 11.2072 10.75 10.9723 11.4306 10.9723C12.1111 10.9723 12.6863 11.2072 13.1562 11.6771C13.6262 12.147 13.8611 12.7223 13.8611 13.4028C13.8611 14.0834 13.6262 14.6586 13.1562 15.1285C12.6863 15.5984 12.1111 15.8334 11.4306 15.8334ZM2.19444 19.7223C1.65972 19.7223 1.20197 19.5319 0.821181 19.1511C0.440394 18.7703 0.25 18.3126 0.25 17.7778V4.16672C0.25 3.632 0.440394 3.17424 0.821181 2.79346C1.20197 2.41267 1.65972 2.22228 2.19444 2.22228H3.16667V1.25005C3.16667 0.974591 3.25984 0.743688 3.44618 0.557346C3.63252 0.371003 3.86343 0.277832 4.13889 0.277832C4.41435 0.277832 4.64525 0.371003 4.8316 0.557346C5.01794 0.743688 5.11111 0.974591 5.11111 1.25005V2.22228H12.8889V1.25005C12.8889 0.974591 12.9821 0.743688 13.1684 0.557346C13.3547 0.371003 13.5856 0.277832 13.8611 0.277832C14.1366 0.277832 14.3675 0.371003 14.5538 0.557346C14.7402 0.743688 14.8333 0.974591 14.8333 1.25005V2.22228H15.8056C16.3403 2.22228 16.798 2.41267 17.1788 2.79346C17.5596 3.17424 17.75 3.632 17.75 4.16672V17.7778C17.75 18.3126 17.5596 18.7703 17.1788 19.1511C16.798 19.5319 16.3403 19.7223 15.8056 19.7223H2.19444ZM2.19444 17.7778H15.8056V8.05561H2.19444V17.7778Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CalendarFilledIcon=a}),98);
__d("WAWebCalendarFilledRefreshedIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="calendar-filled-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M14.5 18C13.8 18 13.2083 17.7583 12.725 17.275C12.2417 16.7917 12 16.2 12 15.5C12 14.8 12.2417 14.2083 12.725 13.725C13.2083 13.2417 13.8 13 14.5 13C15.2 13 15.7917 13.2417 16.275 13.725C16.7583 14.2083 17 14.8 17 15.5C17 16.2 16.7583 16.7917 16.275 17.275C15.7917 17.7583 15.2 18 14.5 18ZM5 22C4.45 22 3.97917 21.8042 3.5875 21.4125C3.19583 21.0208 3 20.55 3 20V6C3 5.45 3.19583 4.97917 3.5875 4.5875C3.97917 4.19583 4.45 4 5 4H6V3C6 2.71667 6.09583 2.47917 6.2875 2.2875C6.47917 2.09583 6.71667 2 7 2C7.28333 2 7.52083 2.09583 7.7125 2.2875C7.90417 2.47917 8 2.71667 8 3V4H16V3C16 2.71667 16.0958 2.47917 16.2875 2.2875C16.4792 2.09583 16.7167 2 17 2C17.2833 2 17.5208 2.09583 17.7125 2.2875C17.9042 2.47917 18 2.71667 18 3V4H19C19.55 4 20.0208 4.19583 20.4125 4.5875C20.8042 4.97917 21 5.45 21 6V20C21 20.55 20.8042 21.0208 20.4125 21.4125C20.0208 21.8042 19.55 22 19 22H5ZM5 20H19V10H5V20Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CalendarFilledRefreshedIcon=a}),98);
__d("WAWebAttachMenuPopupItemEvents",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebCalendarFilledIcon","WAWebCalendarFilledRefreshedIcon","WAWebEventsCreateEventModal","WAWebModalManager","WAWebNux","WAWebPrepareMessageSendingAction","WAWebUIRefreshGatingUtils","react","useWAWebNux"],(function(a,b,c,d,e,f,g){var h,i=h||d("react"),j={icon:{color:"xkgndj",$$css:!0}};function a(a){var b=a.chat;a=c("useWAWebNux")(d("WAWebNux").NUX.EVENT_CREATE);var e=a[0],f=a[1];function g(a){a.preventDefault();f();d("WAWebModalManager").ModalManager.open(i.jsx(c("WAWebEventsCreateEventModal"),{chat:b}),{blockClose:!0});void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);return!0}return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:g,icon:d("WAWebUIRefreshGatingUtils").listRefreshEnabled()?i.jsx(d("WAWebCalendarFilledRefreshedIcon").CalendarFilledRefreshedIcon,{iconXstyle:j.icon}):i.jsx(d("WAWebCalendarFilledIcon").CalendarFilledIcon,{iconXstyle:j.icon,height:20,"aria-hidden":!0}),text:d("WAWebAttachMenuStrings").EventText(),showcase:e})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemEvents=a}),98);
__d("WAWebAttachMenuPopupItemOrders.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebBizEntryPoint","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebDrawerManager","WAWebModalManager","WAWebOrderCreationFlowLoadable","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderExpansionNotSupportedPopup.react","WAWebOrdersExpansionUtils","WAWebSmbDataSharingOptInModalDialog","WAWebUserPrefsMeUser","WAWebWamEnumOrderDetailsCreationAction","WAWebWamEnumSmbDataSharingConsentScreenEntryPoint","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.chat;a=function(){new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.CLICK_ORDER_FROM_ICON_MENU,actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_CREATION),orderDetailEntryPoint:String(c("WAWebBizEntryPoint").MERCHANT_INITIATED),hasCatalog:d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMeUser()))}).commit();var a=function(){d("WAWebDrawerManager").DrawerManager.openDrawerRight(i.jsx(c("WAWebOrderCreationFlowLoadable"),{entryPoint:c("WAWebBizEntryPoint").MERCHANT_INITIATED,chat:b,onSend:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.ORDER)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.ORDER)}}),{transition:"slide-left"}),d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.ORDER)};c("WAWebSmbDataSharingOptInModalDialog").maybeShowOrderDataSharingDialog(b,a,d("WAWebWamEnumSmbDataSharingConsentScreenEntryPoint").SMB_DATA_SHARING_CONSENT_SCREEN_ENTRY_POINT.NEW_ORDER);return!0};var e=!d("WAWebOrdersExpansionUtils").isOrderExpansionEnabled()&&d("WAWebOrdersExpansionUtils").isSellerCountrySameAsBuyer(b)||d("WAWebOrdersExpansionUtils").isContactCountrySupported(b);e||(a=function(){d("WAWebModalManager").ModalManager.open(i.jsx(c("WAWebOrderExpansionNotSupportedPopup.react"),{chat:b}));return!1});return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:i.jsx("svg",{opacity:e?1:.3,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M20 3.29721C19.8845 3.29721 19.7689 3.34169 19.6889 3.43055L18.9867 4.13282C18.8089 4.31055 18.5333 4.31055 18.3555 4.13282L17.6533 3.43055C17.4755 3.25282 17.2 3.25282 17.0222 3.43055L16.32 4.13282C16.1422 4.31055 15.8667 4.31055 15.6889 4.13282L14.9867 3.43055C14.8089 3.25282 14.5333 3.25282 14.3555 3.43055L13.6533 4.13282C13.4755 4.31055 13.2 4.31055 13.0222 4.13282L12.32 3.43055C12.1422 3.25282 11.8667 3.25282 11.6889 3.43055L10.9867 4.13282C10.8089 4.31055 10.5333 4.31055 10.3555 4.13282L9.64447 3.42168C9.46667 3.24388 9.19114 3.24388 9.01333 3.42168L8.31114 4.13282C8.13333 4.31055 7.85781 4.31055 7.68 4.13282L6.97781 3.42168C6.8 3.24388 6.52447 3.24388 6.34667 3.42168L5.64447 4.13282C5.46667 4.31055 5.19114 4.31055 5.01333 4.13282L4.31114 3.42168C4.23114 3.34168 4.11553 3.29721 4 3.29721V20.7106C4.11553 20.7106 4.23114 20.6662 4.31114 20.5772L5.01333 19.875C5.19114 19.6972 5.46667 19.6972 5.64447 19.875L6.34667 20.5772C6.52447 20.755 6.8 20.755 6.97781 20.5772L7.68 19.875C7.85781 19.6972 8.13333 19.6972 8.31114 19.875L9.01333 20.5772C9.19114 20.755 9.46667 20.755 9.64447 20.5772L10.3467 19.875C10.5245 19.6972 10.8 19.6972 10.9778 19.875L11.68 20.5772C11.8578 20.755 12.1333 20.755 12.3111 20.5772L13.0133 19.875C13.1911 19.6972 13.4667 19.6972 13.6445 19.875L14.3467 20.5772C14.5245 20.755 14.8 20.755 14.9778 20.5772L15.68 19.875C15.8578 19.6972 16.1333 19.6972 16.3111 19.875L17.0133 20.5772C17.1911 20.755 17.4667 20.755 17.6445 20.5772L18.3467 19.875C18.5245 19.6972 18.8 19.6972 18.9778 19.875L19.68 20.5772C19.7689 20.6662 19.8845 20.7106 19.9911 20.7106V3.29721H20ZM16.4445 16.4439H7.55553C7.06667 16.4439 6.66667 16.0439 6.66667 15.555C6.66667 15.0662 7.06667 14.6662 7.55553 14.6662H16.4445C16.9333 14.6662 17.3333 15.0662 17.3333 15.555C17.3333 16.0439 16.9333 16.4439 16.4445 16.4439ZM16.4445 12.8884H7.55553C7.06667 12.8884 6.66667 12.4884 6.66667 11.9995C6.66667 11.5106 7.06667 11.1106 7.55553 11.1106H16.4445C16.9333 11.1106 17.3333 11.5106 17.3333 11.9995C17.3333 12.4884 16.9333 12.8884 16.4445 12.8884ZM16.4445 9.33283H7.55553C7.06667 9.33283 6.66667 8.93283 6.66667 8.44388C6.66667 7.95502 7.06667 7.55502 7.55553 7.55502H16.4445C16.9333 7.55502 17.3333 7.95502 17.3333 8.44388C17.3333 8.93283 16.9333 9.33283 16.4445 9.33283Z",fill:"var(--attachment-type-orders-color)"})}),text:d("WAWebAttachMenuStrings").OrderText()})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemOrders=a}),98);
__d("WAWebMediaFilledRefreshedIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="media-filled-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M13.25 12.5L12.1 11C12 10.8667 11.8667 10.8 11.7 10.8C11.5333 10.8 11.4 10.8667 11.3 11L9.625 13.2C9.49167 13.3667 9.47083 13.5417 9.5625 13.725C9.65417 13.9083 9.80833 14 10.025 14H17.975C18.1917 14 18.3458 13.9083 18.4375 13.725C18.5292 13.5417 18.5083 13.3667 18.375 13.2L15.95 10.025C15.85 9.89167 15.7167 9.825 15.55 9.825C15.3833 9.825 15.25 9.89167 15.15 10.025L13.25 12.5ZM8 18C7.45 18 6.97917 17.8042 6.5875 17.4125C6.19583 17.0208 6 16.55 6 16V4C6 3.45 6.19583 2.97917 6.5875 2.5875C6.97917 2.19583 7.45 2 8 2H20C20.55 2 21.0208 2.19583 21.4125 2.5875C21.8042 2.97917 22 3.45 22 4V16C22 16.55 21.8042 17.0208 21.4125 17.4125C21.0208 17.8042 20.55 18 20 18H8ZM4 22C3.45 22 2.97917 21.8042 2.5875 21.4125C2.19583 21.0208 2 20.55 2 20V7C2 6.71667 2.09583 6.47917 2.2875 6.2875C2.47917 6.09583 2.71667 6 3 6C3.28333 6 3.52083 6.09583 3.7125 6.2875C3.90417 6.47917 4 6.71667 4 7V20H17C17.2833 20 17.5208 20.0958 17.7125 20.2875C17.9042 20.4792 18 20.7167 18 21C18 21.2833 17.9042 21.5208 17.7125 21.7125C17.5208 21.9042 17.2833 22 17 22H4Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MediaFilledRefreshedIcon=a}),98);
__d("WAWebAttachMenuPopupItemPhotos.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebFilePicker.react","WAWebMediaFilledRefreshedIcon","WAWebMimeTypes","WAWebPrepareMessageSendingAction","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useRef,l=[d("WAWebMimeTypes").IMAGE_MIMES,d("WAWebMimeTypes").VIDEO_MIMES].join(","),m={refreshedIcon:{color:"xihbb3s",$$css:!0}};function a(a){var b=a.chat,e=a.dismissMenu,f=a.multiple,g=a.onMediaPick,h=k();a=function(a){a.preventDefault();if(h.current!=null){h.current.open();void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.PHOTO_AND_VIDEO_LIBRARY);return!1}return!0};var i=function(a){if(!a){e();return}a.stopPropagation();a=Array.from((a=a.target.files)!=null?a:[]);e();if(!a.length)return;g(a.map(function(a){return{file:a}}))},n=j.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 14V2C20 0.9 19.1 0 18 0H6C4.9 0 4 0.9 4 2V14C4 15.1 4.9 16 6 16H18C19.1 16 20 15.1 20 14ZM9.4 10.53L11.03 12.71L13.61 9.49C13.81 9.24 14.19 9.24 14.39 9.49L17.35 13.19C17.61 13.52 17.38 14 16.96 14H7C6.59 14 6.35 13.53 6.6 13.2L8.6 10.53C8.8 10.27 9.2 10.27 9.4 10.53ZM0 18V5C0 4.45 0.45 4 1 4C1.55 4 2 4.45 2 5V17C2 17.55 2.45 18 3 18H15C15.55 18 16 18.45 16 19C16 19.55 15.55 20 15 20H2C0.9 20 0 19.1 0 18Z",fill:"var(--attachment-type-photos-color)"})});return j.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:d("WAWebUIRefreshGatingUtils").listRefreshEnabled()?j.jsx(d("WAWebMediaFilledRefreshedIcon").MediaFilledRefreshedIcon,{iconXstyle:m.refreshedIcon}):n,text:d("WAWebAttachMenuStrings").PhotosAndVideosText(),children:j.jsx(c("WAWebFilePicker.react"),{ref:h,mimes:l,onChange:i,multiple:f})})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemPhotos=a}),98);
__d("WAWebPollFilledRefreshedIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="poll-filled-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M4 18C4 17.45 4.19583 16.9792 4.5875 16.5875C4.97917 16.1958 5.45 16 6 16H10C10.55 16 11.0208 16.1958 11.4125 16.5875C11.8042 16.9792 12 17.45 12 18C12 18.55 11.8042 19.0208 11.4125 19.4125C11.0208 19.8042 10.55 20 10 20H6C5.45 20 4.97917 19.8042 4.5875 19.4125C4.19583 19.0208 4 18.55 4 18ZM4 12C4 11.45 4.19583 10.9792 4.5875 10.5875C4.97917 10.1958 5.45 10 6 10H18C18.55 10 19.0208 10.1958 19.4125 10.5875C19.8042 10.9792 20 11.45 20 12C20 12.55 19.8042 13.0208 19.4125 13.4125C19.0208 13.8042 18.55 14 18 14H6C5.45 14 4.97917 13.8042 4.5875 13.4125C4.19583 13.0208 4 12.55 4 12ZM4 6C4 5.45 4.19583 4.97917 4.5875 4.5875C4.97917 4.19583 5.45 4 6 4L14 4C14.55 4 15.0208 4.19583 15.4125 4.5875C15.8042 4.97917 16 5.45 16 6C16 6.55 15.8042 7.02083 15.4125 7.4125C15.0208 7.80417 14.55 8 14 8H6C5.45 8 4.97917 7.80417 4.5875 7.4125C4.19583 7.02083 4 6.55 4 6Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.PollFilledRefreshedIcon=a}),98);
__d("WAWebPollsOptionInput",["fbt","WAWebPollsGatingUtils","WAWebRichTextField.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.error,c=a.initialText,e=a.onChange,f=a.onDragThumbMouseDown,g=a.onInputBlur,i=a.onInputFocus,k=a.onTextInputRef;a=a.testid;return j.jsx("div",{className:"xh8yej3",children:j.jsx("div",{className:"xh8yej3 x78zum5 x6s0dn4",children:j.jsx("div",{className:"xh8yej3",children:j.jsx(d("WAWebRichTextField.react").RichTextField,{ref:function(a){k(a)},testid:void 0,hideFloatingLabel:!0,showRemaining:!0,emojiBtnPosition:"side",textFormatEnabled:!0,value:c,error:(a=b)!=null?a:void 0,maxLength:d("WAWebPollsGatingUtils").getMaxPollOptionLength(),maxCodeUnits:d("WAWebPollsGatingUtils").getMaxPollOptionLengthForIncomingMessages(),placeholder:h._("__JHASH__8-OxKwrJ4aw__JHASH__"),onChange:function(a){a=a.text;return e(a)},onDragThumbMouseDown:f,onFocus:i,onBlur:g})})})})}a.displayName=a.name+" [from "+f.id+"]";g.OptionInput=a}),226);
__d("WAWebPollsOrderableList",["WANullthrows","react","stylex","useLazyRef","useWAWebDebouncedCallback","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useEffect,m=b.useRef,n=b.useState,o={itemWrapper:{width:"xh8yej3",$$css:!0},itemWrapperEasing:{transitionProperty:"x11xpdln",transitionDuration:"x13dflua",transitionTimingFunction:"xz4gly6",$$css:!0}};function a(a){var b=a.items,e=a.renderItem,f=a.onReordered,g=m(null),h=c("useLazyRef")(function(){return new Map()}),j=m(0);a=n();var l=a[0],r=a[1];a=n(null);var s=a[0],t=a[1];a=n(null);var u=a[0],v=a[1];a=n(null);var w=a[0],x=a[1],y=w!=null,z=w==null||u==null||l==null?b:p({items:w,draggedItemKey:s,getItemHeight:function(a){return(a=(a=l.get(a.key))==null?void 0:a.height)!=null?a:0},dragPosition:u}),A=function(a){var b=g.current;if(b==null)return null;var c=h.current;c=c.get(a);if(c==null)return null;a=b.getBoundingClientRect().y;b=c.getBoundingClientRect();return{clientTop:b.top,startTop:b.top-a,height:b.height}},B=function(){var a=new Map();for(var c=b,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;a.set(f.key,A(f.key))}r(a)};a=function(a){var b=g.current;if(b==null)return;a=a.clientY-b.getBoundingClientRect().y;v(a)};d("useWAWebListener").useListener(s==null?null:document,"mousemove",a);var C=c("useWAWebDebouncedCallback")(function(){x(null),r(null)},300),D=function(a,c){var d;if(w!=null)return;d=(d=A(a))==null?void 0:d.clientTop;if(d==null)return;j.current=d-c.clientY;B();t(a);x(b)};d("useWAWebListener").useListener(s==null?null:document,"mouseup",function(a){C(),f(z),t(null),v(null)});q(s!=null);var E=null,F=0,G=0;if(l!=null){E=new Map();a=0;for(var H=z,I=Array.isArray(H),J=0,H=I?H:H[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var K;if(I){if(J>=H.length)break;K=H[J++]}else{J=H.next();if(J.done)break;K=J.value}K=K;var L=l.get(K.key);if(L==null)continue;var M=a;E.set(K.key,M);F=M;a+=L.height}}M=((K=w)!=null?K:b).map(function(b,d){var a=l==null?void 0:l.get(b.key);if(b.key===s&&u!=null){var f,g=c("WANullthrows")(a==null?void 0:a.startTop);f=(f=j.current)!=null?f:0;f=Math.min(Math.max(G,u+f),F);f=f-g}else{g=a==null?void 0:a.startTop;a=(a=E)==null?void 0:a.get(b.key);f=!y||a==null||g==null?0:a-g}return k.jsx("div",{ref:function(a){a==null?h.current["delete"](b.key):h.current.set(b.key,a)},className:(i||(i=c("stylex")))(o.itemWrapper,s!==b.key&&y?o.itemWrapperEasing:void 0),style:{transform:"translateY("+f+"px)"},children:e({item:b,startDrag:D,index:d})},b.key)});return k.jsx("div",{ref:g,className:"x78zum5 xdt5ytf",children:M})}a.displayName=a.name+" [from "+f.id+"]";function p(a){var b=a.items,c=a.draggedItemKey,d=a.getItemHeight;a=a.dragPosition;var e=c!=null?b.find(function(a){return a.key===c}):null;if(e==null||a==null)return b;var f=[].concat(b),g=f.findIndex(function(a){return a.key===c});f.splice(g,1);g=0;var h=0,i=0;for(var b=b,j=Array.isArray(b),k=0,b=j?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=b.length)break;l=b[k++]}else{k=b.next();if(k.done)break;l=k.value}l=l;a>g&&(i=h);l=d(l);g+=l;h++}f.splice(i,0,e);return f}function q(a){l(function(){if(!a)return;var b=document;b=b.body;if(b==null)return;var c=document.createElement("div");c.className="xi9pz9s xixxii4 x13vifvy x17qophe xh8yej3 x5yr21d x1lfen1e";b.appendChild(c);return function(){c.remove()}},[a])}g.OrderableList=a}),98);
__d("WAXplatTrim",[],(function(a,b,c,d,e,f){"use strict";var g=new Set(["\0","\t","\n","\v","\f","\r"," ","\x85","\xa0","\u1680","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200a","\u200b","\u2028","\u2029","\u202f","\u205f","\u3000"]);a=function(a){return h(a,!0,!0)};b=function(a){return h(a,!0,!1)};c=function(a){return h(a,!1,!0)};function h(a,b,c){var d=0,e=a.length;if(b)while(d<e&&g.has(a.charAt(d)))d++;if(c){c=b?d:-1;while(e-1>c&&g.has(a.charAt(e-1)))e--}if(d===e)return"";return d===0&&e===a.length?a:a.slice(d,e)}f.trim=a;f.trimStart=b;f.trimEnd=c}),66);
__d("WAWebPollsSendPollCreationMsgAction",["Promise","WATimeUtils","WAWebAck","WAWebGetEphemeralFieldsMsgActionsUtils","WAWebLidMigrationUtils","WAWebMsgKey","WAWebMsgKeyUtils","WAWebMsgType","WAWebNewsletterSendMsgAction","WAWebPollsActionsMetricUtils","WAWebSendMsgChatAction","WAWebViewMode.flow","WAWebWamEnumPollActionType","WAWebWid","WAWebWidFactory","WAXplatTrim","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.poll,f=a.chat;a=a.quotedMsg;a=j({poll:e,chat:f,quotedMsg:a});var g=c("WAWebWid").isNewsletter(f.id);g=g?yield d("WAWebNewsletterSendMsgAction").sendNewsletterPollCreationMsg({msgData:a,chat:f}):yield (h||(h=b("Promise"))).all(d("WAWebSendMsgChatAction").addAndSendMsgToChat(f,a));a=g[0];d("WAWebPollsActionsMetricUtils").commitPollsActionsMetric({action:d("WAWebWamEnumPollActionType").POLL_ACTION_TYPE.CREATE_POLL,chat:f,creationDateInSeconds:a.t,pollOptionsCount:e.options.length})});return i.apply(this,arguments)}function j(a){var b=a.poll,e=a.chat;a=a.quotedMsg;var f=c("WAWebWid").isNewsletter(e.id),g=e.id,h=d("WAWebLidMigrationUtils").getMeUserLidOrJidForChat(e,d("WAWebMsgKeyUtils").TranslateMsgKeyType.Message);a=(a=a==null?void 0:a.msgContextInfo(e.id))!=null?a:{};return babelHelpers["extends"]({id:new(c("WAWebMsgKey"))({from:h,to:g,id:c("WAWebMsgKey").newId_DEPRECATED(),participant:e.isGroup?d("WAWebWidFactory").toUserWid(h):void 0,selfDir:"out"}),type:d("WAWebMsgType").MSG_TYPE.POLL_CREATION,kind:d("WAWebMsgType").MsgKind.PollCreation,viewMode:d("WAWebViewMode.flow").ViewModeType.VISIBLE,isSentCagPollCreation:e.isCAG?!0:void 0,t:d("WATimeUtils").unixTime(),from:h,to:g,isNewMsg:!0,local:!0,ack:d("WAWebAck").ACK.CLOCK,pollName:d("WAXplatTrim").trim(b.name),pollOptions:b.options.map(function(a,b){a=a.name;return{name:d("WAXplatTrim").trim(a),localId:b}}),messageSecret:f?void 0:self.crypto.getRandomValues(new Uint8Array(32)),pollSelectableOptionsCount:b.selectableOptionsCount},a,d("WAWebGetEphemeralFieldsMsgActionsUtils").getEphemeralFields(e))}g.sendPollCreation=a;g.createPollCreationMsg=j}),98);
__d("WAWebPollsCreatePollModal",["fbt","WAWebAttachmentMenuLogger","WAWebBizBotTosUtils","WAWebConfirmPopup.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebKeyboardHotKeys.react","WAWebModal.react","WAWebModalManager","WAWebPollsActionsMetricUtils","WAWebPollsGatingUtils","WAWebPollsOptionInput","WAWebPollsOrderableList","WAWebPollsSendPollCreationMsgAction","WAWebRichTextField.react","WAWebRound.react","WAWebSendIcon","WAWebSwitch.react","WAWebUISpacing","WAXplatTrim","asyncToGeneratorRuntime","react","stylex","useLazyRef","useWAWebOnUnmount"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=i||(i=c("react")),m=e.useEffect,n=e.useLayoutEffect,o=e.useMemo,p=e.useRef,q=e.useState,r=2,s={bodyContainer:{boxSizing:"x9f619",width:"xs8rnei",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",display:"x78zum5",flexDirection:"xdt5ytf",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},sectionTitle:{fontSize:"xlm9qay",fontWeight:"xk50ysn",$$css:!0},maxOptionsHint:{fontSize:"x1nxh6w3",$$css:!0},maxOptionsHintHidden:{visibility:"xlshs6z",$$css:!0},createPollButtonContainer:{width:"xh8yej3",display:"x78zum5",justifyContent:"x13a6bvl",height:"xwvwv9b",backgroundColor:"x1jn9dgz",$$css:!0},optionsContainer:{overflowY:"x1odjw0f",$$css:!0},drawer:{backgroundColor:"xtx9xyc",$$css:!0},sendButton:{transform:"x1cb1t30",marginEnd:"xktsk01",transitionProperty:"xs2xxs2",transitionDuration:"x1d8287x",$$css:!0},singleOptionContainer:{display:"x78zum5",alignItems:"x6s0dn4",width:"xh8yej3",fontSize:"x1jchvi3",lineHeight:"xdod15v",$$css:!0},singleOptionLabel:{width:"xh8yej3",display:"x1rg5ohu",cursor:"x1ypdohk",$$css:!0}};function a(a){var e=a.chat,f=a.getComposeBoxEditorRef;a=c("useLazyRef")(function(){var a;return d("WAWebPollsGatingUtils").isPrefillPollQuestionEnabled()?(a=(a=f())==null?void 0:a.getTextContent())!=null?a:"":""}).current;var g=q(a),i=g[0],k=g[1];g=q(!1);var t=g[0],u=g[1];g=q(!1);var y=g[0],z=g[1],A=d("WAWebPollsGatingUtils").getMaxPollOptionCount();g=q(function(){return v([],{maxOptionsCount:A})});var B=g[0],C=g[1],D=p(new Map()),E=p(null),F=function(a,b){C(v(a,{maxOptionsCount:A,focusedKey:b}))};m(function(){d("WAWebPollsActionsMetricUtils").commitPollOpenCreationModal(e)},[]);var G=p(),H=p(B.length);n(function(){var a=E.current,b=H.current,c=B.findIndex(function(a){return a.key===G.current});a!=null&&b<B.length&&c===B.length-2&&B[B.length-1].name===""&&a.scroll({top:a.scrollHeight,behavior:"smooth"});H.current=B.length},[B]);g=function(a){a=a.text;k(a)};var I=B.filter(function(a){return!w(a)}),J=o(function(){return x(B)},[B]);I=d("WAXplatTrim").trim(i).length>0&&I.length>=r&&J.size===0;m(function(){e.isComposingPoll=i.length>0||B.some(function(a){return a.name.length>0})},[e,i,B]);c("useWAWebOnUnmount")(function(){e.isComposingPoll=!1});var K=B[A-2],L=B[A-1];K=B.length===A&&!w(K)&&w(L);var M=p(),N=function(a){a===void 0&&(a=!1),d("WAWebModalManager").ModalManager.close(),a&&d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.POLL)},O=i!==""||B.some(function(a){return a.name!==""}),P=function(){O&&d("WAWebPollsGatingUtils").isPollsCancellationPromptEnabled()?z(!0):N(!0)};L=function(){O&&d("WAWebPollsGatingUtils").isPollsCancellationPromptEnabled()?y||z(!0):N(!0)};return l.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:{esc:function(a){a.stopPropagation(),P()}},children:[l.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Tower,testid:void 0,onOverlayClick:L,children:l.jsxs(c("WAWebDrawer.react"),{xstyle:s.drawer,children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__OPDhp9ykdd3__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.POPUP,onCancel:P}),l.jsx(c("WAWebDrawerBody.react"),{children:l.jsxs("div",{className:(j||(j=c("stylex")))(s.bodyContainer,d("WAWebUISpacing").uiPadding.top32),children:[l.jsx("span",{className:"xlm9qay xk50ysn",children:h._("__JHASH__xHxrGB83c4U__JHASH__")}),l.jsx(d("WAWebRichTextField.react").RichTextField,{ref:M,testid:void 0,focusOnMount:!0,hideFloatingLabel:!0,showRemaining:!0,emojiBtnPosition:"side",textFormatEnabled:!0,value:a,maxLength:d("WAWebPollsGatingUtils").getMaxPollNameLength(),maxVisibleLines:5,maxCodeUnits:d("WAWebPollsGatingUtils").getMaxPollNameLengthForIncomingMessages(),onChange:g,placeholder:h._("__JHASH__1MzPBVSvr9R__JHASH__")}),l.jsx("span",{className:j(s.sectionTitle,d("WAWebUISpacing").uiMargin.top25),children:h._("__JHASH__0EB0PnAtNqP__JHASH__")}),l.jsx("div",{ref:E,className:j(s.optionsContainer,d("WAWebUISpacing").uiMargin.top2,d("WAWebUISpacing").uiMargin.bottom10),children:l.jsx(d("WAWebPollsOrderableList").OrderableList,{items:B,onReordered:F,renderItem:function(a){var b=a.startDrag,c=a.item,e=a.index;return l.jsx(d("WAWebPollsOptionInput").OptionInput,{initialText:c.name,error:J.get(c.key),testid:void 0,onTextInputRef:function(a){a?D.current.set(c.key,a):D.current["delete"](c.key)},onChange:function(a){var b=[].concat(B);b[e]=babelHelpers["extends"]({},c,{name:a});F(b,c.key)},onDragThumbMouseDown:function(a){if(a.button!==0)return;b(c.key,a)},onInputFocus:function(){G.current=c.key},onInputBlur:function(){G.current=null}})}})}),l.jsx("h3",{"data-testid":void 0,className:j(s.maxOptionsHint,!K&&s.maxOptionsHintHidden),children:h._("__JHASH__zMd54d51ARH__JHASH__")}),d("WAWebPollsGatingUtils").isSingleOptionPollsSendingEnabled(e.id)&&l.jsxs("div",{className:(j||(j=c("stylex")))(s.singleOptionContainer,d("WAWebUISpacing").uiPadding.bottom20),children:[l.jsx("label",{htmlFor:"polls-single-option-switch",className:(j||(j=c("stylex")))(s.singleOptionLabel,d("WAWebUISpacing").uiPadding.vert4),children:h._("__JHASH__WbrLfnEcHa7__JHASH__")}),l.jsx(d("WAWebSwitch.react").Switch,{id:"polls-single-option-switch",checked:!t,onChange:function(){u(!t)},testid:void 0})]})]})}),l.jsx("div",{className:j(s.createPollButtonContainer,d("WAWebUISpacing").uiMargin.top30),children:l.jsx(d("WAWebRound.react").Round,{xstyle:s.sendButton,theme:d("WAWebRound.react").RoundTheme.DrawerFooter,large:!0,onClick:b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;N(!1);yield d("WAWebBizBotTosUtils").maybeShowBizBot1pTos(e);d("WAWebPollsSendPollCreationMsgAction").sendPollCreation({poll:{name:i,options:B.filter(function(a){return!w(a)}).map(function(a){a=a.name;return{name:a}}),selectableOptionsCount:t?1:0},chat:e,quotedMsg:d("WAWebPollsGatingUtils").arePollsFastFollowsEnabled()?e.composeQuotedMsg:null});e.composeQuotedMsg=null;e.setComposeContents({});(a=f())==null?void 0:a.reset();d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.POLL)}),disabled:!I,label:h._("__JHASH__7ly79q6kyF___JHASH__"),testid:void 0,children:l.jsx(d("WAWebSendIcon").SendIcon,{width:22,height:20,directional:!0})})})]})}),d("WAWebPollsGatingUtils").isPollsCancellationPromptEnabled()&&y&&l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{cancelButtonType:"warning-secondary",title:h._("__JHASH__kQe72MJaOTJ__JHASH__"),okText:h._("__JHASH__2L5ocmLHOyc__JHASH__"),onOK:function(){var a;z(!1);(a=M.current)==null?void 0:a.restoreFocus()},cancelText:h._("__JHASH__-QKUfhJvclL__JHASH__"),onCancel:function(){N(!0)},onOverlayClick:L,children:h._("__JHASH__gjzS5EsjL1u__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";var t=0;function u(){var a=t.toString();t++;return a}function v(a,b){var c=b.maxOptionsCount;b=b.focusedKey;a=[].concat(a);var d;for(var e of a){var f;if(e.name!=="")continue;if(e.key===b){d=e.key;break}d=(f=d)!=null?f:e.key}f=a.length-1;while(a.length>r&&f>=0){b=a[f];b.key!==d&&b.name===""&&a.splice(f,1);f--}e=Math.max(d==null?1:0,r-a.length);while(e>0&&a.length<c)a.push({name:"",key:u()}),e--;return a}function w(a){return d("WAXplatTrim").trim(a.name)===""}function x(a){var b=new Set(),c=new Map();for(a of a){var e=d("WAXplatTrim").trim(a.name);if(e==="")continue;if(b.has(e)){c.set(a.key,h._("__JHASH__2x_30LE7euS__JHASH__"));continue}b.add(e)}return c}g.CreatePollModal=a;g.formatOptions=v}),226);
__d("WAWebAttachMenuPopupItemPolls.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebModalManager","WAWebPollFilledRefreshedIcon","WAWebPollsCreatePollModal","WAWebPollsGatingUtils","WAWebPrepareMessageSendingAction","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={refreshedIcon:{color:"xxeg2eo",$$css:!0}};function a(a){var b=a.chat,c=a.getComposeBoxEditorRef;a=i.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2C0 0.895431 0.895431 0 2 0H11C12.1046 0 13 0.895431 13 2C13 3.10457 12.1046 4 11 4H2C0.89543 4 0 3.10457 0 2ZM0 8C0 6.89543 0.895431 6 2 6H14C15.1046 6 16 6.89543 16 8C16 9.10457 15.1046 10 14 10H2C0.895431 10 0 9.10457 0 8ZM2 12C0.895431 12 0 12.8954 0 14C0 15.1046 0.89543 16 2 16H8C9.10457 16 10 15.1046 10 14C10 12.8954 9.10457 12 8 12H2Z",fill:"var(--attachment-type-polls-color)"})});return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:function(a){a.preventDefault();d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebPollsCreatePollModal").CreatePollModal,{chat:b,getComposeBoxEditorRef:c}),{blockClose:d("WAWebPollsGatingUtils").isPollsCancellationPromptEnabled()});void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.POLL);return!0},icon:d("WAWebUIRefreshGatingUtils").listRefreshEnabled()?i.jsx(d("WAWebPollFilledRefreshedIcon").PollFilledRefreshedIcon,{iconXstyle:j.refreshedIcon}):a,text:d("WAWebAttachMenuStrings").PollText()})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemPolls=a}),98);
__d("WAWebAttachMenuPopupItemQuickReplies.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebComposeBoxActions","WAWebLightningIcon","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={icon:{color:"x1ev1nr0",$$css:!0}};function a(a){var b=a.chat;a=function(a){a.preventDefault();d("WAWebComposeBoxActions").ComposeBoxActions.toggleQuickReplies();d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.QUICK_REPLY);return!0};return i.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:i.jsx(d("WAWebLightningIcon").LightningIcon,{width:20,height:20,iconXstyle:j.icon}),text:d("WAWebAttachMenuStrings").QuickRepliesText()})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemQuickReplies=a}),98);
__d("WAWebStickerCreateFilledRefreshedIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="sticker-create-filled-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{opacity:.9,fillRule:"evenodd",clipRule:"evenodd",d:"M14 21.6814C15.0541 21.3509 16.024 20.7715 16.8221 19.9799L19.8489 16.9776C20.8807 15.9542 21.5742 14.6537 21.8569 13.25H18C15.7909 13.25 14 15.0409 14 17.25V21.6814ZM12 22H9.27273C5.25611 22 2 18.7439 2 14.7273V9.27273C2 5.25611 5.25611 2 9.27273 2H14.7273C18.7439 2 22 5.25611 22 9.27273V11.25H18C14.6863 11.25 12 13.9363 12 17.25V22ZM9 5C8.44772 5 8 5.44772 8 6V8H6C5.44772 8 5 8.44772 5 9C5 9.55229 5.44772 10 6 10H8V12C8 12.5523 8.44772 13 9 13C9.55228 13 10 12.5523 10 12V10H12C12.5523 10 13 9.55228 13 9C13 8.44772 12.5523 8 12 8H10V6C10 5.44772 9.55228 5 9 5Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.StickerCreateFilledRefreshedIcon=a}),98);
__d("WAWebAttachMenuPopupItemStickers.react",["WAWebAttachMenuPopupItem.react","WAWebAttachMenuStrings","WAWebAttachmentMenuLogger","WAWebFilePicker.react","WAWebMimeTypes","WAWebPrepareMessageSendingAction","WAWebStickerCreateFilledRefreshedIcon","WAWebUIRefreshGatingUtils","WAWebWamEnumWebcStickerMakerEventNameType","WAWebWebcStickerMakerEventsWamEvent","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useRef,l={refreshedIcon:{color:"x1w53qhl",$$css:!0}};function a(a){var b=a.chat,e=a.dismissMenu,f=a.onMediaPick,g=k();a=function(a){a.preventDefault();a=g.current;if(a){new(d("WAWebWebcStickerMakerEventsWamEvent").WebcStickerMakerEventsWamEvent)({stickerMakerEventName:d("WAWebWamEnumWebcStickerMakerEventNameType").WEBC_STICKER_MAKER_EVENT_NAME_TYPE.STICKER_MAKER_BUTTON_TAP}).commit();a.open();void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b);d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachMenuClick(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.STICKER_MAKER);return!1}return!1};var h=function(a){if(!a){e();return}a.stopPropagation();a=a.target.files==null?[]:Array.from(a.target.files);e();if(!a.length)return;new(d("WAWebWebcStickerMakerEventsWamEvent").WebcStickerMakerEventsWamEvent)({stickerMakerEventName:d("WAWebWamEnumWebcStickerMakerEventNameType").WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_UPLOADED}).commit();f(a.map(function(a){return{file:a,stickerMaker:!0}}))},i=j.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 23C20.7614 23 23 20.7614 23 18C23 15.2386 20.7614 13 18 13C15.2386 13 13 15.2386 13 18C13 20.7614 15.2386 23 18 23ZM17.25 15.75C17.25 15.3358 17.5858 15 18 15C18.4142 15 18.75 15.3358 18.75 15.75V17.25H20.25C20.6642 17.25 21 17.5858 21 18C21 18.4142 20.6642 18.75 20.25 18.75H18.75V20.25C18.75 20.6642 18.4142 21 18 21C17.5858 21 17.25 20.6642 17.25 20.25V18.75H15.75C15.3358 18.75 15 18.4142 15 18C15 17.5858 15.3358 17.25 15.75 17.25H17.25V15.75Z",fill:"var(--attachment-type-stickers-color)"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 7C2 4.23858 4.23858 2 7 2H17C19.7614 2 22 4.23858 22 7V12.2547C20.8662 11.4638 19.4872 11 18 11C14.134 11 11 14.134 11 18C11 19.4872 11.4638 20.8662 12.2547 22H7C4.23858 22 2 19.7614 2 17V7ZM14 9.5L14.7812 7.78125L16.5 7L14.7812 6.21875L14 4.5L13.2188 6.21875L11.5 7L13.2188 7.78125L14 9.5ZM8 8.5L9.25 11.25L12 12.5L9.25 13.75L8 16.5L6.75 13.75L4 12.5L6.75 11.25L8 8.5Z",fill:"var(--attachment-type-stickers-color)"})]});return j.jsx(d("WAWebAttachMenuPopupItem.react").AttachMenuPopupItem,{testid:void 0,action:a,icon:d("WAWebUIRefreshGatingUtils").listRefreshEnabled()?j.jsx(d("WAWebStickerCreateFilledRefreshedIcon").StickerCreateFilledRefreshedIcon,{iconXstyle:l.refreshedIcon}):i,text:d("WAWebAttachMenuStrings").StickerMakerText(),children:j.jsx(c("WAWebFilePicker.react"),{ref:g,mimes:d("WAWebMimeTypes").IMAGE_MIMES,onChange:h,multiple:!1})})}a.displayName=a.name+" [from "+f.id+"]";g.AttachMenuPopupItemStickers=a}),98);
__d("WAWebAttachMenuUtils",["WAWebBizGatingUtils","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebConnModel","WAWebProductCatalogMetaLinkingGatingUtils","WAWebUserPrefsMeUser"],(function(a,b,c,d,e,f,g){function a(a){if(a.isNewsletter)return!1;a=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMeUser());return!h()||d("WAWebBizGatingUtils").blockCatalogCreationECommerceComplianceIndia(a)||d("WAWebProductCatalogMetaLinkingGatingUtils").shouldDisableCatalogDueToMetaLinkingForSelf()?!1:!0}function b(){return d("WAWebProductCatalogMetaLinkingGatingUtils").shouldShowMetaLinkedDisabledCatalogTooltipForSelf()}function c(a){if(!d("WAWebConnModel").Conn.isSMB||a.isGroup||a.isNewsletter)return!1;if(d("WAWebBizGatingUtils").orderDetailsCustomItemEnabled())return!0;a=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMeUser());return d("WAWebBizGatingUtils").orderDetailsFromCatalogEnabled()&&d("WAWebBusinessProfileUtils").hasCatalog(a)}function h(){if(!d("WAWebConnModel").Conn.isSMB)return!1;var a=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(d("WAWebUserPrefsMeUser").getMeUser());return!d("WAWebBusinessProfileUtils").hasShop(a)}g.shouldShowCatalogOption=a;g.shouldShowDisabledCatalogOption=b;g.canSendOrder=c}),98);
__d("WAWebAttachMenuPopup.react",["WAWebAttachMenuPopupItemAudio.react","WAWebAttachMenuPopupItemCamera.react","WAWebAttachMenuPopupItemCatalog.react","WAWebAttachMenuPopupItemContacts.react","WAWebAttachMenuPopupItemDocuments.react","WAWebAttachMenuPopupItemEvents","WAWebAttachMenuPopupItemOrders.react","WAWebAttachMenuPopupItemPhotos.react","WAWebAttachMenuPopupItemPolls.react","WAWebAttachMenuPopupItemQuickReplies.react","WAWebAttachMenuPopupItemStickers.react","WAWebAttachMenuUtils","WAWebAttachmentMenuLogger","WAWebBizGatingUtils","WAWebCmd","WAWebContactGetters","WAWebDropdown.react","WAWebEventUtils","WAWebMediaGatingUtils","WAWebMsgType","WAWebNewsletterGatingUtils","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebWamEnumMediaPickerOriginType","react","stylex","useWAWebModelValues","useWAWebUIM"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react");b=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.chat,f=a.onCaptureClick,g=a.getComposeBoxEditorRef,h=a.getComposeContents,k=a.onMenuComplete;a=d("useWAWebModelValues").useModelValues(a.chat,["isNewsletter"]);a=a.isNewsletter;var m=c("useWAWebUIM")(),n=function(){m==null?void 0:m.requestDismiss()},o=function(a){var b=a.attachments,c=a.sendAsSticker;c=c===void 0?!1:c;var f=a.onSend;a=a.onCancel;d("WAWebCmd").Cmd.attachMediaDrawer({chat:e,attachments:b,fileOrigin:d("WAWebWamEnumMediaPickerOriginType").MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,initCaption:h==null?void 0:h(),onComplete:function(a,b){k(a,b)},onSend:f,onCancel:a,sendAsSticker:c})},p=d("WAWebAttachMenuUtils").shouldShowDisabledCatalogOption(),q=d("WAWebAttachMenuUtils").shouldShowCatalogOption(e),r=d("WAWebBizGatingUtils").canSendQuickReplyInChat(e),s=d("WAWebAttachMenuUtils").canSendOrder(e)&&!d("WAWebContactGetters").getIsMe(e.contact),t=q||r||s,u=d("WAWebEventUtils").canSendEvent(e),v=d("WAWebMediaGatingUtils").getSupportedMediaTypesForChat(e),w=v.has(d("WAWebMsgType").MSG_TYPE.STICKER)?j.jsx(d("WAWebAttachMenuPopupItemStickers.react").AttachMenuPopupItemStickers,{chat:e,dismissMenu:n,onMediaPick:function(a){o({attachments:a,sendAsSticker:!0,onSend:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.STICKER_MAKER)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.STICKER_MAKER)}})}}):null;u=u?j.jsx(d("WAWebAttachMenuPopupItemEvents").AttachMenuPopupItemEvents,{chat:e}):null;var x=d("WAWebUIRefreshGatingUtils").listRefreshEnabled();w=x?[u,w]:[w,u];return j.jsx(d("WAWebDropdown.react").Dropdown,{ref:b,type:d("WAWebDropdown.react").MenuType.AttachMenuPopup,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.RIGHT,dirY:d("WAWebDropdown.react").DirY.TOP,testid:void 0,children:j.jsxs("div",{className:(i||(i=c("stylex")))(!x&&d("WAWebUISpacing").uiPadding.vert3),children:[v.has(d("WAWebMsgType").MSG_TYPE.DOCUMENT)&&j.jsx(d("WAWebAttachMenuPopupItemDocuments.react").AttachMenuPopupItemDocuments,{chat:e,dismissMenu:n,onDocumentPick:function(a){o({attachments:a,onSend:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.DOCUMENT)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.DOCUMENT)}})}}),j.jsx(d("WAWebAttachMenuPopupItemPhotos.react").AttachMenuPopupItemPhotos,{chat:e,dismissMenu:n,multiple:d("WAWebMediaGatingUtils").supportsMultipleUploads(e.id),onMediaPick:function(a){o({attachments:a,onSend:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.PHOTO_AND_VIDEO_LIBRARY)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.PHOTO_AND_VIDEO_LIBRARY)}})}}),j.jsx(d("WAWebAttachMenuPopupItemCamera.react").AttachMenuPopupItemCamera,{chat:e,onCaptureClick:f}),a&&d("WAWebNewsletterGatingUtils").isNewsletterAudioFileSendingEnabled()&&j.jsx(d("WAWebAttachMenuPopupItemAudio.react").AttachMenuPopupItemAudio,{chat:e,dismissMenu:n,multiple:d("WAWebMediaGatingUtils").supportsMultipleUploads(e.id),onMediaPick:function(a){o({attachments:a,onSend:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.AUDIO)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(e,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.AUDIO)}})}}),!a&&j.jsx(d("WAWebAttachMenuPopupItemContacts.react").AttachMenuPopupItemContacts,{chat:e,onMenuComplete:k}),e.canSendPolls()&&j.jsx(d("WAWebAttachMenuPopupItemPolls.react").AttachMenuPopupItemPolls,{chat:e,getComposeBoxEditorRef:g}),w,t&&j.jsx(l,{}),q&&j.jsx(d("WAWebAttachMenuPopupItemCatalog.react").AttachMenuPopupItemCatalog,{chat:e,disabled:p}),r&&j.jsx(d("WAWebAttachMenuPopupItemQuickReplies.react").AttachMenuPopupItemQuickReplies,{chat:e}),s&&j.jsx(d("WAWebAttachMenuPopupItemOrders.react").AttachMenuPopupItemOrders,{chat:e})]})})}a.displayName=a.name+" [from "+f.id+"]";var k={divider:{height:"xjm9jq1",backgroundColor:"xfw0ycb",$$css:!0}};function l(){return j.jsx("div",{className:(i||(i=c("stylex")))([k.divider,d("WAWebUISpacing").uiMargin.top3,d("WAWebUISpacing").uiMargin.bottom4])})}l.displayName=l.name+" [from "+f.id+"]";g.AttachMenuPopup=b}),98);
__d("WAWebCaptureMediaDrawerLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebCaptureMediaDrawer.react").__setRef("WAWebCaptureMediaDrawerLoadable").load());return a}),"CaptureMediaDrawer");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingDrawer.react"),{error:Boolean(a.error)})}});g.requireBundle=a;g.CaptureMediaDrawerLoadable=d}),98);
__d("WAWebPlusRoundedIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="plus-rounded";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M11 13H5.5C4.94772 13 4.5 12.5523 4.5 12C4.5 11.4477 4.94772 11 5.5 11H11V5.5C11 4.94772 11.4477 4.5 12 4.5C12.5523 4.5 13 4.94772 13 5.5V11H18.5C19.0523 11 19.5 11.4477 19.5 12C19.5 12.5523 19.0523 13 18.5 13H13V18.5C13 19.0523 12.5523 19.5 12 19.5C11.4477 19.5 11 19.0523 11 18.5V13Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.PlusRoundedIcon=a}),98);
__d("WAWebAttachMenuBarItem.react",["fbt","WAFilteredCatch","WAPromiseRaceAbort","WAWebAttachMenuPopup.react","WAWebAttachmentMenuLogger","WAWebCaptureMediaDrawerLoadable","WAWebDrawerManager","WAWebGuidePopup.react","WAWebMediaCapture","WAWebMenuBar.react","WAWebMiscErrors","WAWebModalManager","WAWebPlusIcon","WAWebPlusRoundedIcon","WAWebPrepareMessageSendingAction","WAWebStateUtils","WAWebTabOrder","WAWebUIRefreshGatingUtils","WAWebUim","WAWebUseBusinessProfile.react","react","useWAWebUIM","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useRef,n={iconColor:{color:"xzwifym",$$css:!0}};function a(a){var b=a.chat,e=a.onMenuComplete,f=a.iconWidth;f=f===void 0?30:f;var g=c("useWAWebUnmountSignal")();d("WAWebUseBusinessProfile.react").useBusinessProfile(b.id,["isBizBot3p"]);var i=m(null),j=c("useWAWebUIM")();l(function(){return function(){i.current==null?void 0:i.current(),d("WAWebDrawerManager").DrawerManager.closeDrawerMid()}},[]);var o=function(a){d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(b){b&&a.preventDefault()})},p=function(a){o(a)},q=function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentMenuOpen(b)},r=function(a){a===d("WAWebUim").DismissReason.UIM_INTERACTION&&d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentMenuClose(b)},s=function(){var a=d("WAWebMediaCapture").start("camera",void 0,3e3),f=a.asyncStream;a=a.disposeStream;i.current=a;c("WAPromiseRaceAbort")(f,g).then(function(a){a&&d("WAWebDrawerManager").DrawerManager.openDrawerMid(k.jsx(d("WAWebCaptureMediaDrawerLoadable").CaptureMediaDrawerLoadable,{chat:d("WAWebStateUtils").unproxy(b),stream:a,disposeStream:i.current,onCaptureSent:function(){e(!0),d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentSend(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CAMERA)},onCancel:function(){d("WAWebAttachmentMenuLogger").AttachmentMenuLogger.logAttachmentCancel(b,d("WAWebAttachmentMenuLogger").AttachmentMenuTarget.CAMERA)},onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerMid()}}),{transition:"slide-up",uim:j,noFocus:!0})})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").GetUserMedia.NotAllowedError,function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.CAMERA_FAIL,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_UNBLOCK}))}))["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").GetUserMedia.GetUserMediaError,function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.CAMERA_MISSING,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_NONE}))}))},t=function(){s(),void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(b)};f=d("WAWebUIRefreshGatingUtils").composeBoxRefreshEnabled()?k.jsx(d("WAWebPlusRoundedIcon").PlusRoundedIcon,{width:f,xstyle:n.iconColor}):k.jsx(d("WAWebPlusIcon").PlusIcon,{width:f,xstyle:n.iconColor});return k.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,theme:"attach-menu",icon:f,tabOrder:d("WAWebTabOrder").TAB_ORDER.COMPOSE_BOX_ATTACH_BUTTON,title:h._("__JHASH__pDI7cP8OsEp__JHASH__"),transitionName:"dropdown",onClick:p,onOpen:q,onClose:r,children:k.jsx(d("WAWebAttachMenuPopup.react").AttachMenuPopup,{chat:a.chat,onCaptureClick:t,getComposeContents:a.getComposeContents,getComposeBoxEditorRef:a.getComposeBoxEditorRef,onMenuComplete:a.onMenuComplete})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBIzLabelReorderAction",["WALogger","WAWebBizGatingUtils","WAWebLabelCollection"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Label] reorderLabelsAction: updated LabelCollection with new label positions"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Label] reorderLabelsAction: label reordering is not enabled"]);i=function(){return a};return a}a=function(a){if(!d("WAWebBizGatingUtils").isLabelReorderingSyncFromPrimaryEnabled()){d("WALogger").LOG(i());return}var b=!1;a.forEach(function(a,c){a=d("WAWebLabelCollection").LabelCollection.get(String(a));a&&a.orderIndex!==c&&(a.orderIndex=c,b=!0)});b&&(d("WAWebLabelCollection").LabelCollection.trigger("reorder"),d("WALogger").LOG(h()).devConsole(a))};g.reorderLabelsAction=a}),98);
__d("WAWebBizAiBridgeApi",["WAWebChatCollection","WAWebWidFactory"],(function(a,b,c,d,e,f,g){a={updateChatCapiThreadControl:function(a){var b=a.consumerPhoneNumber;a=a.status;if(b==null)return;b=d("WAWebWidFactory").createUserWid(b);b=d("WAWebChatCollection").ChatCollection.get(b);b!=null&&void b.setCapiThreadControl(a)}};g.BizAiBridgeApi=a}),98);
__d("WAWebBizSmbTosModal.react",["fbt","WALogger","WAWebConfirmPopup.react","WAWebConnModel","WAWebModalManager","WAWebSmbLearnMore.react","WAWebSocketModel","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["SMB: terms of service modal, user clicked logout"]);j=function(){return a};return a}var k=i||c("react");function a(){var a=h._("__JHASH__M2VmD8xDR_v__JHASH__"),b=function(){d("WAWebConnModel").Conn.smbTos||d("WAWebModalManager").ModalManager.close()};d("useWAWebListener").useListener(d("WAWebConnModel").Conn,"change:smbTos",b);b=function(){d("WALogger").LOG(j()),d("WAWebModalManager").ModalManager.close(),d("WAWebSocketModel").Socket.logout()};var e=h._("__JHASH__3n1bF_cZdZK__JHASH__");b=b;return k.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:b,okText:e,children:[a,"\xa0",k.jsx(c("WAWebSmbLearnMore.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBotPluginCarouselChevronBtn.react",["WAWebChevronButton.react","WAWebL10N","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={backgroundNext:{position:"x10l6tqk",top:"x13vifvy",end:"xds687c",height:"xvt47uu",width:"x187nhsf",$$css:!0},backgroundPrev:{position:"x10l6tqk",top:"x13vifvy",height:"xvt47uu",width:"x187nhsf",zIndex:"x11uqc5h",$$css:!0},btnContainer:{position:"x1n2onr6",height:"xvt47uu",width:"x187nhsf",borderTopStartRadius:"x1rcc7c0",borderTopEndRadius:"xbtbmw4",borderBottomEndRadius:"x1lie4ck",borderBottomStartRadius:"x16hxpj1",$$css:!0},btnContainerBackgroundPrev:{backgroundImage:"xe0pjke",$$css:!0},btnContainerBackgroundNext:{backgroundImage:"x1hxqlon",$$css:!0},btnContainerBackgroundPrevRTL:{backgroundImage:"x1hxqlon",$$css:!0},btnContainerBackgroundNextRTL:{backgroundImage:"xe0pjke",$$css:!0}};function a(a){var b=a.displayType,e=a.onClick,f=a.theme;a=a.type;b=b===d("WAWebChevronButton.react").ChevronButtonDisplayType.BotPluginCarousel;var g=a===d("WAWebChevronButton.react").ButtonType.Prev&&b,h=a===d("WAWebChevronButton.react").ButtonType.Next&&b;return j.jsx("div",{className:(i||(i=c("stylex")))(g&&k.backgroundPrev,h&&k.backgroundNext),children:j.jsx("div",{className:i(b&&k.btnContainer,g&&(c("WAWebL10N").isRTL()?k.btnContainerBackgroundPrevRTL:k.btnContainerBackgroundPrev),h&&(c("WAWebL10N").isRTL()?k.btnContainerBackgroundNextRTL:k.btnContainerBackgroundNext)),children:j.jsx(d("WAWebChevronButton.react").ChevronButton,{type:a,onClick:e,theme:f})})})}a.displayName=a.name+" [from "+f.id+"]";g.ChevronButtonWithFadedBackground=a}),98);
__d("WAWebBotPluginCarouselWrapper.react",["WANullthrows","WAWebBotPluginCarouselChevronBtn.react","WAWebChevronButton.react","WAWebClassnames","WAWebCmd","WAWebDisplayType","WAWebErrorBoundary.react","WAWebKeyboardHotKeys.react","WAWebMediaLinkPreviewContainer.react","WAWebMsgGetters","WAWebProtobufsE2E.pb","WAWebRound.react","WAWebVelocityAnimate","WAWebVelocityTransitionGroup","WAWebWrapper.scss","react","stylex","useWAWebListener","useWAWebThrottledCallback"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useEffect,m=b.useImperativeHandle,n=b.useRef,o=b.useState,p={reelItemWrapper:{maxWidth:"x1e03a83",$$css:!0},botPluginCarouselWrapper:{overflowY:"x1rife3k",background:"xvzcjjp",borderTopStartRadius:"x1ewi3t5",borderTopEndRadius:"x1hz6igj",borderBottomEndRadius:"x10g8x2y",borderBottomStartRadius:"x1x8elzp",marginTop:"x1xmf6yo",marginBottom:"xod5an3",$$css:!0},botPluginCarouselWrapperOneItem:{scrollbarWidth:"x1rohswg",$$css:!0},botPluginCarouselContainer:{paddingTop:"x123j3cw",paddingEnd:"x1mpkggp",paddingBottom:"xs9asl8",paddingStart:"x1t2a60a",display:"xrvj5dj",gridTemplateColumns:"x1ldsiy3",columnGap:"x9xpc1z",gridAutoRows:"x3xbxsf",width:"x75ztot",$$css:!0},botReelPluginCarouselContainer:{minWidth:"x2vq7qx",maxWidth:"xtfe9a7",width:"xeq5yr9",$$css:!0},botPluginCarouselContainerWidthSingleItem:{width:"x14atkfc",minWidth:"x15x72sd",$$css:!0},botPluginCarouselContainerWidthTwoItem:{width:"xwv353n",$$css:!0},botPluginCarouselContainerWidthFourItem:{minWidth:"xgqtt45",$$css:!0}},q=200,r=7,s=200,t=100;e=k.forwardRef(a);function a(a,b){var e,f;a=babelHelpers["extends"]({},a);var g=n(null),h=a.msgs;a=a.botPluginCarouselId;e=(e=h[0])==null?void 0:(e=e.id)==null?void 0:(e=e.remote)==null?void 0:e.isUser();var j=n(null),u=d("WAWebMsgGetters").getBotPluginType(h[0])===d("WAWebProtobufsE2E.pb").BotPluginMetadata$PluginType.REELS,v=o(!0),w=v[0],x=v[1];v=o(null);var y=v[0],z=v[1];v=o(!1);var A=v[0],B=v[1];v=(v=d("WAWebMsgGetters").getBotResponseTargetId(h[0]))!=null?v:"NULL_MSG_BOT_PLUGIN_TARGET_ID";d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"bot_toggle_plugin_search_details_for_target_id_"+v,function(a){a===void 0&&(a=!0),x(a),self.setTimeout(function(){d("WAWebCmd").Cmd.scrollChatHeight(t)})});var C=function(){return g.current},D=function(){return c("WANullthrows")(j.current)};m(b,function(){return{getElement:C,getContainerElement:D}});l(function(){y==null&&h.length>1&&z(!0)},[h,y]);var E=function(a){a=q*.5*h.length*(a?1:-1);var b=g==null?void 0:g.current;b!=null&&(void c("WAWebVelocityAnimate")(b,"stop"),void c("WAWebVelocityAnimate")(b,"scroll",{SCROLL_ANIMATION:s,container:b,offset:a,axis:"x",easing:[.1,.82,.25,1]}))};v=c("useWAWebThrottledCallback")(function(a){a=g==null?void 0:g.current;if(a==null)return;a.scrollLeft<r?B(!1):B(!0);a=a.scrollLeft+a.clientWidth>=a.scrollWidth-r;a?z(!1):z(!0)},100);b=h.toSorted(function(a,b){a=a.botPluginReferenceIndex;b=b.botPluginReferenceIndex;return a!=null&&b!=null?a>b?1:-1:0}).map(function(a){return k.jsx("div",{className:(i||(i=c("stylex")))(u&&p.reelItemWrapper),children:k.jsx(d("WAWebMediaLinkPreviewContainer.react").LinkPreviewContainer,{msg:a.unsafe(),displayType:u?d("WAWebDisplayType").DISPLAY_TYPE.BOT_REELS_PLUGIN:d("WAWebDisplayType").DISPLAY_TYPE.CONVERSATION,theme:"bot_plugin_link"})},a.id.id)});A=A===!0?k.jsx(d("WAWebBotPluginCarouselChevronBtn.react").ChevronButtonWithFadedBackground,{type:d("WAWebChevronButton.react").ButtonType.Prev,onClick:function(){E(!1)},theme:d("WAWebRound.react").RoundTheme.XSmall,displayType:u?d("WAWebChevronButton.react").ChevronButtonDisplayType.BotReelsPluginCarousel:d("WAWebChevronButton.react").ChevronButtonDisplayType.BotPluginCarousel}):null;var F=y===!0?k.jsx(d("WAWebBotPluginCarouselChevronBtn.react").ChevronButtonWithFadedBackground,{type:d("WAWebChevronButton.react").ButtonType.Next,onClick:function(){E(!0)},theme:d("WAWebRound.react").RoundTheme.XSmall,displayType:u?d("WAWebChevronButton.react").ChevronButtonDisplayType.BotReelsPluginCarousel:d("WAWebChevronButton.react").ChevronButtonDisplayType.BotPluginCarousel}):null;return k.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"bot-plugin-carousel",children:k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((f={},f[c("WAWebWrapper.scss").botPluginCarouselControlContainer]=!0,f[c("WAWebWrapper.scss").botPluginCarouselControlContainerClosed]=!w,f[c("WAWebWrapper.scss").wrapperAdjustedOneOnOneChat]=e,f[c("WAWebWrapper.scss").wrapperProfilePictureDisplayed]=!e,f)),ref:j,tabIndex:-1,children:k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"bot-plugin-carousel",children:w?k.jsxs("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((e={},e[c("WAWebWrapper.scss").botPluginScrollControl]=!0,e[c("WAWebWrapper.scss").messageChat]=!0,e[c("WAWebWrapper.scss").reelsPluginOneItem]=!!u&&h.length===1,e[c("WAWebWrapper.scss").reelsPluginTwoItem]=!!u&&h.length===2,e[c("WAWebWrapper.scss").reelsPluginThreeItem]=!!u&&h.length===3,e)),children:[A,k.jsx("div",{className:(i||(i=c("stylex")))(p.botPluginCarouselWrapper,h.length===1&&p.botPluginCarouselWrapperOneItem),onScroll:v,ref:g,children:k.jsx("div",{className:(i||(i=c("stylex")))(p.botPluginCarouselContainer,u&&p.botReelPluginCarouselContainer,h.length===1&&p.botPluginCarouselContainerWidthSingleItem,h.length===2&&p.botPluginCarouselContainerWidthTwoItem,h.length===4&&p.botPluginCarouselContainerWidthFourItem),"data-id":a,children:b})}),F]}):null})})})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("WAWebCheckRefreshedIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="check-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M10.2464 15.8464C10.4417 16.0417 10.7583 16.0417 10.9536 15.8464L16.95 9.85C17.3366 9.4634 17.3366 8.8366 16.95 8.45C16.5634 8.0634 15.9366 8.0634 15.55 8.45L10.6 13.4L8.45 11.25C8.0634 10.8634 7.4366 10.8634 7.05 11.25C6.6634 11.6366 6.6634 12.2634 7.05 12.65L10.2464 15.8464ZM5 21C4.45 21 3.97917 20.8042 3.5875 20.4125C3.19583 20.0208 3 19.55 3 19V5C3 4.45 3.19583 3.97917 3.5875 3.5875C3.97917 3.19583 4.45 3 5 3H19C19.55 3 20.0208 3.19583 20.4125 3.5875C20.8042 3.97917 21 4.45 21 5V19C21 19.55 20.8042 20.0208 20.4125 20.4125C20.0208 20.8042 19.55 21 19 21H5ZM5 19H19V5H5V19Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CheckRefreshedIcon=a}),98);
__d("WAWebClearRefreshedIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="clear-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M7 12C7 12.5523 7.44772 13 8 13H16C16.5523 13 17 12.5523 17 12C17 11.4477 16.5523 11 16 11H8C7.44772 11 7 11.4477 7 12ZM12 22C10.6167 22 9.31667 21.7375 8.1 21.2125C6.88333 20.6875 5.825 19.975 4.925 19.075C4.025 18.175 3.3125 17.1167 2.7875 15.9C2.2625 14.6833 2 13.3833 2 12C2 10.6167 2.2625 9.31667 2.7875 8.1C3.3125 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.3125 8.1 2.7875C9.31667 2.2625 10.6167 2 12 2C13.3833 2 14.6833 2.2625 15.9 2.7875C17.1167 3.3125 18.175 4.025 19.075 4.925C19.975 5.825 20.6875 6.88333 21.2125 8.1C21.7375 9.31667 22 10.6167 22 12C22 13.3833 21.7375 14.6833 21.2125 15.9C20.6875 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6875 15.9 21.2125C14.6833 21.7375 13.3833 22 12 22ZM12 20C14.2333 20 16.125 19.225 17.675 17.675C19.225 16.125 20 14.2333 20 12C20 9.76667 19.225 7.875 17.675 6.325C16.125 4.775 14.2333 4 12 4C9.76667 4 7.875 4.775 6.325 6.325C4.775 7.875 4 9.76667 4 12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ClearRefreshedIcon=a}),98);
__d("WAWebCloseRefreshedIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="close-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M7.7 16.3C8.0866 16.6866 8.7134 16.6866 9.1 16.3L12 13.4L14.9 16.3C15.2866 16.6866 15.9134 16.6866 16.3 16.3C16.6866 15.9134 16.6866 15.2866 16.3 14.9L13.4 12L16.3 9.1C16.6866 8.7134 16.6866 8.0866 16.3 7.7C15.9134 7.3134 15.2866 7.3134 14.9 7.7L12 10.6L9.1 7.7C8.7134 7.3134 8.0866 7.3134 7.7 7.7C7.3134 8.0866 7.3134 8.7134 7.7 9.1L10.6 12L7.7 14.9C7.3134 15.2866 7.3134 15.9134 7.7 16.3ZM12 22C10.6167 22 9.31667 21.7375 8.1 21.2125C6.88333 20.6875 5.825 19.975 4.925 19.075C4.025 18.175 3.3125 17.1167 2.7875 15.9C2.2625 14.6833 2 13.3833 2 12C2 10.6167 2.2625 9.31667 2.7875 8.1C3.3125 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.3125 8.1 2.7875C9.31667 2.2625 10.6167 2 12 2C13.3833 2 14.6833 2.2625 15.9 2.7875C17.1167 3.3125 18.175 4.025 19.075 4.925C19.975 5.825 20.6875 6.88333 21.2125 8.1C21.7375 9.31667 22 10.6167 22 12C22 13.3833 21.7375 14.6833 21.2125 15.9C20.6875 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6875 15.9 21.2125C14.6833 21.7375 13.3833 22 12 22ZM12 20C14.2333 20 16.125 19.225 17.675 17.675C19.225 16.125 20 14.2333 20 12C20 9.76667 19.225 7.875 17.675 6.325C16.125 4.775 14.2333 4 12 4C9.76667 4 7.875 4.775 6.325 6.325C4.775 7.875 4 9.76667 4 12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CloseRefreshedIcon=a}),98);
__d("WAWebDebugParticipantsListModal.react",["WAWebApiContact","WAWebConfirmPopup.react","WAWebDevOnlyBadge.react","WAWebDropdownItem.react","WAWebModalManager","WAWebWidFactory","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.participants;return i.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){return d("WAWebModalManager").ModalManager.open(i.jsx(j,{participants:b}))},children:i.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Show participants"})})}a.displayName=a.name+" [from "+f.id+"]";function j(a){a=a.participants;a=a.map(function(a){return d("WAWebWidFactory").toUserWid(a.id)});var b=a.filter(function(a){return!a.isLid()});a=a.filter(function(a){return a.isLid()});return i.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:"Debug Participants List",okText:"Close",onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:i.jsxs("div",{className:"x1jn0hjm x14aock7 x1rife3k",children:[i.jsxs("h2",{children:["Phone JIDs (",b.length,")"]}),b.map(function(a,b){return i.jsx("div",{children:a.toString()},b)}),i.jsx("br",{}),i.jsxs("h2",{children:["LID JIDs (",a.length,")"]}),a.map(function(a,b){return i.jsx("div",{children:k(a)},b)})]})})}j.displayName=j.name+" [from "+f.id+"]";function k(a){var b;b=(b=(b=d("WAWebApiContact").getPhoneNumber(a))==null?void 0:b.toString())!=null?b:"N/A";return i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"x1rg5ohu x1oysuqx",children:a.toString()}),i.jsxs("span",{children:["phone: ",b]})]})}g.DebugParticipantsListMenu=a}),98);
__d("WAWebConversationMenus",["fbt","WAWebABProps","WAWebBlocklistUtils","WAWebChatAssignmentLogEvents.flow","WAWebChatAssignmentUtils","WAWebChatAssignmentWithContainerIcon","WAWebChatContextMenuItemEditList.react","WAWebChatEphemerality","WAWebChatGroupUtils","WAWebCheckRefreshedIcon","WAWebClearRefreshedIcon","WAWebCloseRefreshedIcon","WAWebCmd","WAWebCopyToClipboard","WAWebDebugParticipantsListModal.react","WAWebDeleteMenuItem.react","WAWebDevOnlyBadge.react","WAWebDisappearingMessagesRefreshedIcon","WAWebDropdownItem.react","WAWebDropdownItemSeparator.react","WAWebFavoriteRefreshedIcon","WAWebGroupType","WAWebInboxFiltersGatingUtils","WAWebInfoRefreshedIcon","WAWebL10NHelpers","WAWebLeaveCommunityModal.react","WAWebListsGatingUtils","WAWebModalManager","WAWebMuteMenuItem.react","WAWebProtobufsE2E.pb","WAWebSendNonMessageDataRequest","WAWebSpamConstants","WAWebStateUtils","WAWebSuspendedGroupUtils","WAWebSyncGatingUtils","WAWebUIRefreshGatingUtils","WAWebUnfavoriteRefreshedIcon","WAWebWamEnumEphemeralSettingEntryPointType","WAWebWamEnumFavoritesUpdateEntryPoint","gkx","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a,b){var e,f=[],g=function(){d("WAWebCmd").Cmd.ephemeralDrawer(d("WAWebStateUtils").unproxy(a),!1,d("WAWebWamEnumEphemeralSettingEntryPointType").EPHEMERAL_SETTING_ENTRY_POINT_TYPE.CHAT_OVERFLOW)},i=d("WAWebUIRefreshGatingUtils").listRefreshEnabled();d("WAWebChatAssignmentUtils").canAssignChats()&&f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){d("WAWebCmd").Cmd.assignChat(a,d("WAWebChatAssignmentLogEvents.flow").ChatAssignmentEntryPointType.CONVERSATION_MENU)},icon:i?j.jsx(d("WAWebChatAssignmentWithContainerIcon").ChatAssignmentWithContainerIcon,{}):null,children:h._("__JHASH__AwRjMee6qj7__JHASH__")},"assignChat"));f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.chatInfoDrawer(a)},icon:i?j.jsx(d("WAWebInfoRefreshedIcon").InfoRefreshedIcon,{}):null,children:((e=a.groupMetadata)==null?void 0:e.groupType)===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP?h._("__JHASH__lj5PxT_IjQN__JHASH__"):h._("__JHASH__aBmR51CpRtQ__JHASH__")},"info"));f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:b,icon:i?j.jsx(d("WAWebCheckRefreshedIcon").CheckRefreshedIcon,{}):null,children:h._("__JHASH__bSItAEtwYkW__JHASH__")},"select"));f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.closeChat(a)},icon:i?j.jsx(d("WAWebCloseRefreshedIcon").CloseRefreshedIcon,{}):null,children:h._("__JHASH__2X2ZhctfAUh__JHASH__")},"close"));a.mute.canMute()&&f.push(j.jsx(c("WAWebMuteMenuItem.react"),{onMute:function(b){return d("WAWebCmd").Cmd.muteChat(a,b)},mute:a.mute,chat:a},"mute"));d("WAWebABProps").getABPropConfigValue("add_dm_to_chat_overflow_menu")&&d("WAWebChatEphemerality").shouldShowEphemeralSetting(a)&&((e=a.groupMetadata)==null?void 0:e.canSetEphemeralSetting())&&f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:g,icon:i?j.jsx(d("WAWebDisappearingMessagesRefreshedIcon").DisappearingMessagesRefreshedIcon,{}):null,children:h._("__JHASH__DBbHtG2VesT__JHASH__")},"disappearingMessages"));f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.clearChat(a)},icon:i?j.jsx(d("WAWebClearRefreshedIcon").ClearRefreshedIcon,{}):null,children:h._("__JHASH__zCXeZd-ao8X__JHASH__")},"clear"));b=function(){if(d("WAWebBlocklistUtils").isRBIForGroupsEnabled()&&!d("WAWebChatGroupUtils").isCommunityAnnouncementGroup(a)&&!a.isReadOnly)d("WAWebSuspendedGroupUtils").openLeaveAndReportGroupModal(a,d("WAWebSpamConstants").SpamFlow.GroupOverflowMenuLeaveReportUpsell);else{var b;b=(b=a.groupMetadata)==null?void 0:b.getParentGroupChat();b!=null&&d("WAWebChatGroupUtils").isCommunityAnnouncementGroup(a)?d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebLeaveCommunityModal.react").LeaveCommunityModal,{chat:b})):d("WAWebCmd").Cmd.deleteOrExitChat(a)}};f.push(j.jsx(c("WAWebDeleteMenuItem.react"),{onDeleteOrExit:b,chat:a},"delete"));if(a.canToggleFavorite()&&d("WAWebInboxFiltersGatingUtils").inboxFavoritesManagementEnabled()){a.isFavorite?(e=d("WAWebL10NHelpers").isUsingSupportedBritishEnglishLocale()?h._("__JHASH__DFo75fEWgYZ__JHASH__"):h._("__JHASH__JwzX1VIdfl0__JHASH__"),g=j.jsx(d("WAWebUnfavoriteRefreshedIcon").UnfavoriteRefreshedIcon,{})):(e=d("WAWebL10NHelpers").isUsingSupportedBritishEnglishLocale()?h._("__JHASH__T4TCB5zMNOD__JHASH__"):h._("__JHASH__TSuLGp-v849__JHASH__"),g=j.jsx(d("WAWebFavoriteRefreshedIcon").FavoriteRefreshedIcon,{}));f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.favoriteChat(a,!a.isFavorite,d("WAWebWamEnumFavoritesUpdateEntryPoint").FAVORITES_UPDATE_ENTRY_POINT.CHAT_HEADER_CONTEXT_MENU)},icon:i?g:null,children:e},"favorite"))}d("WAWebListsGatingUtils").isListsEnabled()&&f.push(j.jsx(d("WAWebChatContextMenuItemEditList.react").ChatContextMenuItemEditList,{chat:a,displayContext:"chat-header"}));c("gkx")("26258")||(f.push(j.jsx(d("WAWebDropdownItemSeparator.react").DropdownItemSeparator,{})),f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){void d("WAWebCopyToClipboard").copyTextToClipboard(a.id.toString())},children:j.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Copy Chat ID"})},"chat-copy-id")));if(!c("gkx")("26258")&&a.isGroup){i=(b=a.groupMetadata)==null?void 0:b.participants;i!=null&&f.push(j.jsx(d("WAWebDebugParticipantsListModal.react").DebugParticipantsListMenu,{participants:i},"showParticipants"))}return f}function b(a,b){var e=d("WAWebUIRefreshGatingUtils").listRefreshEnabled(),f=[];f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.chatInfoDrawer(a)},icon:e?j.jsx(d("WAWebInfoRefreshedIcon").InfoRefreshedIcon,{}):null,children:h._("__JHASH__n10V6InzDtc__JHASH__")},"info"));f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:b,icon:e?j.jsx(d("WAWebCheckRefreshedIcon").CheckRefreshedIcon,{}):null,children:h._("__JHASH__bSItAEtwYkW__JHASH__")},"select"));c("gkx")("26258")||f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.closeChat(a)},icon:e?j.jsx(d("WAWebCloseRefreshedIcon").CloseRefreshedIcon,{}):null,children:h._("__JHASH__2X2ZhctfAUh__JHASH__")},"close"));f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.clearChat(a)},icon:e?j.jsx(d("WAWebClearRefreshedIcon").ClearRefreshedIcon,{}):null,children:h._("__JHASH__zCXeZd-ao8X__JHASH__")},"clear"));f.push(j.jsx(c("WAWebDeleteMenuItem.react"),{onDeleteOrExit:function(){return d("WAWebCmd").Cmd.deleteOrExitChat(a)},chat:a},"delete"));return f}g.groupMenu=a;g.broadcastMenu=b}),226);
__d("WAWebBroadcastMenuDropdown.react",["WAWebConversationMenus","WAWebDropdown.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");b=i.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var c=a.chat,e=a.onSelectMessages;a=a.toContextMenuManager;a=a===void 0?!1:a;c=d("WAWebConversationMenus").broadcastMenu(c,e);return a?i.jsx("div",{ref:b,children:c}):i.jsx(d("WAWebDropdown.react").Dropdown,{ref:b,type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,children:c},"BroadcastMenuDropdown")}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WAWebBusinessProfileCopyPnDataToLidRows",["WALogger","WAWebBizGatingUtils","WAWebLidMigrationUtils","WAWebModelStorageUtils","WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["copyBusinessProfilePnDataToLidRows: error ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["copyBusinessProfilePnDataToLidRows: end migration"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["copyBusinessProfilePnDataToLidRows: start migration"]);j=function(){return a};return a}function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!d("WAWebBizGatingUtils").isLidMigrationForBusinessProfileEnabled()||c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").UserPrefs.BusinessProfileLidTableMigrationComplete))return;var e=!1;yield d("WAWebModelStorageUtils").getStorage().lock(["business-profile"],function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b[0];try{d("WALogger").LOG(j());var c=a.map(function(a){if(a==null)return null;var b=d("WAWebWidFactory").createUserWid(a==null?void 0:a.id);if(b.isLid())return null;var c=d("WAWebLidMigrationUtils").toPn(b);b=d("WAWebLidMigrationUtils").toLid(b);return b==null||(c==null?void 0:c.user)==null?null:{id:b.toString(),commandsDescription:(c=a.commandsDescription)!=null?c:a.commandsDescription,commands:(b=a.commands)!=null?b:a.commands,prompts:(c=a.prompts)!=null?c:a.prompts,automatedType:(b=a.automatedType)!=null?b:a.automatedType,welcomeMsgProtocolMode:(c=a.welcomeMsgProtocolMode)!=null?c:a.welcomeMsgProtocolMode}}).filter(Boolean);yield b.bulkCreateOrMerge(c);d("WALogger").LOG(i());e=!0}catch(a){d("WALogger").ERROR(h(),a).sendLogs("business-profile-lid-migration"),e=!1}});return function(a){return c.apply(this,arguments)}}());c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").UserPrefs.BusinessProfileLidTableMigrationComplete,e)});return k.apply(this,arguments)}g.copyBusinessProfilePnDataToLidRows=a}),98);
__d("WAWebQuickPromotionAction",["WAWebQuickPromotionCollection"],(function(a,b,c,d,e,f,g){function a(a){d("WAWebQuickPromotionCollection").QuickPromotionCollection.refreshPromotions(a)}g.loadedQuickPromotions=a}),98);
__d("WAWebSmbDataSharingServerUpdateAction",["WAWebCTWADataSharingModel"],(function(a,b,c,d,e,f,g){function a(a){d("WAWebCTWADataSharingModel").CTWADataSharingModel.setValue(a)}g.smbDataSharingSettingUpdateAction=a}),98);
__d("WAWebCTWABridgeApi",["WAWebAdEntryPointsConfigurationAction","WAWebNewCTWASuggestionAction","WAWebQuickPromotionAction","WAWebSmbDataSharingServerUpdateAction"],(function(a,b,c,d,e,f,g){a={newCTWASuggestion:function(a){a=a.suggestion;return d("WAWebNewCTWASuggestionAction").newCTWASuggestion(a)},revokeCTWASuggestion:function(a){a=a.suggestion;return d("WAWebNewCTWASuggestionAction").revokeCTWASuggestion(a)},loadedCTWASuggestions:function(a){a=a.suggestions;return d("WAWebNewCTWASuggestionAction").loadedCTWASuggestions(a)},loadedQuickPromotions:function(a){a=a.promotions;return d("WAWebQuickPromotionAction").loadedQuickPromotions(a)},smbDataSharingSettingUpdate:function(a){a=a.smbDataSharingSettingValue;return d("WAWebSmbDataSharingServerUpdateAction").smbDataSharingSettingUpdateAction(a)},loadedAdEntryPointsConfiguration:d("WAWebAdEntryPointsConfigurationAction").loadedAdEntryPointsConfiguration};g.CTWABridgeApi=a}),98);
__d("WAWebCTWASuggestionInitFromStorage",["Promise","WALogger","WATimeUtils","WAWebBackendApi","WAWebBizGatingUtils","WAWebSchemaCTWASuggestion"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["restoreCTWASuggestions: could not remove expired suggestions"]);i=function(){return a};return a}function a(){if(!d("WAWebBizGatingUtils").adsActionBannersEnabledOnStartup())return(h||(h=b("Promise"))).resolve();var a=d("WAWebSchemaCTWASuggestion").getCTWASuggestionTable();return a.all().then(function(b){var c=[],e=[];b.forEach(function(a){d("WATimeUtils").isInFuture(a.expiresAt)?c.push(a):e.push(a.id)});d("WAWebBackendApi").frontendFireAndForget("loadedCTWASuggestions",{suggestions:c});if(e.length>0)return a.bulkRemove(e)["catch"](function(){d("WALogger").ERROR(i()).devConsole(e)})})}g.restoreCTWASuggestions=a}),98);
__d("WAWebChangePhoneIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="change-phone";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=112;m=112;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 112 112",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M112 56C112 86.9279 86.9279 112 56 112C25.0721 112 0 86.9279 0 56C0 25.0721 25.0721 0 56 0C86.9279 0 112 25.0721 112 56ZM33 21C30.2386 21 28 23.2386 28 26V76C28 78.7614 30.2386 81 33 81H44C44.5523 81 45 80.5523 45 80V74.5C45 73.9477 44.5523 73.5 44 73.5H34.25C32.8693 73.5 31.75 72.3807 31.75 71V31C31.75 29.6193 32.8693 28.5 34.25 28.5H62C62.5523 28.5 63 28.0523 63 27.5V26C63 23.2386 60.7614 21 58 21H33Z",fill:"#06CF9C",fillOpacity:.15}),j.jsx("path",{d:"M28 26C28 23.2386 30.2386 21 33 21H58C60.7614 21 63 23.2386 63 26V27.5C63 28.0523 62.5523 28.5 62 28.5H34.25C32.8693 28.5 31.75 29.6193 31.75 31V71C31.75 72.3807 32.8693 73.5 34.25 73.5H44C44.5523 73.5 45 73.9477 45 74.5V80C45 80.5523 44.5523 81 44 81H33C30.2386 81 28 78.7614 28 76V26Z",fill:"#06CF9C",fillOpacity:.5}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49 37C49 34.2386 51.2386 32 54 32H79C81.7614 32 84 34.2386 84 37V87C84 89.7614 81.7614 92 79 92H54C51.2386 92 49 89.7614 49 87V68H52.75V82C52.75 83.3807 53.8693 84.5 55.25 84.5H77.75C79.1307 84.5 80.25 83.3807 80.25 82V42C80.25 40.6193 79.1307 39.5 77.75 39.5H55.25C53.8693 39.5 52.75 40.6193 52.75 42V56H49V37ZM61.5 87.625C61.5 87.2798 61.7798 87 62.125 87H70.875C71.2202 87 71.5 87.2798 71.5 87.625C71.5 87.9702 71.2202 88.25 70.875 88.25H62.125C61.7798 88.25 61.5 87.9702 61.5 87.625ZM64.9956 63.1401H42.15C41.5175 63.1401 41 62.6091 41 61.96C41 61.3109 41.5175 60.7799 42.15 60.7799H64.9956L59.3951 55.0091C58.9466 54.5489 58.9466 53.8054 59.3951 53.3452C59.8436 52.8849 60.5681 52.8849 61.0166 53.3452L68.5836 61.1339C69.0321 61.5942 69.0321 62.3376 68.5836 62.7979L61.0051 70.5748C60.5566 71.0351 59.8321 71.0351 59.3836 70.5748C58.9351 70.1146 58.9351 69.3593 59.3836 68.8991L64.9956 63.1401Z",fill:"#06CF9C"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ChangePhoneIcon=a}),98);
__d("WAWebChatArchiveBridge",["WALogger","WASyncdConst","WATimeUtils","WAWebApiActiveMessageRanges","WAWebArchiveChatSync","WAWebMessageRangeUtils","WAWebMiscErrors","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["update chat table failed"]);h=function(){return a};return a}function a(a,e,f){f=d("WATimeUtils").unixTimeMs();return c("WAWebArchiveChatSync").getMutationsForArchive(f,e,a).then(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f){try{yield d("WAWebMessageRangeUtils").lockForMessageRangeSync(["chat"],f,function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b[0];if(f[0].action!==d("WASyncdConst").Actions.Archive)throw c("err")("syncd: expected archive action from getMutationsForArchive");yield d("WAWebApiActiveMessageRanges").addActiveMessageRange(a.toString(),"archive",f[0].binarySyncAction);return b.merge(a.toString(),i(e))});return function(a){return g.apply(this,arguments)}}());return{status:200}}catch(a){if(a instanceof d("WAWebMiscErrors").DbOnLogoutAbort)throw a;d("WALogger").ERROR(h()).verbose().devConsole(a).sendLogs("update chat table failed when send conversation to archive");throw c("err")("update chat table failed")}});return function(a){return f.apply(this,arguments)}}())}function i(a){var b={archive:a};a&&(b.pin=void 0);return b}g.sendConversationArchive=a}),98);
__d("WAWebChatAssignmentNux.react",["fbt","WAWebChatAssignmentLogEvents","WAWebNux","WAWebUseIsFeatureEnabled","WAWebUserPrefsStore","WAWebWDSTooltip.react","react","useWAWebNux"],(function(a,b,c,d,e,f,g,h){var i;b=i||d("react");var j=b.useCallback,k=b.useEffect,l=b.useMemo,m=b.useState;function a(a){var b=a.chat,e=a.targetRef;a=c("useWAWebNux")(d("WAWebNux").NUX.CHAT_ASSIGNMENT);var f=a[0],g=a[1];a=m(!0);var i=a[0],n=a[1];a=c("WAWebUseIsFeatureEnabled")("MD_EXTENSION");var o=d("WAWebWDSTooltip.react").useWDSTooltip({target:e,element:h._("__JHASH__9Bpy5PG-n_p__JHASH__"),position:d("WAWebWDSTooltip.react").PopoverPosition.Bottom,alignment:d("WAWebWDSTooltip.react").PopoverAlignment.End,onClick:function(){r(),n(!1)}}),p=o.tooltip,q=o.showTooltip,r=o.hideTooltip;o=l(function(){return c("WAWebUserPrefsStore").getUser("chat_assignment_agent_has_assigned_chats")},[]);var s=j(function(){r(),n(!1)},[r]),t=f&&i&&a&&b.assignedAgent==null&&o==null;k(function(){t&&p==null&&e.current!=null&&(q(),g(),d("WAWebChatAssignmentLogEvents").logNuxShown(b))},[t,p,e,q,s,g,b]);return p}g["default"]=a}),226);
__d("WAWebUpdateOfflinePeerReceipts",["WALogger","WAWebChatCollection","WAWebCmd","WAWebGroupUnreadMessageType","WAWebMsgCollection","WAWebNewsletterCollection","WAWebUnreadMentionModel"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["updateOfflinePeerReceipt, chatUpdates: ",", ackUpdats: "," "]);h=function(){return a};return a}function a(a,b){if(!d("WAWebCmd").Cmd.isMainStreamReadyMd)return;d("WALogger").DEV(h(),a.length,b).devConsole(a,b);a.forEach(function(a){var b,e=a.chatId,f=a.unreadCount;a=a.unreadMentionsOfMe;b=(b=d("WAWebChatCollection").ChatCollection.get(e))!=null?b:c("WAWebNewsletterCollection").get(e);if(b!=null){e=a.map(function(a){return new(c("WAWebUnreadMentionModel"))({id:a.id,timestamp:a.timestamp})});(a=b.groupMetadata)==null?void 0:a.unreadMentionMetadata.reset();(a=b.groupMetadata)==null?void 0:a.unreadMentionMetadata.addUnreadMentions(e,d("WAWebGroupUnreadMessageType").UnreadMessageType.PERSISTANCE_LOAD);b.set({unreadCount:f})}});b.forEach(function(a){var b=a.msgKey;a=a.ack;b=d("WAWebMsgCollection").MsgCollection.get(b);b&&b.updateAck(a)})}g.updateOfflinePeerReceipt=a}),98);
__d("WAWebChatBridgeApi",["Promise","WAWebChatCollection","WAWebCommentAction","WAWebMsgKey","WAWebUpdateLastAddOnPreviewChatAction","WAWebUpdateOfflinePeerReceipts","WAWebUpdateUnreadChatAction"],(function(a,b,c,d,e,f,g){var h;a={getChat:function(a){a=a.chatId;return d("WAWebChatCollection").ChatCollection.get(a)},hasChat:function(a){a=a.chatId;return Boolean(d("WAWebChatCollection").ChatCollection.get(a))},isMessageSentToBusiness:function(a){a=a.msgKey;a=d("WAWebChatCollection").ChatCollection.get(c("WAWebMsgKey").from(a).remote);return(a==null?void 0:a.contact.isBusiness)===!0},chatCollectionAdd:function(a){var b=a.things;a=a.options;return d("WAWebChatCollection").ChatCollection.add(b,a)},chatCollectionGadd:function(a){a=a.chat;return d("WAWebChatCollection").ChatCollection.gadd(a)},chatCollectionTrigger:function(a){var b=a.name;a=a.args;d("WAWebChatCollection").ChatCollection.trigger(b,a)},updateOfflinePeerReceipt:function(a){var b=a.chatUpdates;a=a.ackUpdates;d("WAWebUpdateOfflinePeerReceipts").updateOfflinePeerReceipt(b,a)},chatCollectionUpdate:function(a){a=a.updates;a.forEach(function(a){var b=a.id;a=babelHelpers.objectWithoutPropertiesLoose(a,["id"]);b=d("WAWebChatCollection").ChatCollection.get(b);b&&b.set(a)})},updateChatReadStatus:function(a){var b=a.id;a=a.read;b=d("WAWebChatCollection").ChatCollection.get(b);b&&(a?d("WAWebUpdateUnreadChatAction").markSeen(b):d("WAWebUpdateUnreadChatAction").markUnseen(b))},updateChatUnreadMsgCountAndClearMentions:function(a){a=a.remote;a=d("WAWebChatCollection").ChatCollection.get(a);a&&(d("WAWebUpdateUnreadChatAction").updateUnreadCountMD(a,0,!1),d("WAWebUpdateUnreadChatAction").clearUnreadMentions(a))},updateChatLastAddOnPreview:function(a){a=a.chatMap;d("WAWebUpdateLastAddOnPreviewChatAction").updateModelsForLastAddOnPreview(a)},updateChatToLatest:function(a){a=a.chatIdToLatestUpdates;d("WAWebCommentAction").updateChatToLatest(a)},updateChatSortListener:function(a){a=a.enable;a?d("WAWebChatCollection").ChatCollection.enableSortListener(!0):d("WAWebChatCollection").ChatCollection.disableSortListener()},resetChatPreviewT:function(a){a=a.chatIds;a.forEach(function(a){a=d("WAWebChatCollection").ChatCollection.get(a);a&&(a.previewT=void 0)})},updateChatPreviewT:function(a){var b=a.threadMeta;d("WAWebChatCollection").ChatCollection.forEach(function(a){var c=b==null?void 0:b[a.id.toString({legacy:!0})];c!=null&&(a.previewT=c)})},updateBotInvokeSystemMsgCreated:function(a){a=a.chatId;a=d("WAWebChatCollection").ChatCollection.get(a);if(a!=null)return a.hasCreatedBotInvokeSystemMsg===!0?(h||(h=b("Promise"))).resolve():a.updateBotInvokeSystemMsgCreated()}};g.ChatBridgeApi=a}),98);
__d("WAWebChatInternalStatusHookWrapper",["cr:12061"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:12061")}),98);
__d("WAWebChatSearchMessageCell.react",["WATypeUtils","WAWebChatCell.react","WAWebChatLastMsg.react","WAWebChatMessageSearch","WAWebChatTimestamp.react","WAWebDomScroll","WAWebFocusIndicator","WAWebFocusTracer","WAWebFrontendMsgGetters","WAWebKeyboardHotKeys.react","WAWebMsgGetters","WAWebMsgType","WAWebStateUtils","react","useWAWebListener","useWAWebMsgValues"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useRef,l=b.useState;function a(a){var b,e,f=a.msg,g=a.author,h=a.onClick;b=d("useWAWebMsgValues").useMsgValues(a.msg.id,[(b=d("WAWebMsgGetters")).getId,b.getIsSentByMe,(e=d("WAWebFrontendMsgGetters")).getSenderObj,e.getRtl,e.getDir,b.getType,b.getT]);var i=b[0];b[1];b[2];b[3];b[4];b[5];b[6];var m=e.getChat(f),n=k(null),o=k(null);b=l(function(){return a.active?a.active.value===f:!1});e=b[0];var p=b[1];b=function(a,b){if(a==="focus"){var e=o.current;c("WAWebFocusTracer").focus(e);b&&e&&d("WAWebDomScroll").scrollIntoViewIfNeeded(e)}p(!!a)};d("useWAWebListener").useListener(a.active,i.toString(),b);var q=function(a){if(d("WATypeUtils").isFunction(h)){var b,c=d("WAWebChatMessageSearch").getSearchContext(m,d("WAWebStateUtils").unproxy(f).id);((b=c.msg)==null?void 0:b.type)!==d("WAWebMsgType").MSG_TYPE.ALBUM&&(c.msg=f);h(a,m,c,f)}};i=function(a){a.preventDefault(),a.stopPropagation(),c("WAWebFocusIndicator").shouldIndicateFocus(),q(a)};b=function(a){(a=n.current)==null?void 0:a.indicateFocus()};var r=function(){return!1},s=j.jsx(c("WAWebChatTimestamp.react"),{msg:f});g=j.jsx(c("WAWebChatLastMsg.react"),{msg:f.safe(),msgType:"Search",author:g,searchQuery:a.searchText!=null?[a.searchText]:[]});i={enter:i};return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:i,onFocus:b,ref:o,children:j.jsx(c("WAWebChatCell.react"),{ref:n,contextEnabled:r,theme:"chat-search",active:!!e,primaryDetail:s,secondary:g,primary:void 0,onClick:q})})}a.displayName=a.name+" [from "+f.id+"]";g.Message=a}),98);
__d("WAWebChatSearchMessageWithAuthorCell.react",["WAWebChatSearchMessageCell.react","WAWebFrontendContactGetters","WAWebFrontendMsgGetters","WAWebMsgGetters","react","useWAWebContactValues","useWAWebMsgValues"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=d("useWAWebMsgValues").useMsgValues(a.msg.id,[d("WAWebMsgGetters").getId]);b=b[0];var c=d("WAWebFrontendMsgGetters").getChat(a.msg),e=d("useWAWebContactValues").useContactValues(a.contact.id,[d("WAWebFrontendContactGetters").getFormattedShortName]);e=e[0];return i.jsx(d("WAWebChatSearchMessageCell.react").Message,{msg:a.msg,chat:c,author:e,searchText:a.searchText,onClick:a.onClick,active:a.active},b.toString())}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebChatSearchMessageList.react",["WAWebChatSearchMessageCell.react","WAWebChatSearchMessageWithAuthorCell.react","WAWebCmd","WAWebColumnChangeDispatch","WAWebComposeBoxActions","WAWebFindChatAction","WAWebFlatList.react","WAWebFrontendMsgGetters","WAWebKeyboardHotKeys.react","WAWebMsgGetters","WAWebTabOrder","react","useWAWebUIM"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useImperativeHandle,m=b.useRef,n=d("WAWebFlatList.react").FlatListFactory();function o(a){var b=a.msg,e=a.onClick,f=a.searchText;a=a.selection;return d("WAWebMsgGetters").getSender(b)&&d("WAWebMsgGetters").getIsGroupMsg(b)&&!d("WAWebMsgGetters").getIsNotification(b)&&!d("WAWebMsgGetters").getIsSentByMe(b)?j.jsx(c("WAWebChatSearchMessageWithAuthorCell.react"),{contact:b.senderObj,msg:b,chat:d("WAWebFrontendMsgGetters").getChat(b),searchText:f,onClick:e,active:a},b.id.toString()):j.jsx(d("WAWebChatSearchMessageCell.react").Message,{msg:b,chat:d("WAWebFrontendMsgGetters").getChat(b),searchText:f,onClick:e,active:a},b.id.toString())}o.displayName=o.name+" [from "+f.id+"]";e=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.selection,f=a.ftsResult,g=a.searchText,h=a.onFocusSearch,i=c("useWAWebUIM")(),p=m(null),q=function(a,b,c,e){a.preventDefault(),a.stopPropagation(),void d("WAWebFindChatAction").findExistingChat(b.id,"chatSearchMessageList").then(function(a){d("WAWebColumnChangeDispatch").Column.column===2&&(i==null?void 0:i.requestDismiss()),d("WAWebComposeBoxActions").ComposeBoxActions.focus(a),void d("WAWebCmd").Cmd.openChatAt({chat:a,msgContext:c,onSuccess:{mediaMsgToOpenInMediaViewer:e}})})},r=function(){return f||[]},s=function(){e.reset(!0)},t=function(){e.setFirst(!0)},u=function(a){if(a.target!==p.current)return;e.index<0?t():e.reset(!0)},v=function(a){a&&(a.preventDefault(),a.stopPropagation());a=e.next();e.index!==a&&e.setNext(!0)},w=function(a){a&&(a.stopPropagation(),a.preventDefault());a=e.prev();a>-1?e.setPrev(!0):h()},x=function(){return f.map(function(a){return{itemKey:a.id.toString(),msg:a}})};k(function(){e.init(r())},[]);l(b,function(){return{focusFirst:t,restoreFocus:s}});b={down:function(a){return v(a)},up:function(a){return w(a)}};return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:b,onFocus:u,"data-tab":d("WAWebTabOrder").TAB_ORDER.CHAT_SEARCH_MSG_LIST,ref:p,children:j.jsx(n,{flatListController:a.flatListController,direction:"vertical",data:x(),renderItem:function(a){a=a.msg;return j.jsx(o,{msg:a,selection:e,searchText:g,onClick:q})},forceConsistentRenderCount:!1})})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("WAWebDatePicker.react",["WAWebL10N","WAWebUseIsKeyboardUser","react","react-calendar","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={calendarOverride:{":first-child > .react-calendar_width":"xf2fit4",":first-child > .react-calendar_maxWidth":"xiovny",":first-child > .react-calendar_backgroundColor":"x13ydwdk",":first-child > .react-calendar_lineHeight":"x1cjocb7",":first-child > .react-calendar_boxSizing":"x1f0q22a",":first-child > .react-calendar_borderTopStartRadius":"x1tez8t4",":first-child > .react-calendar_borderTopEndRadius":"x1wdd4z3",":first-child > .react-calendar_borderBottomEndRadius":"x13cp8xe",":first-child > .react-calendar_borderBottomStartRadius":"x1gklatd",":first-child > .react-calendar_paddingBottom":"x1iw8phr",":first-child .react-calendar__tile--now_backgroundColor":"x1artvld",":first-child .react-calendar__tile--now_borderTopStartRadius":"xiqhc4b",":first-child .react-calendar__tile--now_borderTopEndRadius":"x1ey7d6w",":first-child .react-calendar__tile--now_borderBottomEndRadius":"x33m3v9",":first-child .react-calendar__tile--now_borderBottomStartRadius":"x1cws091",":first-child .react-calendar__tile:disabled_color":"xmdgcn3",":first-child .react-calendar__tile:disabled_cursor":"xmfynt6",":first-child .react-calendar__month-view__weekdays__weekday_textAlign":"x1s22pda",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day_backgroundColor":"x1bdrdso",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_backgroundColor":"x1gu7c6u",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderTopWidth":"x1hn2ltd",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderEndWidth":"x16b6vmy",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderBottomWidth":"x7mj1lt",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderStartWidth":"xiz71jx",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderTopStyle":"x1x04ifz",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderEndStyle":"x13t9i6d",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderBottomStyle":"x9vq33b",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderStartStyle":"x1ujs0pt",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderTopColor":"x1ppyohx",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderEndColor":"xh6gg7b",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderBottomColor":"xl1rl7o",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderStartColor":"x17tixax",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderTopStartRadius":"x1hfdxgz",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderTopEndRadius":"xppo158",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderBottomEndRadius":"x1w3omix",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_borderBottomStartRadius":"x4qerkx",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_color":"x1bak1w0",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_display":"x1xhbldp",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_width":"xqikpf9",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_height":"xc078lw",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_textAlign":"x6wgh2k",":first-child .react-calendar__tile--now.react-calendar__month-view__days__day > abbr_lineHeight":"xf5t2sd",":first-child .react-calendar__month-view__days__day_fontSize":"xw4zml3",":first-child .react-calendar__month-view__weekdays__weekday > abbr_fontSize":"xhtlxvv",":first-child .react-calendar__month-view__weekdays__weekday > abbr_textDecoration":"xra6te8",":first-child button_marginTop":"x1e4ppt3",":first-child button_marginEnd":"x1s9ur8s",":first-child button_marginBottom":"xaockbu",":first-child button_marginStart":"x1pj3a1u",":first-child button_borderTopWidth":"x1wq4j50",":first-child button_borderEndWidth":"x1sfqtfo",":first-child button_borderBottomWidth":"x1g3j6ey",":first-child button_borderStartWidth":"x1p37eoo",":first-child button_outline":"x15kiiuk",":first-child button_color":"x8aj355",":first-child button:enabled:hover_cursor":"x13q2vvg",":first-child .react-calendar__navigation_display":"x15i2d7n",":first-child .react-calendar__navigation_height":"x7tggq",":first-child .react-calendar__navigation_marginBottom":"xea0sh4",":first-child .react-calendar__navigation_backgroundColor":"xrr3a99",":first-child .react-calendar__navigation_color":"x1m4d0k2",":first-child .react-calendar__navigation_borderTopStartRadius":"x17z3i5w",":first-child .react-calendar__navigation_borderTopEndRadius":"x1irigvy",":first-child .react-calendar__navigation_borderBottomEndRadius":"x1fzbl9f",":first-child .react-calendar__navigation_borderBottomStartRadius":"x7hnqd8",":first-child .react-calendar__navigation__label__labelText_color":"xly1xnn",":first-child .react-calendar__navigation__arrow_minWidth":"x71ozu2",":first-child .react-calendar__navigation__arrow_background":"x1upy338",":first-child .react-calendar__navigation__arrow_color":"x1gzymcx",":first-child .react-calendar__navigation__arrow_display":"xsnudpq",":first-child .react-calendar__navigation__arrow_alignItems":"xd7iu77",":first-child .react-calendar__navigation__arrow_justifyContent":"xp1nbbt",":first-child .react-calendar__navigation__arrow_fontSize":"xtgu96i",":first-child .react-calendar__navigation__arrow_fontWeight":"xl48d2a",":first-child .react-calendar__navigation__arrow:disabled_color":"xuhdlvq",":first-child .react-calendar__navigation__arrow:disabled_cursor":"x1m8pmxx",":first-child .react-calendar__navigation__arrow:enabled:hover_opacity":"x5b4mxb",":first-child .react-calendar__month-view__days__day--neighboringMonth_color":"x1pqbnpz",":first-child .react-calendar__year-view > .react-calendar__tile_paddingTop":"x1cyavp5",":first-child .react-calendar__year-view > .react-calendar__tile_paddingEnd":"x1i7pydq",":first-child .react-calendar__year-view > .react-calendar__tile_paddingBottom":"xauqw0m",":first-child .react-calendar__year-view > .react-calendar__tile_paddingStart":"x1j4z2hw",":first-child .react-calendar__decade-view  > .react-calendar__tile_paddingTop":"x2g8o02",":first-child .react-calendar__decade-view  > .react-calendar__tile_paddingEnd":"xu1owvq",":first-child .react-calendar__decade-view  > .react-calendar__tile_paddingBottom":"x1waxneg",":first-child .react-calendar__decade-view  > .react-calendar__tile_paddingStart":"xb2o73r",":first-child .react-calendar__century-view  > .react-calendar__tile_paddingTop":"x1s05kqo",":first-child .react-calendar__century-view  > .react-calendar__tile_paddingEnd":"x1t3vnpe",":first-child .react-calendar__century-view  > .react-calendar__tile_paddingBottom":"x1fb7ar5",":first-child .react-calendar__century-view  > .react-calendar__tile_paddingStart":"xjdlplp",":first-child .react-calendar__tile_maxWidth":"xcwe0hv",":first-child .react-calendar__tile_paddingTop":"x1jq7lph",":first-child .react-calendar__tile_paddingEnd":"x8xv2t8",":first-child .react-calendar__tile_paddingBottom":"x80yvro",":first-child .react-calendar__tile_paddingStart":"x1dzsusv",":first-child .react-calendar__tile_background":"x1u43kwp",":first-child .react-calendar__tile_textAlign":"x1ayfghy",":first-child .react-calendar__tile_lineHeight":"x615f3y",":first-child .react-calendar__navigation__prev2-button_visibility":"x4tpv1n",":first-child .react-calendar__navigation__next2-button_visibility":"x1xwpm45",$$css:!0},focusStyles:{":first-child button:focus_boxShadow":"x1hegz0a",$$css:!0}};function a(a){var d=a.maxDate,e=a.minDate;a=a.onDateSelected;var f=c("WAWebUseIsKeyboardUser")();f=f.isKeyboardUser;var g=b("react-calendar")["default"];return j.jsx("div",{className:(i||(i=c("stylex")))(k.calendarOverride,f&&k.focusStyles),children:j.jsx(g,{minDate:e,maxDate:d,onClickDay:a,minDetail:"month",locale:c("WAWebL10N").getFullLocale()})})}a.displayName=a.name+" [from "+f.id+"]";g.DatePicker=a}),98);
__d("WAWebDatePickerContainer.react",["WAWebDatePicker.react","WAWebKeyboardRotateFocusModal.react","WAWebUserPrefsHistorySync","react","useWAWebFocusOnMount"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={overrideRotateFocusStyles:{position:"x1rv4328",$$css:!0}};function a(a){a=a.onDateSelected;var b=d("WAWebUserPrefsHistorySync").getHistorySyncEarliestDate()*1e3,e=new Date();b=new Date(b);var f=c("useWAWebFocusOnMount")();return i.jsx(c("WAWebKeyboardRotateFocusModal.react"),{xstyle:j.overrideRotateFocusStyles,children:i.jsx("div",{ref:f,tabIndex:-1,className:"xkxnv7c xtlo18s xg7h5cd x1sr759z x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj",children:i.jsx(d("WAWebDatePicker.react").DatePicker,{maxDate:e,minDate:b,onDateSelected:a})})})}a.displayName=a.name+" [from "+f.id+"]";g.DatePickerContainer=a}),98);
__d("WAWebDBSearchByDate",["WAWebDBMessageStoreUtils","WAWebDBMessageUtils","WAWebSchemaMessage","WAWebViewMode.flow","WAWebViewModeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=1;function a(a,b,c,d,e){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){b=d("WAWebDBMessageUtils").craftMessageRangeIndex(a,e,!1,b);a=d("WAWebDBMessageUtils").craftMessageRangeIndex(a,e,!1,c);e=(yield d("WAWebSchemaMessage").getMessageTable().between(["messageRangeIndex"],b,a,{lowerInclusive:!0,upperInclusive:!0,reverse:f,limit:h},function(a){return!d("WAWebViewModeUtils").isViewModeVisibleInSurface(d("WAWebViewMode.flow").ViewModeSurface.SEARCH,a.viewMode)||!d("WAWebDBMessageStoreUtils").shouldRenderInUI(a,void 0)}));return e[0]});return i.apply(this,arguments)}g.getClosestMessageBetweenDates=a}),98);
__d("WAWebSearchByDateUtils",["WALogger","WAWebDBSearchByDate","WAWebMsgKey","WAWebUserPrefsHistorySync","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["getClosestMessageFromDate found message in before search of date"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["getClosestMessageFromDate found message in after search of date"]);i=function(){return a};return a}function j(a){return Math.floor(a/1e3)}function k(a,b,d){var e=null;a!=null&&b!=null?d?e=a.t>=b.t?a.id:b.id:e=a.t<=b.t?a.id:b.id:a?e=a.id:b&&(e=b.id);return e!=null?c("WAWebMsgKey").fromString(e):null}function l(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=(yield d("WAWebDBSearchByDate").getClosestMessageBetweenDates(a,b,c,!0,e));a=(yield d("WAWebDBSearchByDate").getClosestMessageBetweenDates(a,b,c,!1,e));return k(f,a,e)});return m.apply(this,arguments)}function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=j(b.getTime());var c=d("WAWebUserPrefsHistorySync").getHistorySyncEarliestDate()*1e3,e=new Date().getTime();e=(yield l(a,b,e,!1));if(e!=null){d("WALogger").DEV(i());return e}e=(yield l(a,c,b,!0));if(e!=null){d("WALogger").DEV(h());return e}return e});return n.apply(this,arguments)}g.fromMillisecondsToSeconds=j;g.getClosestMessageFromDate=a}),98);
__d("WAWebSearchByTypeAndDateGatingUtils",["WAWebABProps"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebABProps").getABPropConfigValue("web_search_by_date_enabled")}g.searchByDateEnabled=a}),98);
__d("WAWebChatSearchDrawer.react",["fbt","Promise","WAAbortError","WAFtsIsSearchQueryEligibleForMessageSearch","WALogger","WAPromiseRaceAbort","WAShiftTimer","WAWebBackendErrors","WAWebChatListSearch.react","WAWebChatMessageSearch","WAWebChatSearchMessageList.react","WAWebCmd","WAWebComposeBoxActions","WAWebContactGetters","WAWebDatePickerContainer.react","WAWebDesktopUpsellPlatformAwareHooks","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDropdown.react","WAWebEmptyState.react","WAWebFlatList.react","WAWebFlatListController","WAWebFlex.react","WAWebFocusIndicator","WAWebFocusTracer","WAWebFrontendConstants","WAWebFrontendMsgGetters","WAWebFtsConstants","WAWebFtsMsgsCollection","WAWebHistorySyncComponents.react","WAWebKeyboardHotKeys.react","WAWebMsgCollection","WAWebNonEmptyString","WAWebNoop","WAWebSearchByDateUtils","WAWebSearchByTypeAndDateGatingUtils","WAWebSingleSelection","WAWebSpinner.react","WAWebUISpacing","WAWebUimUie.react","WAWebUimUieMenu.react","asyncToGeneratorRuntime","react","useLazyRef","useWAWebDebouncedCallback","useWAWebForceUpdate","useWAWebListener","useWAWebUIM","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[SBTD] Message not found for getClosestMessageFromDate"]);l=function(){return a};return a}e=k||d("react");var m=j||(j=c("react")),n=e.useEffect,o=e.useMemo,p=e.useRef,q=e.useState,r={flexNone:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",flexBasis:"xdl72j9",$$css:!0}};function s(a){var b=a.chat,e=a.resultsUnavailable,f=a.searching;a=a.searchText;a=(a||"").trim();if(c("WAFtsIsSearchQueryEligibleForMessageSearch")(a)){if(f)return m.jsx(d("WAWebEmptyState.react").SearchingMessages,{});else if(e)return m.jsx(d("WAWebEmptyState.react").SearchMessagesUnavailable,{});return m.jsx(d("WAWebEmptyState.react").SearchMessages,{})}return d("WAWebEmptyState.react").BeforeSearchMessages(b.title(),b.isGroup,d("WAWebContactGetters").getIsMe(b.contact))}s.displayName=s.name+" [from "+f.id+"]";e=m.forwardRef(a);function a(a,e){a=babelHelpers["extends"]({},a);var f=a.chat;a=d("useWAWebForceUpdate").useForceUpdateDONOTUSE();var g=c("useWAWebUIM")(),j=c("useWAWebUnmountSignal")(),k=q(""),t=k[0],u=k[1];k=q(!1);var v=k[0],w=k[1];k=q(!1);var x=k[0],y=k[1];k=q(null);var z=k[0],A=k[1];k=o(function(){return new(c("WAWebFlatListController"))()},[]);var B=o(function(){return new(c("WAWebFtsMsgsCollection"))(f)},[f]),C=p(null),D=o(function(){return new(c("WAWebSingleSelection"))([],function(a){return a.id.toString()})},[]),E=p(!1),F=p({}),G=p(null),H=p(null),I=p(null),J=p(null),K=c("useLazyRef")(function(){return new(d("WAShiftTimer").ShiftTimer)(function(){var a=F.current;a.searchText!==void 0&&u(a.searchText);a.searching!==void 0&&w(a.searching);a.resultsUnavailable!==void 0&&y(a.resultsUnavailable);F.current={}})}),L=function(a,b){b===void 0&&(b=75),Object.assign(F.current,a),a.searching===!0?K.current.debounce(0):K.current.debounce(b)},M=function(a){return a==null||!(a.scrollTop+d("WAWebFrontendConstants").SCROLL_FUDGE>a.scrollHeight-a.clientHeight)?!1:!(!B.hasMoreMsgs||E.current||v||B.searchPromise||!c("WAFtsIsSearchQueryEligibleForMessageSearch")((t||"").trim()))},N=function(){var a=F.current;if("searching"in a){return(a=a.searching)!=null?a:!1}return v},O=function(a){if(a.repeat)return;if(!G.current)return;if(C.current&&!C.current.cursorIsAtEnd())return;a.preventDefault();a.stopPropagation();c("WAWebFocusIndicator").shouldIndicateFocus();(a=G.current)==null?void 0:a.focusFirst()},P=function(b){b.preventDefault();b=B.head();if(!b)return;var a=d("WAWebFrontendMsgGetters").getChat(b);b=d("WAWebChatMessageSearch").getSearchContext(a,b.id);d("WAWebComposeBoxActions").ComposeBoxActions.focus(a);void d("WAWebCmd").Cmd.openChatAt({chat:a,msgContext:b})},Q=function(){c("WAWebFocusIndicator").shouldIndicateFocus(),c("WAWebFocusTracer").focus(C.current)},R=function(){g==null?void 0:g.requestDismiss()},S=function(a){c("WAWebFocusIndicator").maybeIndicateFocus(H.current)},T=function(){return Math.round(window.innerHeight/d("WAWebFlatList.react").DEFAULT_ITEM_HEIGHT)+1},U=c("useWAWebDebouncedCallback")(function(){var a;E.current=!1;var e=(t||"").trim();if(!c("WAFtsIsSearchQueryEligibleForMessageSearch")(e))return;(a=J.current)==null?void 0:a.abort();J.current=new AbortController();a=J.current.signal;var g=(i||(i=b("Promise"))).resolve().then(function(){N()||L({searching:!0})}).then(function(){return B.search({chat:f,count:T(),searchTerm:e})});I.current=c("WAPromiseRaceAbort")(g,a).then(function(a){if(j.aborted)throw new(d("WAAbortError").AbortError)();a&&!a.canceled&&e===t.trim()&&L({searching:!1,resultsUnavailable:!1})})["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")))["finally"](function(){I.current=void 0,J.current=void 0})["catch"](function(a){if(E.current)return;L({searching:!1,resultsUnavailable:a instanceof d("WAWebBackendErrors").E404})})},d("WAWebFtsConstants").FTS_TYPING_DELAY),V=function(){var a;U.cancel();B.resetSearch();B["delete"]();(a=J.current)==null?void 0:a.abort();E.current=!1;u("");w(!1)},W=function(a){a=a.trim();if(c("WAFtsIsSearchQueryEligibleForMessageSearch")(a))U(),E.current=!0,v||L({searching:!0});else{U.cancel();B.resetSearch();B["delete"]();(a=J.current)==null?void 0:a.abort();E.current=!1;v&&L({searching:!1,resultsUnavailable:!1})}},aa=function(a){if(!a){V();return}if(a===t)return;var b={searchText:a,resultsUnavailable:!1};W(a);u(a);L(b)},ba=function(a){M(a.currentTarget)&&(U(),E.current=!0)};n(function(){return function(){var a;U.cancel();B["delete"](!0);(a=J.current)==null?void 0:a.abort();K.current.cancel()}},[]);d("useWAWebListener").useListener(B,["bulk_remove"],a);a=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellAbPropCheck("search_results");var X=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellPlatformCheck();a=a&&X;X=B.toArray();x=X.length?null:m.jsx(s,{chat:f,searchText:t,searching:v,resultsUnavailable:x});if(x==null){var Y=t?d("WAWebNonEmptyString").asMaybeNonEmptyString(t.trim()):null;x=m.jsx(c("WAWebChatSearchMessageList.react"),{ref:G,flatListController:k,isSearching:!!Y,searchText:Y,ftsResult:X,selection:D,onFocusSearch:Q})}Y={down:O};D=v&&X.length?m.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:[r.flexNone,d("WAWebUISpacing").uiPadding.vert24],children:m.jsx(d("WAWebSpinner.react").Spinner,{stroke:6,size:24})}):null;var Z;Q=(t||"").trim();a!==!0&&c("WAFtsIsSearchQueryEligibleForMessageSearch")(Q)&&(Z=m.jsx(d("WAWebHistorySyncComponents.react").HistorySyncChatSearchIncompletePlaceholder,{}));O=d("WAWebSearchByTypeAndDateGatingUtils").searchByDateEnabled();var $=function(){A(null)},ca=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebSearchByDateUtils").getClosestMessageFromDate(f.id.toString(),a));$();if(a){var b=d("WAWebMsgCollection").MsgCollection.get(a.toString());b=d("WAWebChatMessageSearch").getSearchContext(f,(b=b==null?void 0:b.id)!=null?b:a);b.highlightMentionMsg=!0;b.enableAnimation=!1;b&&void d("WAWebCmd").Cmd.openChatAt({chat:f,msgContext:b})}else d("WALogger").DEV(l()),void d("WAWebCmd").Cmd.openChatBottom(f)});return function(b){return a.apply(this,arguments)}}();X=function(){var a;a=(a=C.current)==null?void 0:a.getCalendarElementRef();A({dirY:d("WAWebDropdown.react").DirY.TOP,dirX:d("WAWebDropdown.react").DirX.CENTER,type:d("WAWebDropdown.react").MenuType.DatePicker,menu:m.jsx(d("WAWebDatePickerContainer.react").DatePickerContainer,{onDateSelected:function(a){ca(a)}}),flipOnRTL:!0,anchor:a==null?void 0:a.current})};a=z?m.jsx(d("WAWebUimUie.react").UIE,{displayName:"DatePicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:$,children:m.jsx(c("WAWebUimUieMenu.react"),{contextMenu:z})}):null;return m.jsxs(c("WAWebDrawer.react"),{ref:e,children:[m.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__2mjpAs6w3Rr__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:R}),m.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:Y,onFocus:S,ref:H,className:"x1iek97a x1c4vz4f x2lah0s xdl72j9",children:m.jsx(d("WAWebChatListSearch.react").ListSearch,{ref:C,type:d("WAWebChatListSearch.react").ListSearchType.CHAT_MSG_SEARCH,onSearch:aa,onEnter:P,loading:v,focusOnMount:!0,showJumpToDateButton:O,onJumpToDateButtonClicked:X})}),a,m.jsxs(c("WAWebDrawerBody.react"),{flatListControllers:[k],className:"x1vjfegm x78zum5 xdt5ytf x1iyjqo2 x1odjw0f x150wa6m",onScroll:ba,id:"pane-side",children:[x,D,Z]})]},"search-modal")}a.displayName=a.name+" [from "+f.id+"]";a=e;g["default"]=a}),226);
__d("WAWebChevronRightRefreshedIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="chevron-right-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M12.6 12.0003L8.69999 8.10033C8.51666 7.91703 8.42499 7.68363 8.42499 7.40033C8.42499 7.11703 8.51666 6.88363 8.69999 6.70033C8.88332 6.51703 9.11666 6.42533 9.39999 6.42533C9.68332 6.42533 9.91666 6.51703 10.1 6.70033L14.7 11.3003C14.9 11.5003 15 11.7336 15 12.0003C15 12.267 14.9 12.5003 14.7 12.7003L10.1 17.3003C9.91666 17.4837 9.68332 17.5753 9.39999 17.5753C9.11666 17.5753 8.88332 17.4837 8.69999 17.3003C8.51666 17.117 8.42499 16.8837 8.42499 16.6003C8.42499 16.317 8.51666 16.0837 8.69999 15.9003L12.6 12.0003Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ChevronRightRefreshedIcon=a}),98);
__d("WAWebChevronCustomRefreshedIcons",["WAWebChevronRightRefreshedIcon","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={reversed:{display:"x1rg5ohu",transform:"xpk2tj9",$$css:!0},rotatedUp:{display:"x1rg5ohu",transform:"x1rbgqaq",$$css:!0},rotatedDown:{display:"x1rg5ohu",transform:"x1iffjtl",$$css:!0}};function a(a){return i.jsx(d("WAWebChevronRightRefreshedIcon").ChevronRightRefreshedIcon,babelHelpers["extends"]({},a,{xstyle:[a.xstyle,j.reversed]}))}a.displayName=a.name+" [from "+f.id+"]";function b(a){return i.jsx(d("WAWebChevronRightRefreshedIcon").ChevronRightRefreshedIcon,babelHelpers["extends"]({},a,{xstyle:[a.xstyle,j.rotatedUp]}))}b.displayName=b.name+" [from "+f.id+"]";function e(a){return i.jsx(d("WAWebChevronRightRefreshedIcon").ChevronRightRefreshedIcon,babelHelpers["extends"]({},a,{xstyle:[a.xstyle,j.rotatedDown]}))}e.displayName=e.name+" [from "+f.id+"]";g.ChevronLeftCustomRefreshedIcon=a;g.ChevronUpCustomRefreshedIcon=b;g.ChevronDownCustomRefreshedIcon=e}),98);
__d("WAWebClockBridgeApi",["WAWebClock"],(function(a,b,c,d,e,f,g){a={setWebClockSkew:function(a){a=a.newClockSkew;d("WAWebClock").Clock.setSkew(a)}};g.ClockBridgeApi=a}),98);
__d("useWAWebLexicalOnContentChange",["LexicalComposerContext","react","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useEffect;function a(a){var b=d("LexicalComposerContext").useLexicalComposerContext(),e=b[0],f=c("useWAWebStableCallback")(a);i(function(){var a=e.registerTextContentListener(function(a){f(a)});return a},[e,f])}g.useLexicalOnContentChange=a}),98);
__d("WAWebCommandPaletteController",["Lexical","LexicalComposer","LexicalComposerContext","WAWebCommandPaletteInput.react","WAWebFlex.react","WAWebLexicalUtils","WAWebModalManager","WAWebNoop","WAWebToArray","err","react","useWAWebLexicalEvent","useWAWebLexicalOnContentChange"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react"));e=b.createContext;var k=b.useContext,l=b.useEffect,m=b.useMemo,n=b.useState,o={container:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",backgroundColor:"x1x0w6k2",color:"x6s6g2w",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},pluginContainer:{maxHeight:"x12f24lm",$$css:!0}},p=e(null);function q(){var a=k(p);if(a==null)throw c("err")("useCommandPalette must be used inside of a CommandPaletteContext");return a}function r(a){var b=a.children,c=a.defaultPlugin,e=a.triggeredPlugins;a=n([]);var f=a[0],g=a[1];a=n("");var h=a[0],i=a[1];a=d("LexicalComposerContext").useLexicalComposerContext();var k=a[0],m=f[f.length-1],o=function(a){d("WAWebLexicalUtils").setTextContent(k,a),i(a)},q=function(a,b){b=(b=b==null?void 0:b.input)!=null?b:"";o(b);g([].concat(f,[{plugin:a,input:b}]))},r=function(a){var b=f.slice(0,f.length-1),c=b[b.length-1],d="";c!=null&&((a==null?void 0:a.input)!=null?d=a.input:c.plugin.restoreInputOnBack===!0&&(d=c.input));o(d);g(b)};a=function(){return g([])};var s=function(a,b){b=(b=b==null?void 0:b.input)!=null?b:"";o(b);g([{plugin:a,input:b}])},t=function(){d("WAWebModalManager").ModalManager.close()};l(function(){if(f.length===0){var a=e==null?void 0:e.find(function(a){var b=d("WAWebToArray").toArray(a.trigger);if(b.includes(h))return a});a!=null&&q(a.plugin)}},[h]);d("useWAWebLexicalEvent").useLexicalCommandListener(k,d("Lexical").KEY_BACKSPACE_COMMAND,function(a){h===""&&(a.preventDefault(),r());return!1});d("useWAWebLexicalOnContentChange").useLexicalOnContentChange(function(a){m!=null&&(m.input=a),i(a)});s={input:h,pushPlugin:q,popPlugin:r,clearStack:a,replaceStack:s,closeModal:t,activePlugin:(a=m==null?void 0:m.plugin)!=null?a:c,pluginStack:f,pluginList:e};return j.jsx(p.Provider,{value:s,children:b})}r.displayName=r.name+" [from "+f.id+"]";function s(){var a=q();a=a.activePlugin;return a!=null?j.jsx(d("WAWebFlex.react").FlexColumn,{align:"stretch",xstyle:o.pluginContainer,children:j.jsx(a.Component,{})}):null}s.displayName=s.name+" [from "+f.id+"]";function a(a){var b=a.defaultPlugin;a=a.triggeredPlugins;var e=m(function(){return{namespace:"CommandPaletteInput",onError:c("WAWebNoop")}},[]);return j.jsx(d("WAWebFlex.react").FlexColumn,{align:"stretch",xstyle:o.container,children:j.jsx(d("LexicalComposer").LexicalComposer,{initialConfig:e,children:j.jsxs(r,{defaultPlugin:b,triggeredPlugins:a,children:[j.jsx(d("WAWebCommandPaletteInput.react").CommandPaletteInput,{}),j.jsx(s,{})]})})})}a.displayName=a.name+" [from "+f.id+"]";g.useCommandPalette=q;g.CommandPalette=a}),98);
__d("WAWebCommandPaletteInput.react",["LexicalErrorBoundary","LexicalPlainTextPlugin","WAWebCommandPaletteController","WAWebFlex.react","WAWebMultilinePlugin","WAWebRichTextInputContentEditable.react","WAWebSearchIcon","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={container:{height:"xsdox4t",boxSizing:"x9f619",$$css:!0},relative:{position:"x1n2onr6",$$css:!0},contentEditable:{width:"xh8yej3",$$css:!0},prefixes:{display:"x78zum5",flexDirection:"x1q0g3np",alignItems:"x6s0dn4",$$css:!0},prefix:{display:"x78zum5",alignItems:"x6s0dn4",color:"x1r12vwb",$$css:!0},prefixSeparator:{display:"x78zum5",fontWeight:"x1xlr1w8",$$css:!0}};function a(){var a=d("WAWebCommandPaletteController").useCommandPalette(),b=a.activePlugin;b=(b=b==null?void 0:b.placeholder)!=null?b:"Search chats, messages, settings, and more";a=a.pluginStack.length?j.jsx("div",{className:(i||(i=c("stylex")))([k.prefixes]),children:a.pluginStack.filter(function(a){return a.plugin.shortName}).map(function(a){return j.jsxs("div",{className:(i||(i=c("stylex")))([k.prefix,d("WAWebUISpacing").uiMargin.start8]),children:[j.jsx("div",{className:"x2aouup xlyipyv x6ikm8r x10wlt62 xuxw1ft",children:a.plugin.shortName}),j.jsx("div",{className:i([k.prefixSeparator,d("WAWebUISpacing").uiPadding.start8]),children:"/"})]},a.plugin.id)})}):null;return j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",padding:[8,16],xstyle:k.container,children:[a==null?j.jsx(d("WAWebSearchIcon").SearchIcon,{}):a,j.jsx(d("WAWebFlex.react").FlexRow,{grow:1,xstyle:k.relative,marginStart:8,children:j.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{contentEditable:j.jsx(d("WAWebRichTextInputContentEditable.react").InputContentEditable,{xstyle:[k.contentEditable,d("WAWebUISpacing").uiMargin.start4],focusOnMount:!0,placeholder:b}),ErrorBoundary:d("LexicalErrorBoundary").LexicalErrorBoundary})}),j.jsx(d("WAWebMultilinePlugin").MultilinePlugin,{multiline:!1})]})}a.displayName=a.name+" [from "+f.id+"]";g.CommandPaletteInput=a}),98);
__d("WAWebThemeCommandPalettePlugin",["WAWebCommandPaletteController","WAWebLexicalWDSMenu.react","WAWebSettingsThemeIcon","WAWebSystemTheme","WAWebThemeContext","WAWebWDSMenuItems.react","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useContext;function a(){var a=d("WAWebCommandPaletteController").useCommandPalette(),b=k(d("WAWebThemeContext").ThemeContext),e=b.systemThemeMode?"system":b.theme,f=function(d){d==="system"?(b.setSystemThemeMode(!0),b.setTheme(c("WAWebSystemTheme").getCurrentTheme())):(b.setSystemThemeMode(!1),b.setTheme(d)),a.closeModal()},g=j.jsx(d("WAWebWDSMenuItems.react").SelectMenuItem,{optionId:"dark",primary:"Dark",onSelect:function(){return f("dark")}},"dark"),h=j.jsx(d("WAWebWDSMenuItems.react").SelectMenuItem,{optionId:"light",primary:"Light",onSelect:function(){return f("light")}},"light"),i=j.jsx(d("WAWebWDSMenuItems.react").SelectMenuItem,{optionId:"system",primary:"System",onSelect:function(){return f("system")}},"system"),l=[];b.theme==="light"?l=[g,h,i]:l=[h,g,i];return j.jsx(d("WAWebLexicalWDSMenu.react").LexicalWDSMenu,{forceSelection:!0,children:j.jsx(d("WAWebWDSMenuItems.react").SelectMenuItemGroup,{initialSelection:e,children:l.map(function(a){return a})})})}a.displayName=a.name+" [from "+f.id+"]";b={plugin:{id:"ThemeCommandPalettePlugin",placeholder:"Choose a theme",shortName:j.jsx(d("WAWebSettingsThemeIcon").SettingsThemeIcon,{width:16,height:16}),Component:a},trigger:"/theme",doc:{name:"App Theme",description:"Switch between the light and dark themes"}};g.ThemeCommandPalettePlugin=b}),98);
__d("WAWebCommandPalettePlugins",["WAWebThemeCommandPalettePlugin","cr:8750","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=[d("WAWebThemeCommandPalettePlugin").ThemeCommandPalettePlugin];if(!c("gkx")("26258")){var e;e=(e=b("cr:8750")==null?void 0:b("cr:8750").filter(Boolean))!=null?e:[];a.unshift.apply(a,e)}return a}g.getAvailablePlugins=a}),98);
__d("WAWebContactCell",["WAWebBizGatingUtils","WAWebChatStatus","WAWebChatTextStatusWrapper","WAWebContactGetters","WAWebContactImage.react","WAWebName.react","WAWebTextStatusGatingUtils","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=i.jsx(d("WAWebName.react").Name,{contact:a,showBusinessCheckmark:d("WAWebContactGetters").getShowBusinessCheckmarkAsPrimary(a),showLabelIcon:d("WAWebBizGatingUtils").canDisplayLabel(),titlify:!0,ellipsify:!0,you:!0}),e;d("WAWebTextStatusGatingUtils").receiveTextStatusEnabled()?e=i.jsx(c("WAWebChatTextStatusWrapper"),{contactId:a.id}):e=i.jsx(c("WAWebChatStatus"),{id:a.id});a=i.jsx(d("WAWebContactImage.react").ContactImage,{contact:a,size:40});return{primary:b,secondary:e,detailLeft:a}}g.getContactCellContent=a}),98);
__d("WAWebContact.MenuItem",["WAWebContactCell","WAWebWDSMenuItems.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.contact;a=a.onSelect;return i.jsx(d("WAWebWDSMenuItems.react").ActionMenuItem,babelHelpers["extends"]({optionId:"contact-"+b.id.toString(),onSelect:a},d("WAWebContactCell").getContactCellContent(b)))}a.displayName=a.name+" [from "+f.id+"]";g.ContactMenuItem=a}),98);
__d("WAWebContactSearchModel",["WAWebContactCollection","WAWebContactGetters","WAWebPhoneNumberSearch","WAWebSearchModel","WAWebSearchUtils"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.id="ContactSearch",b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.queryFn=function(a,b){var c=d("WAWebSearchUtils").normalizeString(a),e=d("WAWebPhoneNumberSearch").numberSearch(c);b=d("WAWebSearchUtils").filterPaginate(d("WAWebContactCollection").ContactCollection.getModelsArray(),function(b){var f=d("WAWebContactGetters").getIsUser(b);return a===""&&f?!0:f&&b.searchMatch(c,e)},b==null?void 0:b.pagination);var f=b.results;b=b.pagination;f=f.map(function(a){return{id:a.id.toString(),type:"contact",data:a}});return{type:"contact",results:f,pagination:b}};return b}(d("WAWebSearchModel").Search);g.ContactSearch=a}),98);
__d("WAWebSearchCollection",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.models=[],this.models=a}var b=a.prototype;b.query=function(a,b){var c;b!=null&&(b.pageLengthPerModel!=null&&(c={pagination:{pageLength:b.pageLengthPerModel,page:0}}));return this.models.map(function(b){b=b.query(a,c);return b}).filter(Boolean)};return a}();f.SearchCollection=a}),66);
__d("WAWebSparklesIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="sparkles";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=25;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 25",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M6.96618 14.136C6.90537 13.8719 6.74322 13.75 6.49997 13.75C6.25672 13.75 6.07429 13.8922 6.03376 14.136C5.46619 17.1834 5.48646 17.1631 2.42568 17.7726C2.14189 17.8335 2 18.0164 2 18.2398C2 18.4836 2.14189 18.6665 2.42568 18.7274C5.48646 19.3369 5.38511 19.3572 6.03376 22.3437C6.07429 22.5875 6.25672 22.75 6.49997 22.75C6.76347 22.75 6.90537 22.6078 6.96618 22.3437C7.61483 19.3572 7.51347 19.3369 10.5743 18.7274C10.8377 18.6665 11 18.5039 11 18.2398C11 17.996 10.8377 17.8335 10.5743 17.7726C7.51724 17.2044 7.51348 17.1835 6.9682 14.1472L6.96618 14.136Z",fill:"currentColor",style:{fillOpacity:1}}),j.jsx("path",{d:"M15.1417 3.39253C15.1195 2.99372 14.854 2.75 14.4779 2.75C14.146 2.75 13.8805 2.99372 13.8585 3.34822C13.1506 8.57718 12.9956 8.55501 7.57521 9.61853C7.24331 9.66284 7 9.90658 7 10.2611C7 10.6156 7.24331 10.8593 7.57521 10.9036C12.9956 11.6791 13.1725 11.8342 13.8585 17.1296C13.8805 17.5063 14.146 17.75 14.4779 17.75C14.854 17.75 15.1195 17.5063 15.1417 17.1075C15.7833 11.9007 16.0708 11.9228 21.4248 10.9036C21.7567 10.8371 22 10.6156 22 10.2611C22 9.88441 21.7567 9.66284 21.3362 9.61853C16.0266 8.73228 15.7833 8.59932 15.1417 3.39253Z",fill:"currentColor",style:{fillOpacity:1}})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.SparklesIcon=a}),98);
__d("WAWebDefaultCommandPalettePlugin",["Promise","WAWebChatCollection","WAWebChatListMenuItem.react","WAWebChatMsgIcon","WAWebChatSearchModel","WAWebChatlistUtils","WAWebCommandPaletteController","WAWebContact.MenuItem","WAWebContactSearchModel","WAWebContactsIcon","WAWebFlex.react","WAWebKeyboardShortcut.react","WAWebLexicalWDSMenu.react","WAWebNoop","WAWebPanelRecentIcon","WAWebSearchCollection","WAWebSettingSearchModel","WAWebSettings.MenuItem","WAWebSettingsIcon","WAWebSparklesIcon","WAWebStaticMenuItem.react","WAWebSvgComponentBase","WAWebWDSText.react","react"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useMemo,n=e.useState;function o(a){var b=a.icon;a=a.title;return k.jsx(d("WAWebStaticMenuItem.react").MenuHeading,{children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[k.jsx(d("WAWebFlex.react").FlexItem,{paddingEnd:8,children:b}),a]})})}o.displayName=o.name+" [from "+f.id+"]";function p(){var a=d("WAWebCommandPaletteController").useCommandPalette(),b=3,e=0,f=[],g=d("WAWebChatCollection").ChatCollection.getModelsArray();for(var h=0;h<g.length;h++){var i=g[h];!i.active&&i.shouldAppearInList&&(f.push(i),i.pin==null&&e++);if(e===b)break}i=f.sort(function(a,b){return((b=b.t)!=null?b:0)-((b=a.t)!=null?b:0)}).slice(0,b);return k.jsxs(d("WAWebLexicalWDSMenu.react").LexicalWDSMenu,{forceSelection:!0,children:[k.jsx(o,{title:"Recent Chats",icon:k.jsx(d("WAWebPanelRecentIcon").PanelRecentIcon,{})}),i.map(function(b){return k.jsx(d("WAWebChatListMenuItem.react").ChatMenuItem,{optionId:"recent-chat-"+b.id.toString(),chat:b,onSelect:function(){d("WAWebChatlistUtils").openExistingChat(b.id)["catch"](c("WAWebNoop")),a.closeModal()}},b.id.toString())})]})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.section,e=d("WAWebCommandPaletteController").useCommandPalette();switch(b.type){case"setting":return k.jsxs(k.Fragment,{children:[k.jsx(o,{title:"Settings",icon:k.jsx(d("WAWebSettingsIcon").SettingsIcon,{width:16,height:16,color:d("WAWebSvgComponentBase").SvgColorProp.TEAL})}),k.jsx(d("WAWebSettings.MenuItem").SettingsMenu,{settings:b.results.map(function(a){return a.data}),onSelect:function(a){d("WAWebSettings.MenuItem").openSettingDrawer(a.step),e.closeModal()}})]});case"chat":return k.jsxs(k.Fragment,{children:[k.jsx(o,{title:"Chats",icon:k.jsx(d("WAWebChatMsgIcon").ChatMsgIcon,{width:24,height:24,color:d("WAWebSvgComponentBase").SvgColorProp.TEAL})}),b.results.map(function(a){return k.jsx(d("WAWebChatListMenuItem.react").ChatMenuItem,{optionId:"context-menu-chat-"+a.id,chat:a.data,onSelect:function(){d("WAWebChatlistUtils").openExistingChat(a.data.id)["catch"](c("WAWebNoop")),e.closeModal()}},b.type+"-"+a.id)})]});case"contact":return k.jsxs(k.Fragment,{children:[k.jsx(o,{title:"Contacts",icon:k.jsx(d("WAWebContactsIcon").ContactsIcon,{width:24,height:24,color:d("WAWebSvgComponentBase").SvgColorProp.TEAL})}),b.results.map(function(a){return k.jsx(d("WAWebContact.MenuItem").ContactMenuItem,{contact:a.data,onSelect:function(){d("WAWebChatlistUtils").openOrCreateLatestChat(a.data.id)["catch"](c("WAWebNoop")),e.closeModal()}},b.type+"-"+a.id)})]});default:return}}q.displayName=q.name+" [from "+f.id+"]";function r(){var a=d("WAWebCommandPaletteController").useCommandPalette(),b;if(a.pluginList!=null){a=a.pluginList.find(function(a){return a.plugin.id==="HelpCommandPalettePlugin"});a!=null&&(b=function(){return k.jsxs(k.Fragment,{children:[k.jsx(d("WAWebStaticMenuItem.react").MenuSeparator,{}),k.jsxs(d("WAWebFlex.react").FlexRow,{padding:[8,24,16,24],align:"center",gap:16,children:[k.jsx(d("WAWebSparklesIcon").SparklesIcon,{width:32,height:32,color:d("WAWebSvgComponentBase").SvgColorProp.TEAL}),k.jsxs(d("WAWebWDSText.react").WDSTextMuted,{children:["Type ",k.jsx(d("WAWebKeyboardShortcut.react").KeyboardKey,{value:"/?"})," to see available plugins"]})]})]})})}return k.jsxs(k.Fragment,{children:[k.jsx(p,{}),b!=null&&k.jsx(b,{})]})}r.displayName=r.name+" [from "+f.id+"]";function a(){var a=d("WAWebCommandPaletteController").useCommandPalette(),e=n([]),f=e[0],g=e[1],i=m(function(){return new(d("WAWebSearchCollection").SearchCollection)([new(d("WAWebSettingSearchModel").SettingSearch)({maxPageLength:3}),new(d("WAWebChatSearchModel").ChatSearch)({maxPageLength:4}),new(d("WAWebContactSearchModel").ContactSearch)({maxPageLength:4})])},[]);l(function(){(h||(h=b("Promise"))).all(i.query(a.input)).then(function(a){return g(a)})["catch"](c("WAWebNoop"))},[i,a.input]);return a.input===""?k.jsx(r,{}):k.jsx(d("WAWebLexicalWDSMenu.react").LexicalWDSMenu,{forceSelection:!0,children:f.map(function(a){return a.results.length>0&&k.jsx(q,{section:a},a.type)})})}a.displayName=a.name+" [from "+f.id+"]";e={id:"DefaultCommand",placeholder:"Search anything",shortName:null,Component:a};g.DefaultCommandPalettePlugin=e}),98);
__d("WAWebHelpCommandPalettePlugin",["WAWebCommandPaletteController","WAWebDevOnlyBadge.react","WAWebFlex.react","WAWebLexicalWDSMenu.react","WAWebToArray","WAWebWDSMenuItems.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={trigger:{backgroundColor:"x18ba5f9",color:"xzwifym",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0}};function k(a){a=a.trigger;a=d("WAWebToArray").toArray(a);return i.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",padding:8,xstyle:j.trigger,children:a[0]})}k.displayName=k.name+" [from "+f.id+"]";function a(a){return{plugin:{id:"HelpCommandPalettePlugin",placeholder:"Search extra command palette functionality",shortName:"?",Component:function(){var b=d("WAWebCommandPaletteController").useCommandPalette();return i.jsx(d("WAWebLexicalWDSMenu.react").LexicalWDSMenu,{children:a.map(function(a){return a.doc!=null?i.jsx(d("WAWebWDSMenuItems.react").ActionMenuItem,{optionId:a.plugin.id,detailRight:i.jsx(k,{trigger:a.trigger}),primary:a.doc.isDevOnly===!0?i.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:a.doc.name}):a.doc.name,secondary:a.doc.description,onSelect:function(){return b.replaceStack(a.plugin)}},a.plugin.id):null}).filter(Boolean)})}},trigger:["/?","/help"],doc:{name:"Help",description:"Discover all of the things the Command Palette can do"}}}g.buildHelpCommand=a}),98);
__d("WAWebCommandPalette.react",["WAWebABProps","WAWebChatlistPanel.react","WAWebChatlistPanelMode","WAWebCmd","WAWebCommandPaletteController","WAWebCommandPalettePlugins","WAWebCommandPaletteUtils","WAWebDefaultCommandPalettePlugin","WAWebHelpCommandPalettePlugin","WAWebModal.react","WAWebModalManager","WAWebSettingsGetters","react","useWAWebListener","useWAWebSettingsValues"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useEffect;function l(){var a=d("WAWebCommandPalettePlugins").getAvailablePlugins(),b=d("WAWebHelpCommandPalettePlugin").buildHelpCommand(a);return{defaultPlugin:d("WAWebDefaultCommandPalettePlugin").DefaultCommandPalettePlugin,triggeredPlugins:[].concat(a,[b])}}function m(a){a=a.plugins;a=a==null?l():a;var b=a.defaultPlugin;a=a.triggeredPlugins;return j.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.CommandPaletteV2,children:j.jsx(d("WAWebCommandPaletteController").CommandPalette,{defaultPlugin:b,triggeredPlugins:a})})}m.displayName=m.name+" [from "+f.id+"]";function a(a){d("WAWebModalManager").ModalManager.open(j.jsx(m,{plugins:a}))}function n(){var a=d("useWAWebSettingsValues").useSettingsValues([d("WAWebSettingsGetters").getShowArchiveV2]);a=a[0];return j.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.CommandPalette,children:j.jsx(d("WAWebChatlistPanel.react").ChatlistPanel,{showArchiveV2:a,mode:c("WAWebChatlistPanelMode").CommandPalette})})}n.displayName=n.name+" [from "+f.id+"]";function b(){k(function(){d("WAWebCommandPaletteUtils").setIsCommandPaletteOpen(!0);return function(){d("WAWebCommandPaletteUtils").setIsCommandPaletteOpen(!1)}},[]);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"close_command_palette",function(){return d("WAWebModalManager").ModalManager.close()});return d("WAWebABProps").getABPropConfigValue("web_command_palette_plugins")?j.jsx(m,{}):j.jsx(n,{})}b.displayName=b.name+" [from "+f.id+"]";g.openCommandPaletteV2Modal=a;g.CommandPaletteModal=b}),98);
__d("WAWebShopIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="shop";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M11.9071327,2 C14.0034625,2 15.2227003,3.16428094 15.43674,5.27247106 L15.9324472,5.27272727 C17.9567472,5.27272727 19.6573296,6.79482129 19.8808762,8.80674021 L20.7899671,16.9885584 C21.0322623,19.1692155 19.4609095,21.1334065 17.2802524,21.3757017 C17.1345745,21.3918882 16.9881125,21.4 16.8415381,21.4 L6.97272727,21.4 C4.77865058,21.4 3,19.6213494 3,17.4272727 C3,17.2806983 3.00811182,17.1342363 3.02429825,16.9885584 L3.93338916,8.80674021 C4.14948416,6.86188526 5.7457871,5.37474446 7.68050995,5.27776269 L7.88181818,5.27272727 L8.37752533,5.27247106 C8.59156505,3.16428094 9.81080288,2 11.9071327,2 Z M15.9324472,6.67272727 L7.88181818,6.67272727 L7.71207742,6.67826233 C6.47693062,6.7590403 5.46330025,7.71507958 5.32482639,8.96134435 L4.41573548,17.1431625 C4.40525319,17.2375031 4.4,17.3323516 4.4,17.4272727 C4.4,18.8481508 5.55184923,20 6.97272727,20 L16.8415381,20 C16.9364592,20 17.0313077,19.9947468 17.1256483,19.9842645 C18.5378359,19.8273548 19.5554396,18.5553501 19.3985299,17.1431625 L18.489439,8.96134435 C18.3446708,7.65843118 17.2433783,6.67272727 15.9324472,6.67272727 Z M14.7555208,8.54553713 L14.8506156,8.55002336 C15.2346916,8.59412138 15.5102982,8.94122503 15.4662002,9.32530107 C15.2082527,11.571921 13.9710827,12.8090909 11.9071327,12.8090909 C9.84318262,12.8090909 8.6060127,11.571921 8.34806513,9.32530107 C8.30396711,8.94122503 8.57957375,8.59412138 8.96364979,8.55002336 C9.34772583,8.50592534 9.69482948,8.78153199 9.7389275,9.16560802 C9.91936771,10.7371699 10.5912887,11.4090909 11.9071327,11.4090909 C13.2229767,11.4090909 13.8948976,10.7371699 14.0753379,9.16560802 C14.1120862,8.84554466 14.3592551,8.60080726 14.6628902,8.55363847 L14.7555208,8.54553713 Z M11.9071327,3.4 C10.6172322,3.4 9.94591364,3.96060645 9.78307298,5.27122352 L14.0311924,5.27122352 C13.8683517,3.96060645 13.1970332,3.4 11.9071327,3.4 Z",fill:"currentColor",fillRule:"nonzero"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ShopIcon=a}),98);
__d("WAWebCommerceButton.react",["fbt","WAWebBizGatingUtils","WAWebBusinessProfileCollection","WAWebBusinessProfileTypes","WAWebBusinessProfileUtils","WAWebCatalogEntrypointIcon","WAWebDrawerManager","WAWebMenuBar.react","WAWebProductCatalogContext","WAWebProductCatalogSession","WAWebProductDetailsFlowLoadable","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebShopIcon","WAWebTabOrder","WAWebWamEnumBizPlatform","WAWebWamEnumCatalogEntryPoint","react","useWAWebUIM"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.chat,e=c("useWAWebUIM")();a=b.contact.businessProfile;if(d("WAWebBusinessProfileUtils").hasShop(a)){if(d("WAWebBizGatingUtils").bannedShopsEnabled()&&d("WAWebBusinessProfileUtils").isShopBanned(a))return null;var f=function(a){a.preventDefault(),d("WAWebBusinessProfileUtils").goToShop(b.contact.businessProfile)};return j.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:j.jsx(d("WAWebShopIcon").ShopIcon,{}),title:h._("__JHASH__rwhgXpZEUAM__JHASH__"),onClick:f})}if(a==null?void 0:a.isCatalogDisabledDueToMetaLinking)return null;if((a==null?void 0:(f=a.profileOptions)==null?void 0:f.commerceExperience)===d("WAWebBusinessProfileTypes").CommerceExperienceTypes.CATALOG||(a==null?void 0:a.catalogStatus)===d("WAWebBusinessProfileCollection").CATALOG_EXISTS){f=function(a){a.preventDefault();d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"ChatHeader"}}});a=d("WAWebProductCatalogContext").buildProductCatalogContext(new(d("WAWebProductCatalogSession").ProductCatalogSession)(),d("WAWebWamEnumBizPlatform").BIZ_PLATFORM.SMB,d("WAWebWamEnumCatalogEntryPoint").CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_CHAT);var c=b.contact.id;d("WAWebDrawerManager").DrawerManager.openDrawerRight(j.jsx(d("WAWebProductDetailsFlowLoadable").ProductDetailsFlowLoadable,{chat:b,catalogOwnerJid:c.toJid()}),{transition:"slide-left",uim:e,newDrawerContext:a})};return j.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:j.jsx(d("WAWebCatalogEntrypointIcon").CatalogEntrypointIcon,{}),title:h._("__JHASH__OxikoWSe1O9__JHASH__"),onClick:f})}return null}a.displayName=a.name+" [from "+f.id+"]";g.CommerceButton=a}),226);
__d("WAWebCommunityOutlineIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="community-outline";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M19.992 17C20.0031 16.2628 20.0099 15.9937 19.9606 15.4041C19.9559 15.347 19.9506 15.2962 19.9447 15.253C19.9007 14.9282 19.8237 14.6238 19.7226 14.3419C19.68 14.2233 19.6332 14.1094 19.5828 13.9999C19.5738 13.9805 19.5647 13.9611 19.5555 13.942C19.4612 13.7454 19.355 13.5636 19.2404 13.3956C19.3264 13.392 19.4137 13.3898 19.5023 13.3892L19.5555 13.389C20.2632 13.389 20.8883 13.4899 21.401 13.6205C21.4627 13.6362 21.5228 13.6523 21.5813 13.6688L21.5915 13.6717L21.6087 13.6766C22.069 13.8088 22.5875 14.0227 23.0245 14.3595C23.4788 14.7097 23.8921 15.2338 23.9736 15.9559C24.0117 16.2932 24 16.0153 23.9908 16.4244C23.9744 17.1535 23.3769 19 22.6608 19H19.6869C19.8643 18.6252 19.9692 17.9298 19.9822 17.4856C19.985 17.3925 19.9887 17.2199 19.992 17Z",fill:"currentColor"}),j.jsx("path",{d:"M2.41872 13.6688C2.47715 13.6524 2.53726 13.6362 2.599 13.6205C3.11171 13.49 3.73676 13.389 4.44446 13.389L4.49762 13.3892C4.58626 13.3899 4.67357 13.3921 4.7595 13.3957C4.64492 13.5637 4.53872 13.7455 4.44444 13.942C4.43524 13.9612 4.42615 13.9805 4.41718 14C4.36671 14.1094 4.31992 14.2234 4.27738 14.342C4.17628 14.6239 4.09928 14.9283 4.05525 15.253C4.04938 15.2963 4.04409 15.347 4.03932 15.4041C3.99008 15.9938 3.99682 16.2629 4.00795 17C4.01127 17.22 4.01498 17.3926 4.01771 17.4857C4.03074 17.9298 4.13562 18.6252 4.31303 19H1.33916C0.623061 19 0.0256195 18.1535 0.00922726 17.4245C2.95136e-05 17.0154 -0.0117388 16.2932 0.0263682 15.9559C0.107939 15.2339 0.521192 14.7098 0.975466 14.3596C1.41245 14.0228 1.9309 13.8088 2.39128 13.6766L2.40848 13.6717L2.41872 13.6688Z",fill:"currentColor"}),j.jsx("mask",{id:"mask0_210_34",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:5,y:12,width:14,height:7,children:j.jsx("path",{d:"M6.37097 18.6728C6.22771 18.5403 6.10436 18.3762 6.00893 18.1973C5.88016 17.9559 5.80223 17.6876 5.79477 17.4335C5.77998 16.9291 5.757 15.9342 5.81696 15.4918C5.84373 15.2944 5.89027 15.111 5.95085 14.9421C6.02317 14.7405 6.11797 14.5597 6.2284 14.3977C6.44704 14.077 6.72693 13.8296 7.01492 13.6386C7.049 13.616 7.08319 13.5941 7.11741 13.5731C7.57939 13.2888 8.09607 13.1117 8.52836 12.9865C8.90312 12.878 9.34966 12.7693 9.85708 12.6823C10.4851 12.5746 11.2063 12.5001 12 12.5001C12.7938 12.5001 13.515 12.5746 14.143 12.6823C14.6504 12.7693 15.0969 12.878 15.4717 12.9865C15.904 13.1117 16.4207 13.2888 16.8826 13.5731C16.9169 13.5941 16.9511 13.616 16.9851 13.6386C17.2731 13.8296 17.553 14.077 17.7717 14.3977C17.8821 14.5597 17.9769 14.7405 18.0492 14.9421C18.1098 15.111 18.1563 15.2944 18.1831 15.4918C18.2431 15.9342 18.2201 16.9291 18.2053 17.4335C18.1978 17.6876 18.1199 17.9559 17.9911 18.1973C17.8957 18.3762 17.7723 18.5403 17.6291 18.6729C17.4139 18.872 17.1537 19 16.8757 19H7.12439C6.84638 19 6.5862 18.872 6.37097 18.6728Z",fill:"#54656F"})}),j.jsx("g",{mask:"url(#mask0_210_34)",children:j.jsx("path",{d:"M7.56768 14.4719L7.56768 14.4719C7.59198 14.4558 7.61659 14.4401 7.64147 14.4248L7.64147 14.4248C7.98806 14.2115 8.4022 14.0641 8.80649 13.9471C9.14887 13.8479 9.55891 13.7481 10.0261 13.6679C10.6043 13.5688 11.2688 13.5001 12 13.5001C12.7313 13.5001 13.3957 13.5688 13.974 13.6679C14.4411 13.7481 14.8512 13.8479 15.1936 13.9471C15.5979 14.0641 16.012 14.2115 16.3586 14.4248L16.3586 14.4248C16.3835 14.4401 16.4081 14.4558 16.4324 14.4719L16.9811 13.6446L16.4324 14.4719C16.6396 14.6094 16.8159 14.771 16.9454 14.9609L17.7717 14.3977L16.9454 14.9609C17.0104 15.0564 17.0656 15.1617 17.1079 15.2797C17.1457 15.3851 17.1751 15.5004 17.1922 15.6261L18.1831 15.4918L17.1922 15.6262C17.2383 15.9667 17.2217 16.8608 17.2057 17.4042C17.2034 17.4827 17.1757 17.6012 17.1088 17.7266L17.9911 18.1973L17.1088 17.7266C17.0607 17.8168 17.0035 17.8893 16.9499 17.9389L17.6291 18.6729L16.9499 17.9389C16.9101 17.9757 16.8804 17.9925 16.8663 17.9989C16.8653 17.9993 16.8644 17.9997 16.8637 18H7.1364C7.13563 17.9997 7.13475 17.9993 7.13377 17.9989C7.11966 17.9925 7.08998 17.9757 7.05017 17.9389C6.99657 17.8893 6.93934 17.8168 6.89125 17.7266C6.82433 17.6012 6.79665 17.4827 6.79434 17.4042C6.77841 16.8608 6.76173 15.9667 6.8079 15.6262C6.82495 15.5004 6.85436 15.3851 6.89215 15.2797C6.93448 15.1617 6.98966 15.0564 7.05471 14.9609L6.30134 14.4474L7.05471 14.9609C7.18421 14.771 7.36045 14.6094 7.56768 14.4719Z",stroke:"currentColor",strokeWidth:2})}),j.jsx("mask",{id:"mask1_210_34",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:8,y:4,width:8,height:8,children:j.jsx("path",{d:"M9.91613 9.03805L9.10219 9.61901L9.91613 9.03805C9.86836 8.97113 9.82379 8.90186 9.78264 8.83049L8.91633 9.33L9.78264 8.83049C9.56772 8.45776 9.44434 8.02519 9.44434 7.56C9.44434 7.42212 9.45517 7.28739 9.47586 7.15644C9.66888 5.93473 10.7278 5 11.9999 5C13.2719 5 14.3309 5.93473 14.5239 7.15644C14.5446 7.28739 14.5554 7.42212 14.5554 7.56C14.5554 8.02519 14.432 8.45776 14.2171 8.83049C14.176 8.90186 14.1314 8.97113 14.0836 9.03805C13.8774 9.32698 13.6122 9.57121 13.306 9.75311C12.9248 9.97956 12.4793 10.11 11.9999 10.11C11.5204 10.11 11.0749 9.97956 10.6937 9.75311C10.3875 9.57121 10.1224 9.32698 9.91613 9.03805Z",stroke:"currentColor",strokeWidth:2})}),j.jsx("g",{mask:"url(#mask1_210_34)",children:j.jsx("path",{d:"M15.0834 9.33C15.0261 9.42949 14.964 9.52593 14.8976 9.61901C14.6109 10.0206 14.2426 10.3599 13.8167 10.6129C13.285 10.9287 12.6637 11.11 11.9999 11.11C11.3361 11.11 10.7147 10.9287 10.183 10.6129C9.75719 10.3599 9.38885 10.0206 9.10219 9.61901C9.03575 9.52593 8.97369 9.42949 8.91633 9.33C8.61608 8.80927 8.44434 8.20499 8.44434 7.56C8.44434 7.36964 8.4593 7.18272 8.48811 7.00038C8.75647 5.30182 10.2266 4 11.9999 4C13.7732 4 15.2433 5.30182 15.5117 7.00038C15.5405 7.18272 15.5554 7.36964 15.5554 7.56C15.5554 8.20499 15.3837 8.80927 15.0834 9.33Z",fill:"currentColor"})}),j.jsx("path",{d:"M7.01994 10.0243C7.07943 9.80287 7.11115 9.57012 7.11115 9.33004C7.11115 8.65375 6.8594 8.03766 6.44449 7.56909C5.95586 7.01727 5.24095 6.67004 4.44449 6.67004C2.97174 6.67004 1.77783 7.85729 1.77783 9.33004C1.77783 10.232 2.22561 11.0306 2.91099 11.5142C3.34475 11.8202 3.87368 12 4.44449 12C4.57186 12 4.69716 11.9911 4.81976 11.9738C5.28441 11.9082 5.7106 11.7225 6.06612 11.4492C6.52468 11.0968 6.86567 10.5986 7.01994 10.0243Z",fill:"currentColor"}),j.jsx("path",{d:"M17.934 11.4493C18.2895 11.7225 18.7157 11.9082 19.1803 11.9738C19.3029 11.9911 19.4282 12 19.5556 12C20.1264 12 20.6553 11.8202 21.0891 11.5141C21.7745 11.0306 22.2222 10.232 22.2222 9.33004C22.2222 7.85729 21.0283 6.67004 19.5556 6.67004C18.7591 6.67004 18.0442 7.01727 17.5556 7.56909C17.1407 8.03766 16.8889 8.65375 16.8889 9.33004C16.8889 9.57012 16.9206 9.80287 16.9801 10.0243C17.1344 10.5986 17.4754 11.0968 17.934 11.4493Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CommunityOutlineIcon=a}),98);
__d("WAWebComposeBox.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={footer:"_ak1i",botSuggestions:"_anyz",boxPanelWrapper:"_ak1m",pttComposerActive:"_ak1n",textMessageComposerContainer:"_ak1q",textMessageComposerInputContainer:"_ak1r",pttComposerContainer:"_ak1s",focusAnimation:"_ak1v"};b=a;g["default"]=b}),98);
__d("WAWebCongratulationsAnimation.react",["WAWebCongratulationsAnimationsUtils","WAWebLottieAnimationLoadable","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useImperativeHandle,l=b.useRef,m=b.useState,n={lottieComponent:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};e=j.forwardRef(a);function a(a,b){var e=a.onAnimationComplete;a=m(!1);var f=a[0],g=a[1];a=m(null);var h=a[0],i=a[1];a=l(null);var o=c("useWAWebUnmountSignal")(),p=function(){e==null?void 0:e();if(o.aborted)return;g(!1)},q=function(a){if(o.aborted)return;a=d("WAWebCongratulationsAnimationsUtils").getCongratulationsAnimationPath(a.animation);i(a);g(!0)};k(b,function(){return{triggerAnimation:q}});b=null;f&&h!=null&&(b=j.jsx("div",{className:"x10l6tqk x1omtkq1 x47corl x5yr21d xh8yej3 x78zum5 xl56j7k",children:j.jsx("div",{className:"x5yr21d xktia5q",children:j.jsx(d("WAWebLottieAnimationLoadable").LottieAnimation,{ref:a,autoplay:!0,path:h,onComplete:p,xstyle:n.lottieComponent})})}));return b}a.displayName=a.name+" [from "+f.id+"]";b=e;g.CongratulationsAnimation=b}),98);
__d("WAWebContactMutator",["WALogger","WAWebBizCoexGatingUtils","WAWebContactCollection","WAWebProtobufsAdv.pb","WAWebWidFactory"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["updated contact name"]);h=function(){return a};return a}function a(a){var b=a.contactId;a=a.pushname;b=d("WAWebContactCollection").ContactCollection.gadd(b);if(b.pushname===a)return!1;a={pushname:a};b.set(a);return!0}function b(a){a=a.lidPhoneNumberMappings;a.forEach(function(a){var b=a.lid;a=a.phoneNumber;b=d("WAWebContactCollection").ContactCollection.get(d("WAWebWidFactory").createUserWid(b,"lid"));var c=d("WAWebContactCollection").ContactCollection.get(d("WAWebWidFactory").createUserWid(a));b!=null&&(b.phoneNumber=d("WAWebWidFactory").createUserWid(a));b==null?void 0:b.updateContactBlocked();c==null?void 0:c.updateContactBlocked()})}function c(a){a=a.lidContactDataMappings;a.forEach(function(a){var b=a.lid,c=a.shareOwnPn,e=a.displayNameLID;a=a.requestedPnTimestamp;b=d("WAWebContactCollection").ContactCollection.gadd(b);b!=null&&(c!=null&&(b.shareOwnPn=c),e!=null&&(b.displayNameLID=e),a!=null&&(b.requestedPnTimestamp=a))})}function e(a){var b=a.contactId;a=a.name;d("WAWebContactCollection").ContactCollection.gadd(b).set({name:a});d("WALogger").LOG(h()).tags("contact")}function f(a){var b=a.contactId,c=a.disappearingModeDuration;a=a.disappearingModeSettingTimestamp;d("WAWebContactCollection").ContactCollection.gadd(b).set({disappearingModeDuration:c,disappearingModeSettingTimestamp:a})}function i(a){var b=a.contactId,c=a.textStatusString,e=a.textStatusEmoji,f=a.textStatusEphemeralDuration,g=a.textStatusLastUpdateTime;a=a.textStatusExpiryTs;d("WAWebContactCollection").ContactCollection.gadd(b).set({textStatusString:c,textStatusEmoji:e,textStatusEphemeralDuration:f,textStatusLastUpdateTime:g,textStatusExpiryTs:a})}function j(a){var b=a.contactId;a=a.businessInfo;if(a==null)return;d("WAWebContactCollection").ContactCollection.gadd(b).set(a)}function k(a){a=a.usernameUpdates;a.forEach(function(a){var b=a.id,c=a.username;a=a.displayNameLID;b=d("WAWebContactCollection").ContactCollection.gadd(d("WAWebWidFactory").createUserWid(b));if(b.username===c)return;b.username=c;a!=null&&(b.displayNameLID=a)})}function l(a){var b=a.contactId;a=a.advAccountType;if(d("WAWebBizCoexGatingUtils").bizHostedDevicesEnabled()){a=a===d("WAWebProtobufsAdv.pb").ADVEncryptionType.HOSTED;d("WAWebContactCollection").ContactCollection.gadd(b).set(a?{isHosted:!0,isOrHasBeenHosted:!0}:{isHosted:!1})}}function m(a){var b=a.showMe;b=b===void 0?!1:b;var c=a.showWithoutName;c=c===void 0?!1:c;a=a.includeLidContacts;a=a===void 0?!1:a;return d("WAWebContactCollection").ContactCollection.getFilteredContacts({showMe:b,showWithoutName:c,includeLidContacts:a})}function n(a){var b=a.id;a=a.usernamePin;b=d("WAWebContactCollection").ContactCollection.gadd(d("WAWebWidFactory").createUserWid(b));b.usernamePin=a}g.updatePushname=a;g.bulkUpdatePhoneNumberJids=b;g.bulkUpdateLidContactState=c;g.updateContactName=e;g.updateDisappearingMode=f;g.updateTextStatus=i;g.updateBusinessInfo=j;g.bulkUpdateUsernames=k;g.updateContactAdvAccountType=l;g.getFilteredContacts=m;g.updateUsernamePin=n}),98);
__d("WAWebContactBridgeApi",["WAWebBizUpdateContactsWithVerifiedNamesAction","WAWebContactCollection","WAWebContactMutator"],(function(a,b,c,d,e,f,g){b={updatePushname:(a=d("WAWebContactMutator")).updatePushname,bulkUpdatePhoneNumberJids:a.bulkUpdatePhoneNumberJids,updateContactName:a.updateContactName,bulkUpdateLidContactState:a.bulkUpdateLidContactState,updateDisappearingMode:a.updateDisappearingMode,updateTextStatus:a.updateTextStatus,updateContactWithVerifiedName:function(a){var b=a.contactId;a=a.verifiedNameInfo;b=d("WAWebContactCollection").ContactCollection.gadd(b);d("WAWebBizUpdateContactsWithVerifiedNamesAction").updateContactsWithVerifiedNames([a],[b])},addContactToCollection:function(a){var b=a.contact;a=a.option;d("WAWebContactCollection").ContactCollection.add(babelHelpers["extends"]({},b),a)},updateBusinessInfo:a.updateBusinessInfo,bulkUpdateUsernames:a.bulkUpdateUsernames,updateContactAdvAccountType:a.updateContactAdvAccountType,getFilteredContacts:a.getFilteredContacts,updateUsernamePin:a.updateUsernamePin};g.ContactBridgeApi=b}),98);
__d("WAWebDebugConvertToLidChatModal.react",["WAWebApiContact","WAWebCmd","WAWebComposeBoxActions","WAWebConfirmPopup.react","WAWebDeleteChatAction","WAWebDevOnlyBadge.react","WAWebDropdownItem.react","WAWebFindChatAction","WAWebModalManager","WAWebToast.react","WAWebToastManager","WAWebWidFactory","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.chat;return i.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,addSpacing:!0,action:function(){j(b)},children:i.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Convert to LID chat"})},"convertToLid")}a.displayName=a.name+" [from "+f.id+"]";function j(a){d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:"Yes",cancelText:"No",onCancel:function(){d("WAWebModalManager").ModalManager.close()},onOK:function(){d("WAWebModalManager").ModalManager.close(),void k(a)},children:"'Warning! This will DELETE your existing chat along with all message history and convert it to a new LID-based chat. Do you want to proceed?'"}))}function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebApiContact").getCurrentLid(d("WAWebWidFactory").toUserWid(a.id));if(b==null){d("WAWebToastManager").ToastManager.open(i.jsx(d("WAWebToast.react").Toast,{msg:"Unable to convert to lid chat: no lid found for "+a.id.toString()}));return}yield d("WAWebDeleteChatAction").sendDelete(a);a=(yield d("WAWebFindChatAction").findOrCreateLatestChat(b,"debugConvertToLidChat"));yield d("WAWebCmd").Cmd.openChatBottom(a);d("WAWebComposeBoxActions").ComposeBoxActions.focus(a)});return l.apply(this,arguments)}g.DebugConvertToLid=a}),98);
__d("WAWebContactMenuDropdown.react",["fbt","WATimeUtils","WAWebABProps","WAWebBizGatingUtils","WAWebBlockContactUtils","WAWebBlockContants","WAWebBlockRefreshedIcon","WAWebBlocklistUtils","WAWebChatAssignmentLogEvents.flow","WAWebChatAssignmentWithContainerIcon","WAWebChatContextMenuItemEditList.react","WAWebChatEphemerality","WAWebChatThreadLogging","WAWebCheckRefreshedIcon","WAWebClearRefreshedIcon","WAWebCloseRefreshedIcon","WAWebCmd","WAWebContactGetters","WAWebCopyToClipboard","WAWebDebugConvertToLidChatModal.react","WAWebDeleteMenuItem.react","WAWebDevOnlyBadge.react","WAWebDisappearingMessagesRefreshedIcon","WAWebDropdown.react","WAWebDropdownItem.react","WAWebDropdownItemSeparator.react","WAWebFrontendContactGetters","WAWebHeartIconCustom","WAWebHeartSlashIcon","WAWebInboxFiltersGatingUtils","WAWebInfoRefreshedIcon","WAWebL10NHelpers","WAWebListsGatingUtils","WAWebMessageLogQplEvents","WAWebModalManager","WAWebMuteMenuItem.react","WAWebProtobufsE2E.pb","WAWebReportContactPopup.react","WAWebReportSpamPopup.react","WAWebSendNonMessageDataRequest","WAWebSendSpamChatAction","WAWebSpamConstants","WAWebStateUtils","WAWebStreamModel","WAWebSyncGatingUtils","WAWebThumbsDownRefreshedIcon","WAWebUIRefreshGatingUtils","WAWebUseIsFeatureEnabled","WAWebWamEnumEphemeralSettingEntryPointType","WAWebWamEnumFavoritesUpdateEntryPoint","WAWebWamEnumPsaMessageRemoveEntryPoint","gkx","react","useWAWebContactValues","useWAWebForceUpdate","useWAWebListener","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useRef;function a(a){var b,e=a.contact,f=a.onSelectMessages,g=a.enableChatThreadLogging,i=d("useWAWebForceUpdate").useForceUpdateDONOTUSE(),j=d("useWAWebModelValues").useModelValues(a.chat,["isPSA","mute","id","contact","isGroup","promises","isNewsletter","isParentGroup","isUser","tcToken","tcTokenTimestamp","msgs","isFavorite"]);b=d("useWAWebContactValues").useContactValues(a.contact.id,[(b=d("WAWebContactGetters")).getId,b.getIsBusiness,b.getName,d("WAWebFrontendContactGetters").getIsContactBlocked,b.getIsMe,b.getIsMyContact,d("WAWebFrontendContactGetters").getBusinessProfile]);var n=b[0],o=b[1];b[2];var p=b[3],q=b[4];b[5];var r=b[6],s=m(null);d("useWAWebListener").useListener(d("WAWebStreamModel").Stream,"change:displayInfo",i);l(function(){g===!0&&d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"chatOverflowClicks",ts:d("WATimeUtils").unixTime(),chatId:j.id}])},[g,j.id]);var t=c("WAWebUseIsFeatureEnabled")("MD_EXTENSION"),u=function(){d("WAWebSendSpamChatAction").sendReport({chat:j,spamFlow:d("WAWebSpamConstants").SpamFlow.OverflowMenuReport}),d("WAWebModalManager").ModalManager.close()},v=function(){d("WAWebSendSpamChatAction").sendSpamBlockClear(j,d("WAWebSpamConstants").SpamFlow.OverflowMenuReport),d("WAWebModalManager").ModalManager.close()},w=function(){if(d("WAWebBlocklistUtils").isRBIRevampedBlockReportDesignEnabled()){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebReportContactPopup.react").ReportContactPopupV2,{chat:j,spamFlow:d("WAWebSpamConstants").SpamFlow.OverflowMenuReport}));return}d("WAWebModalManager").ModalManager.open((r==null?void 0:r.isBizBot3p)===!0?k.jsx(c("WAWebReportSpamPopup.react"),{isBizBot3p:!0,isMessage:!1,onReport:u,onReportBlockClear:v,onCancel:function(){return d("WAWebModalManager").ModalManager.close()}}):k.jsx(c("WAWebReportSpamPopup.react"),{isMessage:!1,isBusiness:o,isGroupChat:!1,onReport:u,onReportBlockClear:v,onCancel:function(){return d("WAWebModalManager").ModalManager.close()}}))},x=function(){d("WAWebCmd").Cmd.ephemeralDrawer(d("WAWebStateUtils").unproxy(a.chat),!1,d("WAWebWamEnumEphemeralSettingEntryPointType").EPHEMERAL_SETTING_ENTRY_POINT_TYPE.CHAT_OVERFLOW)},y=d("WAWebUIRefreshGatingUtils").listRefreshEnabled();b=function(){var b=[];t&&b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){d("WAWebCmd").Cmd.assignChat(j,d("WAWebChatAssignmentLogEvents.flow").ChatAssignmentEntryPointType.CONVERSATION_MENU)},icon:y?k.jsx(d("WAWebChatAssignmentWithContainerIcon").ChatAssignmentWithContainerIcon,{}):null,children:h._("__JHASH__AwRjMee6qj7__JHASH__")},"assignChat"));var g=k.jsx(d("WAWebInfoRefreshedIcon").InfoRefreshedIcon,{});j.isPSA||b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:function(){o&&d("WAWebMessageLogQplEvents").qplStartProfileView("ToolsMenu"),d("WAWebCmd").Cmd.chatInfoDrawer(j)},testid:void 0,icon:y?g:null,children:h._("__JHASH__ocgQKO3F0P8__JHASH__")},"info"));o&&(d("WAWebBizGatingUtils").canSeeECommerceComplianceIndiaSoftEnforcement(n)&&b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.merchantDetailsDrawer(n)},icon:y?g:null,children:h._("__JHASH__GEW-b_5vLT1__JHASH__")},"merchantDetails")));b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:f,icon:y?k.jsx(d("WAWebCheckRefreshedIcon").CheckRefreshedIcon,{}):null,children:h._("__JHASH__bSItAEtwYkW__JHASH__")},"select"));b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.closeChat(j)},icon:y?k.jsx(d("WAWebCloseRefreshedIcon").CloseRefreshedIcon,{}):null,children:h._("__JHASH__2X2ZhctfAUh__JHASH__")},"close"));j.mute.canMute()&&b.push(k.jsx(c("WAWebMuteMenuItem.react"),{onMute:function(a){j.isPSA?d("WAWebCmd").Cmd.muteChatFromEntryPoint(j,a,3):d("WAWebCmd").Cmd.muteChat(j,a)},mute:j.mute,chat:j},"mute"));d("WAWebABProps").getABPropConfigValue("add_dm_to_chat_overflow_menu")&&d("WAWebChatEphemerality").shouldShowEphemeralSetting(a.chat)&&b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:x,icon:y?k.jsx(d("WAWebDisappearingMessagesRefreshedIcon").DisappearingMessagesRefreshedIcon,{}):null,children:h._("__JHASH__SbyuHS547u5__JHASH__")},"disappearingMessages"));b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.clearChat(j)},icon:y?k.jsx(d("WAWebClearRefreshedIcon").ClearRefreshedIcon,{}):null,children:h._("__JHASH__zCXeZd-ao8X__JHASH__")},"clear"));b.push(k.jsx(c("WAWebDeleteMenuItem.react"),{onDeleteOrExit:function(){return d("WAWebCmd").Cmd.deleteOrExitChatFromEntryPoint(j,d("WAWebWamEnumPsaMessageRemoveEntryPoint").PSA_MESSAGE_REMOVE_ENTRY_POINT.DELETE_ALL_FROM_CONVERSATION)},chat:j},"delete"));if(j.canToggleFavorite()&&d("WAWebInboxFiltersGatingUtils").inboxFavoritesManagementEnabled()){var i;j.isFavorite?(g=d("WAWebL10NHelpers").isUsingSupportedBritishEnglishLocale()?h._("__JHASH__DFo75fEWgYZ__JHASH__"):h._("__JHASH__JwzX1VIdfl0__JHASH__"),i=k.jsx(d("WAWebHeartSlashIcon").HeartSlashIcon,{})):(g=d("WAWebL10NHelpers").isUsingSupportedBritishEnglishLocale()?h._("__JHASH__T4TCB5zMNOD__JHASH__"):h._("__JHASH__TSuLGp-v849__JHASH__"),i=k.jsx(d("WAWebHeartIconCustom").HeartIconCustom,{}));b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.favoriteChat(j,!j.isFavorite,d("WAWebWamEnumFavoritesUpdateEntryPoint").FAVORITES_UPDATE_ENTRY_POINT.CHAT_HEADER_CONTEXT_MENU)},icon:y?i:null,children:g},"favorite"))}d("WAWebListsGatingUtils").isListsEnabled()&&b.push(k.jsx(d("WAWebChatContextMenuItemEditList.react").ChatContextMenuItemEditList,{chat:j,displayContext:"chat-header"}));q||(!j.isPSA&&!j.id.isBot()&&b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:w,icon:y?k.jsx(d("WAWebThumbsDownRefreshedIcon").ThumbsDownRefreshedIcon,{}):null,children:h._("__JHASH__0LWVgvzVjNg__JHASH__")},"report")),j.id.isBot()||b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:p?function(){return d("WAWebBlockContactUtils").handleUnblock(e,d("WAWebBlockContants").BlockEntryPoint.OverflowMenuBlock)}:function(){return d("WAWebBlockContactUtils").handleBlock(j,d("WAWebBlockContants").BlockEntryPoint.OverflowMenuBlock)},icon:y?k.jsx(d("WAWebBlockRefreshedIcon").BlockRefreshedIcon,{}):null,children:p?h._("__JHASH__ql6Ff5i9w6g__JHASH__"):h._("__JHASH__vYOcznEwFoX__JHASH__")},"block")));c("gkx")("26258")||(b.push(k.jsx(d("WAWebDropdownItemSeparator.react").DropdownItemSeparator,{})),b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){void d("WAWebCopyToClipboard").copyTextToClipboard(j.id.toString())},children:k.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Copy Chat ID"})},"chat-copy-id")),!j.isGroup&&!j.id.isLid()&&b.push(k.jsx(d("WAWebDebugConvertToLidChatModal.react").DebugConvertToLid,{chat:j},"convertToLid")));return b};return a.toContextMenuManager?k.jsx("div",{ref:s,"data-testid":void 0,children:b()}):k.jsx(d("WAWebDropdown.react").Dropdown,{ref:function(a){s.current=a},type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,testid:void 0,children:b()},"ContactMenuDropdown")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCopyPnDataToLidRows",["WALogger","WAWebApiContact","WAWebModelStorageUtils","WAWebUserPrefsGeneral","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["copyPnDataToLidRows: error ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["copyPnDataToLidRows: end migration"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["copyPnDataToLidRows: start migration"]);j=function(){return a};return a}function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("WAWebUserPrefsGeneral").getContactsDbReadIsUsingLid())return;var e=!1;yield d("WAWebModelStorageUtils").getStorage().lock(["contact"],function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b[0];try{d("WALogger").LOG(j());var f=new Map();a.forEach(function(a){c("WAWebWid").isUser(a.id)&&!c("WAWebWid").isLid(a.id)&&f.set(d("WAWebWidFactory").createWid(a.id.toString()).toString(),a)});var g=d("WAWebApiContact").getAllLidContacts().filter(function(a){return d("WAWebApiContact").getPnIfLidIsLatestMapping(a)!=null}),k=new Set(g);g=a.map(function(a){var b;if(a==null||!k.has(d("WAWebWidFactory").createUserWid(a.id.toString()))||(a==null?void 0:a.phoneNumber)==null)return null;var c=f.get(a.phoneNumber.toString());return c==null?null:{id:a.id.toString(),name:(b=c.name)!=null?b:a.name,shortName:(b=c.shortName)!=null?b:a.shortName,pushname:(b=c.pushname)!=null?b:a.pushname,username:(b=c.username)!=null?b:a.username,type:(b=c.type)!=null?b:a.type,verifiedName:(b=c.verifiedName)!=null?b:a.verifiedName,isBusiness:(b=c.isBusiness)!=null?b:a.isBusiness,isEnterprise:(b=c.isEnterprise)!=null?b:a.isEnterprise,isAddressBookContact:(b=c.isAddressBookContact)!=null?b:a.isAddressBookContact,isContactSyncCompleted:(b=c.isContactSyncCompleted)!=null?b:a.isContactSyncCompleted,verifiedLevel:(b=c.verifiedLevel)!=null?b:a.verifiedLevel,statusMute:(b=c.statusMute)!=null?b:a.statusMute,sectionHeader:(b=c.sectionHeader)!=null?b:a.sectionHeader,disappearingModeDuration:(b=c.disappearingModeDuration)!=null?b:a.disappearingModeDuration,disappearingModeSettingTimestamp:(b=c.disappearingModeSettingTimestamp)!=null?b:a.disappearingModeSettingTimestamp,textStatusString:(b=c.textStatusString)!=null?b:a.textStatusString,textStatusEmoji:(b=c.textStatusEmoji)!=null?b:a.textStatusEmoji,textStatusEphemeralDuration:(b=c.textStatusEphemeralDuration)!=null?b:a.textStatusEphemeralDuration,textStatusLastUpdateTime:(b=c.textStatusLastUpdateTime)!=null?b:a.textStatusLastUpdateTime,textStatusExpiryTs:(b=c.textStatusExpiryTs)!=null?b:a.textStatusExpiryTs,contactHash:a.contactHash,pnContactHash:c.contactHash||"",syncToAddressbook:(b=c.syncToAddressbook)!=null?b:a.syncToAddressbook,phoneNumber:(c=a.phoneNumber)==null?void 0:c.toString(),phoneNumberCreatedAt:a.phoneNumberCreatedAt,requestedPnTimestamp:a.requestedPnTimestamp,shareOwnPn:a.shareOwnPn,displayNameLID:a.displayNameLID,isHosted:a.isHosted,isOrHasBeenHosted:a.isOrHasBeenHosted,lidOriginType:a.lidOriginType}}).filter(Boolean);yield b.bulkCreateOrMerge(g);d("WALogger").LOG(i());e=!0}catch(a){d("WALogger").ERROR(h(),a).sendLogs("contacts-db-lid-migration"),e=!1}});return function(a){return f.apply(this,arguments)}}());yield d("WAWebUserPrefsGeneral").setContactsDbReadIsUsingLid(e);d("WAWebUserPrefsGeneral").setContactsDbReadIsUsingLid_LS(e)});return k.apply(this,arguments)}g.copyPnDataToLidRows=a}),98);
__d("WAWebCreateOrUpdateGroupMetadataAction",["WAWebGroupMetadataCollection","WAWebGroupQueryBridge"],(function(a,b,c,d,e,f,g){function a(a){var b;d("WAWebGroupQueryBridge").updateSubject(a.id,a.subject);c("WAWebGroupMetadataCollection").gadd(babelHelpers["extends"]({id:a.id,owner:a.owner,subject:a.subject,creation:a.creation,desc:a.desc,descId:a.descId,descOwner:a.descOwner,descTime:a.descTime,restrict:a.restrict||!1,announce:a.announce||!1,noFrequentlyForwarded:a.noFrequentlyForwarded||!1,ephemeralDuration:a.ephemeralDuration||0,growthLockExpiration:a.growthLockExpiration,growthLockType:a.growthLockType,membershipApprovalMode:a.membershipApprovalMode,memberAddMode:a.memberAddMode,participants:a.participants,pastParticipants:a.pastParticipants,support:(b=a.support)!=null?b:!1,suspended:(b=a.suspended)!=null?b:!1,terminated:(b=a.terminated)!=null?b:!1,isParentGroup:(b=a.isParentGroup)!=null?b:!1,isParentGroupClosed:(b=a.isParentGroupClosed)!=null?b:!1,parentGroup:a.parentGroup,defaultSubgroup:(b=a.defaultSubgroup)!=null?b:!1,generalSubgroup:(b=a.generalSubgroup)!=null?b:!1,deviceStale:!0,size:a.size,incognito:a.incognito,isLidAddressingMode:a.isLidAddressingMode,reportToAdminMode:a.reportToAdminMode},a.reportToAdminMode===!1&&{lastReportToAdminTimestamp:null},{allowNonAdminSubGroupCreation:a.allowNonAdminSubGroupCreation,generalChatAutoAddDisabled:a.generalChatAutoAddDisabled,hasCapi:a.hasCapi,hiddenSubgroup:(b=a.hiddenSubgroup)!=null?b:!1}))}g.createOrUpdateGroupMetadataModelFromQuery=a}),98);
__d("WAWebCreateSendMsgRecord",["WALogger","WAWebAddonDBTable","WAWebDBMessageSerialization","WAWebMsgKey","WAWebMsgModel","WAWebSchemaMessage","WAWebSendMsgTypes","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["resendUserMsgJob didn't find an addonMsgData in the db"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["resendUserMsgJob didn't find a msg in the db"]);i=function(){return a};return a}function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){if(e===d("WAWebSendMsgTypes").SendMessageRecordType.Message){var f=(yield d("WAWebSchemaMessage").getMessageTable().get(a));if(f==null){d("WALogger").WARN(i());return null}f=new(d("WAWebMsgModel").Msg)(d("WAWebDBMessageSerialization").messageFromDbRow(f));return{type:d("WAWebSendMsgTypes").SendMessageRecordType.Message,data:f}}else if(e===d("WAWebSendMsgTypes").SendMessageRecordType.Addon){f=c("WAWebMsgKey").from(a);a=(yield d("WAWebAddonDBTable").addonDBTable.getByMsgKey(b,f));if(a==null){d("WALogger").WARN(h());return null}return{type:d("WAWebSendMsgTypes").SendMessageRecordType.Addon,data:a}}throw c("err")("unexpected msgRecordType: "+e)});return j.apply(this,arguments)}g.createMsgRecord=a}),98);
__d("WAWebCustomPaymentMethodsSyncBridgeApi",["WAWebCustomPaymentMethods"],(function(a,b,c,d,e,f,g){a={setCustomPaymentMethods:function(a){a=a.customPaymentMethods;d("WAWebCustomPaymentMethods").CustomPaymentMethods.setCustomPaymentMethods(a)}};g.CustomPaymentMethodsSyncBridgeApi=a}),98);
__d("WAWebVideoCallIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="video-call";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M3.27096 7.31042C3 7.82381 3 8.49587 3 9.84V14.16C3 15.5041 3 16.1762 3.27096 16.6896C3.5093 17.1412 3.88961 17.5083 4.35738 17.7384C4.88916 18 5.58531 18 6.9776 18H13.1097C14.502 18 15.1982 18 15.7299 17.7384C16.1977 17.5083 16.578 17.1412 16.8164 16.6896C17.0873 16.1762 17.0873 15.5041 17.0873 14.16V9.84C17.0873 8.49587 17.0873 7.82381 16.8164 7.31042C16.578 6.85883 16.1977 6.49168 15.7299 6.26158C15.1982 6 14.502 6 13.1097 6H6.9776C5.58531 6 4.88916 6 4.35738 6.26158C3.88961 6.49168 3.5093 6.85883 3.27096 7.31042Z",fill:"currentColor"}),j.jsx("path",{d:"M18.7308 9.60844C18.5601 9.75994 18.4629 9.97355 18.4629 10.1974V13.8026C18.4629 14.0264 18.5601 14.2401 18.7308 14.3916L20.9567 16.3669C21.4879 16.8384 22.3462 16.4746 22.3462 15.778V8.22203C22.3462 7.52542 21.4879 7.16163 20.9567 7.63306L18.7308 9.60844Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.VideoCallIcon=a}),98);
__d("WAWebVideoCallRefreshedIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="video-call-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M4 20C3.45 20 2.97917 19.8042 2.5875 19.4125C2.19583 19.0208 2 18.55 2 18V6C2 5.45 2.19583 4.97917 2.5875 4.5875C2.97917 4.19583 3.45 4 4 4H16C16.55 4 17.0208 4.19583 17.4125 4.5875C17.8042 4.97917 18 5.45 18 6V10.5L21.15 7.35C21.3167 7.18333 21.5 7.14167 21.7 7.225C21.9 7.30833 22 7.46667 22 7.7V16.3C22 16.5333 21.9 16.6917 21.7 16.775C21.5 16.8583 21.3167 16.8167 21.15 16.65L18 13.5V18C18 18.55 17.8042 19.0208 17.4125 19.4125C17.0208 19.8042 16.55 20 16 20H4ZM4 18H16V6H4V18Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.VideoCallRefreshedIcon=a}),98);
__d("WAWebDesktopUpsellCallingUnavailable.react",["fbt","WANullthrows","WAWebChevronCustomIcons","WAWebChevronCustomRefreshedIcons","WAWebDesktopUpsellCallingPopover.react","WAWebDesktopUpsellStoreOpener","WAWebDesktopUpsellUtils","WAWebFlex.react","WAWebPopover.react","WAWebTabOrder","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUnstyledButton.react","WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebVideoCallIcon","WAWebVideoCallRefreshedIcon","WAWebWDSDropdown.react","WAWebWamEnumWebcNativeUpsellCtaEventType","WAWebWamEnumWebcNativeUpsellCtaSourceType","WAWebWebcNativeUpsellCtaWamEvent","react","stylex","useWAWebDesktopUpsellWamImpression","useWAWebOnUnmount"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useEffect,n=b.useRef,o={menuBarBtnContainer:{position:"x1n2onr6",height:"x5yr21d",borderTopStartRadius:"xdxvlk3",borderTopEndRadius:"x1fglp",borderBottomEndRadius:"x1rp6h8o",borderBottomStartRadius:"xg6i1s1",transitionProperty:"x15406qy",transitionDuration:"x1d8287x",transitionTimingFunction:"xwji4o3","@media screen and (max-width: 720px)_paddingTop":"xj8bxqt","@media screen and (max-width: 720px)_paddingEnd":"x1o9mn2u","@media screen and (max-width: 720px)_paddingBottom":"xpbnuc5","@media screen and (max-width: 720px)_paddingStart":"x2btq54","@media screen and (max-width: 720px)_marginTop":"x86at4b","@media screen and (max-width: 720px)_marginEnd":"xzl7c9v","@media screen and (max-width: 720px)_marginBottom":"x1ad89wd","@media screen and (max-width: 720px)_marginStart":"x1i1grao",$$css:!0},videoCallIconGroup:{color:"x2jp5ct",$$css:!0},videoCallBtnShaded:{backgroundColor:"x1786zcw",$$css:!0},videoCallBtnOutlined:{borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopColor:"x10vq5hr",borderEndColor:"xbi89o0",borderBottomColor:"x1goaxin",borderStartColor:"x1ux35ld",$$css:!0}};function a(){var a=d("WAWebDesktopUpsellUtils").getUserDesktopOs(),b=n(null);a=d("WAWebWDSDropdown.react").useWDSDropdown({target:b,alignment:d("WAWebPopover.react").PopoverAlignment.End,position:d("WAWebPopover.react").PopoverPosition.Bottom,buffer:6,material:!0,children:l.jsx(p,{userDesktopOs:c("WANullthrows")(a)})});var e=a.popover,f=a.popoverIsVisible;a=r();m(function(){f&&s()},[f]);var g=h._("__JHASH__9FJLuFNCgJZ__JHASH__"),i=d("WAWebUIRefreshGatingUtils").listRefreshEnabled(),k=i?d("WAWebVideoCallRefreshedIcon").VideoCallRefreshedIcon:d("WAWebVideoCallIcon").VideoCallIcon,q=i?d("WAWebChevronCustomRefreshedIcons").ChevronDownCustomRefreshedIcon:d("WAWebChevronCustomIcons").ChevronDownCustomIcon;return l.jsx("div",{className:(j||(j=c("stylex")))(o.menuBarBtnContainer,d("WAWebUISpacing").uiMargin.start10,d("WAWebUISpacing").uiPadding.horiz10,d("WAWebUISpacing").uiPadding.top5,d("WAWebUISpacing").uiPadding.bottom3,!f&&!a&&o.videoCallBtnOutlined,f&&o.videoCallBtnShaded),ref:b,children:l.jsxs(c("WAWebUnstyledButton.react"),{title:g,"aria-label":g,dataTab:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,children:[l.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:o.videoCallIconGroup,children:[l.jsx(k,{xstyle:!i&&d("WAWebUISpacing").uiMargin.end6}),l.jsx(q,{height:i?20:10})]}),e]})})}a.displayName=a.name+" [from "+f.id+"]";function p(a){a=a.userDesktopOs;var b=d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.CALL_BTN_MODAL_2;d("useWAWebDesktopUpsellWamImpression").useWAWebDesktopUpsellWamImpression({isCtaVisible:!0,source:b});c("useWAWebOnUnmount")(function(){new(d("WAWebWebcNativeUpsellCtaWamEvent").WebcNativeUpsellCtaWamEvent)({webcNativeUpsellCtaEventType:d("WAWebWamEnumWebcNativeUpsellCtaEventType").WEBC_NATIVE_UPSELL_CTA_EVENT_TYPE.CTA_DISMISS,webcNativeUpsellCtaSource:b}).commit()});return l.jsx(d("WAWebDesktopUpsellCallingPopover.react").WAWebDesktopUpsellCallingPopover,{title:q(a),body:a===d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS?h._("__JHASH__ELcfZfzrNUW__JHASH__"):h._("__JHASH__Rx_sntM1NHc__JHASH__"),onClick:function(){d("WAWebDesktopUpsellStoreOpener").openExternalWhatsAppDesktopDownloadUrl(b)}})}p.displayName=p.name+" [from "+f.id+"]";function q(a){return a===d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS?h._("__JHASH__OcHC7PsDGpP__JHASH__"):h._("__JHASH__ofHZPK8jxoC__JHASH__")}q.displayName=q.name+" [from "+f.id+"]";function r(){var a=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").KEYS.DESKTOP_UPSELL_USER_HAS_CLICKED_CALL_MODAL);return!!a}function s(){c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.DESKTOP_UPSELL_USER_HAS_CLICKED_CALL_MODAL,!0)}g.WAWebDesktopCallingMenuButton=a}),226);
__d("WAWebDeviceSwitchingPopup.react",["fbt","WAWebChangePhoneIcon","WAWebConfirmPopup.react","WAWebFbtCommon","WAWebFlex.react","WAWebModal.react","WAWebModalManager","WAWebUISpacing","WAWebWDSText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={hyphen:{textAlign:"x2b8uid",fontWeight:"xk50ysn",fontSize:"x579bpy",color:"xzwifym",$$css:!0}};function a(a){a=a.otpCode;var b=function(){d("WAWebModalManager").ModalManager.close()};a=a.split("");var e=a.slice(0,3);a=a.slice(3);var f=k.jsx(d("WAWebChangePhoneIcon").ChangePhoneIcon,{});e=k.jsx("div",{dir:"ltr",children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",children:[e.map(function(a,b){return k.jsx(m,{content:a},b+":"+a)}),k.jsx("span",{className:(j||(j=c("stylex")))(l.hyphen,d("WAWebUISpacing").uiPadding.top20,d("WAWebUISpacing").uiPadding.horiz8),"aria-hidden":"true",children:"-"}),a.map(function(a,b){return k.jsx(m,{content:a},b+3+":"+a)})]})});return k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:b,okText:c("WAWebFbtCommon")("OK"),type:d("WAWebModal.react").ModalTheme.InviteNew,buttonAlign:"center",children:k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:d("WAWebUISpacing").uiPadding.all24,children:[f,k.jsx(d("WAWebWDSText.react").WDSTextLarge,{paddingTop:24,paddingBottom:24,weight:"medium",children:h._("__JHASH__esyUrtJoMLK__JHASH__")}),k.jsx("div",{className:"x1jchvi3",children:h._("__JHASH__aiJRoJzlrT6__JHASH__")}),e]})})}a.displayName=a.name+" [from "+f.id+"]";function m(a){a=a.content;return k.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:[d("WAWebUISpacing").uiMargin.horiz14,d("WAWebUISpacing").uiPadding.top20],children:k.jsx("span",{className:"x2b8uid xk50ysn x1q74xe4 x1jzgpr8 xzwifym",children:a})})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebDeviceSwitchAction",["WAWebDeviceSwitchingPopup.react","WAWebModalManager","WAWebNotificationBackend","WAWebUserPrefsMeUser","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=d("WAWebUserPrefsMeUser").getMeUser();b={wid:b,otpCode:a};void d("WAWebNotificationBackend").showDeviceSwitchNotification(b);d("WAWebModalManager").ModalManager.open(i.jsx(c("WAWebDeviceSwitchingPopup.react"),{otpCode:a}))}g.handleOpenDeviceSwitchCode=a}),98);
__d("WAWebDeviceSwitchingBridgeApi",["WAWebDeviceSwitchAction"],(function(a,b,c,d,e,f,g){a={showDeviceSwitchOtp:function(a){a=a.otpCode;d("WAWebDeviceSwitchAction").handleOpenDeviceSwitchCode(a)}};g.DeviceSwitchingBridgeApi=a}),98);
__d("WAWebDivider.react",["WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={divider:{height:"x1qx5ct2",borderEndWidth:"xm81vs4",borderEndStyle:"xu3j5b3",borderEndColor:"x1qqiy34",opacity:"xbyyjgo",$$css:!0}};function a(a){a=a.noMargin;a=a===void 0?!1:a;return j.jsx("div",{className:(i||(i=c("stylex")))(k.divider,d("WAWebUISpacing").uiMargin.end10,d("WAWebUISpacing").uiMargin.start18,a&&d("WAWebUISpacing").uiMargin.all0)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebExpressionsIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="expressions";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M8.49893 10.2521C9.32736 10.2521 9.99893 9.5805 9.99893 8.75208C9.99893 7.92365 9.32736 7.25208 8.49893 7.25208C7.6705 7.25208 6.99893 7.92365 6.99893 8.75208C6.99893 9.5805 7.6705 10.2521 8.49893 10.2521Z",fill:"currentColor"}),j.jsx("path",{d:"M17.0011 8.75208C17.0011 9.5805 16.3295 10.2521 15.5011 10.2521C14.6726 10.2521 14.0011 9.5805 14.0011 8.75208C14.0011 7.92365 14.6726 7.25208 15.5011 7.25208C16.3295 7.25208 17.0011 7.92365 17.0011 8.75208Z",fill:"currentColor"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.8221 19.9799C15.5379 21.2537 13.8087 21.9781 12 22H9.27273C5.25611 22 2 18.7439 2 14.7273V9.27273C2 5.25611 5.25611 2 9.27273 2H14.7273C18.7439 2 22 5.25611 22 9.27273V11.8141C22 13.7532 21.2256 15.612 19.8489 16.9776L16.8221 19.9799ZM14.7273 4H9.27273C6.36068 4 4 6.36068 4 9.27273V14.7273C4 17.6393 6.36068 20 9.27273 20H11.3331C11.722 19.8971 12.0081 19.5417 12.0058 19.1204L11.9935 16.8564C11.9933 16.8201 11.9935 16.784 11.9941 16.7479C11.0454 16.7473 10.159 16.514 9.33502 16.0479C8.51002 15.5812 7.84752 14.9479 7.34752 14.1479C7.24752 13.9479 7.25585 13.7479 7.37252 13.5479C7.48919 13.3479 7.66419 13.2479 7.89752 13.2479L13.5939 13.2479C14.4494 12.481 15.5811 12.016 16.8216 12.0208L19.0806 12.0296C19.5817 12.0315 19.9889 11.6259 19.9889 11.1248V9.07648H19.9964C19.8932 6.25535 17.5736 4 14.7273 4ZM14.0057 19.1095C14.0066 19.2605 13.9959 19.4089 13.9744 19.5537C14.5044 19.3124 14.9926 18.9776 15.4136 18.5599L18.4405 15.5576C18.8989 15.1029 19.2653 14.5726 19.5274 13.996C19.3793 14.0187 19.2275 14.0301 19.0729 14.0295L16.8138 14.0208C15.252 14.0147 13.985 15.2837 13.9935 16.8455L14.0057 19.1095Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ExpressionsIcon=a}),98);
__d("WAWebExpressionsPanelPicker.react",["fbt","ReactDOM","WANullthrows","WAWebAttachMenuGatingUtils","WAWebCmd","WAWebComposeBoxPanelTypes","WAWebDrawerManager","WAWebDropdown.react","WAWebEmojiPanel.react","WAWebExpressionsIcon","WAWebFlex.react","WAWebGifIcon","WAWebGifPanel.react","WAWebIconTabs.react","WAWebPanelsDisplayLocation","WAWebSmileyIcon","WAWebStickerIcon","WAWebStickerPanel.react","WAWebTabOrder","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUimUie.react","WAWebUnstyledButton.react","WAWebUserPrefsGeneral","WAWebVelocityTransitionGroup","react","stylex","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useImperativeHandle,n=b.useRef,o=b.useState,p={button:{color:"xfect85",$$css:!0},buttonRefresh:{color:"xzwifym",$$css:!0},activeButton:{color:"xjudz8i",$$css:!0},activeButtonRefresh:{backgroundColor:"x1786zcw",$$css:!0},tabsContainer:{borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xao2bj1",height:"xsdox4t",$$css:!0},tab:{width:"x1ig0tib",height:"x1pwvq5b",$$css:!0},expressionsPanelPickerWrapper:{display:"x78zum5",flex:"x98rzlu",alignItems:"xuk3077",alignSelf:"xpvyfi4",$$css:!0},expressionsPanelPickerWrapperRefresh:{minWidth:"x1fns5xo",alignItems:"x6s0dn4",justifyContent:"xl56j7k",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",":active_backgroundColor":"xyklrzc",$$css:!0}};e=l.forwardRef(a);function a(a,b){var e=a.getComposeBoxEditorRef,f=a.iconWidth,g=a.onEmoji,i=a.onGif,k=a.onSticker,q=a.onToggleActive;a=a.wrapperRef;var r=o(!1),s=r[0],t=r[1];r=o(d("WAWebComposeBoxPanelTypes").ComposeBoxExpressionPanel.EMOJI);var u=r[0],v=r[1],w=[d("WAWebComposeBoxPanelTypes").ComposeBoxExpressionPanel.EMOJI,i?d("WAWebComposeBoxPanelTypes").ComposeBoxExpressionPanel.GIF:null,k?d("WAWebComposeBoxPanelTypes").ComposeBoxExpressionPanel.STICKER:null].filter(Boolean),x=function(a){return w.includes(a)},y=n(null),z=n(null),A=n(null);r=o("");var B=r[0],C=r[1];r=o(null);var D=r[0];r=r[1];var E=o(!1),F=E[0],G=E[1];E=d("WAWebUIRefreshGatingUtils").composeBoxRefreshEnabled();var H=function(a){t(a),q==null?void 0:q(a)},I=function(a){C(a)},J=function(a){if(s)return;v(a);H(!0)},K=function(){C(""),H(!1)},L=function(){if(s)H(!1);else{var a=d("WAWebUserPrefsGeneral").getLastComposeBoxExpressionPanel();v(x(a)?a:d("WAWebComposeBoxPanelTypes").ComposeBoxExpressionPanel.EMOJI);H(!0)}},M=w.map(function(a){if(a===d("WAWebComposeBoxPanelTypes").ComposeBoxExpressionPanel.EMOJI)return{Icon:d("WAWebSmileyIcon").SmileyIcon,iconStyle:p.tab,ariaLabel:h._("__JHASH__tJd2_iASRmu__JHASH__")};if(a===d("WAWebComposeBoxPanelTypes").ComposeBoxExpressionPanel.GIF)return{Icon:d("WAWebGifIcon").GifIcon,iconStyle:p.tab,ariaLabel:h._("__JHASH__fgcair3r9qj__JHASH__")};if(a===d("WAWebComposeBoxPanelTypes").ComposeBoxExpressionPanel.STICKER)return x(d("WAWebComposeBoxPanelTypes").ComposeBoxExpressionPanel.STICKER)?{Icon:d("WAWebStickerIcon").StickerIcon,iconStyle:p.tab,ariaLabel:h._("__JHASH__Lgi_15kaHGu__JHASH__")}:null}).filter(Boolean),N=function(){return v(w[(w.indexOf(u)-1+w.length)%w.length])},O=function(){return v(w[(w.indexOf(u)+1)%w.length])},P;switch(u){case d("WAWebComposeBoxPanelTypes").ComposeBoxExpressionPanel.EMOJI:P=l.jsx(d("WAWebEmojiPanel.react").EmojiPanel,{defaultSearchText:B,displayCache:y.current,displayLocation:d("WAWebPanelsDisplayLocation").DisplayLocation.ExpressionsPanel,onChange:I,onDisplayCache:function(a){y.current=a},onEmoji:g,onFocusPrev:N,onFocusNext:O});break;case d("WAWebComposeBoxPanelTypes").ComposeBoxExpressionPanel.GIF:P=l.jsx(d("WAWebGifPanel.react").GifPanel,{defaultSearchText:B,displayCache:z.current,displayLocation:d("WAWebPanelsDisplayLocation").DisplayLocation.ExpressionsPanel,onChange:I,onDisplayCache:function(a){z.current=a},onFocusPrev:N,onFocusNext:O,onGif:function(a,b){i==null?void 0:i(a,b)}});break;case d("WAWebComposeBoxPanelTypes").ComposeBoxExpressionPanel.STICKER:P=l.jsx(c("WAWebStickerPanel.react"),{defaultSearchText:B,displayCache:A.current,displayLocation:d("WAWebPanelsDisplayLocation").DisplayLocation.ExpressionsPanel,onChange:I,onDisplayCache:function(a){A.current=a},onFocusPrev:N,onFocusNext:O,onSticker:function(a,b){k==null?void 0:k(a,b)}});break}m(b,function(){return{close:function(){K()}}});d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"open_compose_box_panel",J);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"close_expression_panels",K);d("useWAWebListener").useListener(d("WAWebDrawerManager").DrawerManager,["open_drawer_mid","close_drawer_mid"],function(a){return G(Boolean(a))});g=function(a,b){a=(a=e())==null?void 0:(a=a.editor)==null?void 0:a.getRootElement();if(a==null?void 0:a.contains(b==null?void 0:b.srcElement))return;K()};B=E||d("WAWebAttachMenuGatingUtils").areExpressionPanelsUiV2Enabled()?l.jsx(d("WAWebExpressionsIcon").ExpressionsIcon,{width:f}):l.jsx(d("WAWebSmileyIcon").SmileyIcon,{width:f});I=l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"dropdown"});if(s&&!F){var Q;if(d("WAWebAttachMenuGatingUtils").areExpressionPanelsUiV2Enabled()&&D){N=D.getBoundingClientRect();O=N.x+N.width/2-d("WAWebDropdown.react").getEmojiPickerWidth()/2+6;b=document.body.clientHeight-N.y+20;Q={left:O+"px",bottom:b+"px"}}I=l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"dropdown",children:l.jsx(d("WAWebUimUie.react").UIE,{displayName:"MenuBarMenuItem",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:g,children:l.jsxs(d("WAWebDropdown.react").Dropdown,{type:d("WAWebDropdown.react").MenuType.ExpressionsPanel,style:Q,flipOnRTL:!0,dirX:d("WAWebAttachMenuGatingUtils").areExpressionPanelsUiV2Enabled()?d("WAWebDropdown.react").DirX.CENTER:d("WAWebDropdown.react").DirX.RIGHT,dirY:d("WAWebDropdown.react").DirY.TOP,testid:void 0,children:[P,l.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",xstyle:p.tabsContainer,children:l.jsx(d("WAWebIconTabs.react").IconTabs,{selectedIndex:w.indexOf(u),onSelect:function(a){a=w[a];a!==u&&(v(a),d("WAWebUserPrefsGeneral").setLastComposeBoxExpressionPanel(a))},tabConfigs:M,theme:"expression-panels"})})]})})})}if(d("WAWebAttachMenuGatingUtils").areExpressionPanelsUiV2Enabled()){J=c("WANullthrows")(document.querySelector("#expressions-panel-container"));I=d("ReactDOM").createPortal(I,J)}return l.jsxs(l.Fragment,{children:[l.jsx("div",{ref:a,className:(j||(j=c("stylex")))(p.expressionsPanelPickerWrapper,E?[p.expressionsPanelPickerWrapperRefresh,d("WAWebUISpacing").uiMargin.horiz6]:d("WAWebUISpacing").uiPadding.end10,s&&E&&p.activeButtonRefresh),children:l.jsx(c("WAWebUnstyledButton.react"),{ref:r,dataTab:d("WAWebTabOrder").TAB_ORDER.COMPOSE_BOX_EXPRESSION_PICKER,xstyle:[p.button,E&&[p.buttonRefresh,d("WAWebUISpacing").uiPadding.all8],s&&!E&&p.activeButton],onClick:L,"aria-label":h._("__JHASH__Lf0i2Kvi3Ov__JHASH__"),children:B})}),I]})}a.displayName=a.name+" [from "+f.id+"]";g.ExpressionsPanelPicker=e}),226);
__d("WAWebRestoreGroupParticipantsAction",["Promise","WALogger","WAWebChatCollection","WAWebDBParticipantTypes","WAWebGroupMetadataCollection","WAWebGroupParticipantModel","WAWebGroupQueryBridge","WAWebSchemaParticipant","WAWebWamGroupMetricCache","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreGroupParticipantsForChats: complete restoring participants for chats ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreGroupParticipantsForChats: skip sync stale participant for read only chat ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreGroupParticipantsForChats: sync stale participant for ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreGroupParticipantsForChats: skip for chat - ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreGroupParticipantsForChats: start restoring participants for chats ",""]);m=function(){return a};return a}function a(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(m(),a);var e=new Map();a.forEach(function(a){var f=c("WAWebGroupMetadataCollection").get(a);if(!f||f.participantQueryPromise||!f.stale){d("WALogger").LOG(l(),a);return}f.participantQueryPromise=new(h||(h=b("Promise")))(function(b){e.set(a,b)})});var f=Array.from(e.keys());try{var g=(yield d("WAWebSchemaParticipant").getParticipantTable().bulkGet(f));g.forEach(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var g,h=c("WAWebGroupMetadataCollection").get(f[b]);g=!!((g=d("WAWebChatCollection").ChatCollection.get(f[b]))==null?void 0:g.isReadOnly);if(!h)return;try{var i=[],l=[];if(a==null||a.deviceSyncComplete!=null&&!a.deviceSyncComplete||a.staleType===d("WAWebDBParticipantTypes").STALE_TYPES.PARTICIPANT)if(!g){d("WALogger").LOG(k(),f[b]);g=(yield d("WAWebGroupQueryBridge").sendQueryGroup(d("WAWebWidFactory").createWid(f[b])));i=((g=g==null?void 0:g.participants)!=null?g:[]).map(function(a){var b=a.id,d=a.isAdmin;a=a.isSuperAdmin;return new(c("WAWebGroupParticipantModel"))({id:b,isAdmin:d,isSuperAdmin:a})})}else d("WALogger").LOG(j(),f[b]);else{var m=new Set(a.admins),n=a.superAdmins!=null?new Set(a.superAdmins):void 0;i=(g=(g=a.participants)==null?void 0:g.map(function(a){if(n===void 0){var b;b=((b=h.owner)==null?void 0:b.toString())===a}else b=n.has(a);return new(c("WAWebGroupParticipantModel"))({id:d("WAWebWidFactory").createUserWid(a),isAdmin:m.has(a),isSuperAdmin:b})}))!=null?g:[]}if(a==null)l=[];else{l=(g=a.pastParticipants)==null?void 0:g.map(function(a){var b=a.jid,e=a.leaveTs;a=a.leaveReason;return new(c("WAWebGroupParticipantModel"))({id:d("WAWebWidFactory").createWid(b),leaveTs:e,leaveReason:a})})}h.participants.add(i,{merge:!0});h.pastParticipants.add(l,{merge:!0});h.stale=!1;h.deviceStale=(a==null?void 0:a.staleType)===d("WAWebDBParticipantTypes").STALE_TYPES.DEVICE;a!=null&&d("WAWebWamGroupMetricCache").cacheGroupMetrics(a)}finally{g=e.get(f[b]);g==null?void 0:g();h.participantQueryPromise=null}});return function(b,c){return a.apply(this,arguments)}}())}catch(a){f.forEach(function(a){var b=e.get(a);b==null?void 0:b();b=c("WAWebGroupMetadataCollection").get(a);b&&(b.participantQueryPromise=null)});return}d("WALogger").DEV(i(),a)});return n.apply(this,arguments)}g.restoreGroupParticipantsForChats=a}),98);
__d("WAWebUpdateModelForGroupAction",["Promise","WALogger","WANullthrows","WATimeUtils","WAWebABProps","WAWebChatCollection","WAWebCommunityActivityCollection","WAWebCommunityActivityModel","WAWebCommunityGatingUtils","WAWebCommunitySubgroupSuggestionsUtils","WAWebEphemeralityUtils","WAWebGroupGetMembershipApprovalRequestsJob","WAWebGroupMetadataCollection","WAWebGroupType","WAWebInvalidateEventsAction","WAWebLeaveReasonType","WAWebNux","WAWebNuxAction","WAWebPollsInvalidateChatPollMsgsAction","WAWebRemoveFromFavoritesAction","WAWebUpdateModelsForCommunityAction","WAWebUserPrefsMeUser"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["unhandled group notif action in handleGroupAction"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["model:chat:handleGroupAction:invalid invite code: "," for ",""]);j=function(){return a};return a}function a(a,e){var f=a.chatId,g=d("WAWebChatCollection").ChatCollection.get(f);if(!g)return(h||(h=b("Promise"))).resolve();var k=c("WANullthrows")(g.groupMetadata),l=a.author,m=a.ts;switch(e.actionType){case d("WAWebGroupType").GROUP_ACTIONS.SUBJECT:var n={name:e.subject};g.contact.set(n);k.set("subject",e.subject);break;case d("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_DEMOTE:if(!e.jid)break;n=c("WAWebGroupMetadataCollection").assertGet(e.jid);if(n.participants.iAmAdmin()){var o=e.participants.map(function(a){a=a.id;return{id:a,isAdmin:!1}});n.participants.add(o,{merge:!0})}else n.participants.remove(e.participants.map(function(a){return a.id}));if(e.participants.find(function(a){return d("WAWebUserPrefsMeUser").isMeAccount(a.id)})){o=n.participants.filter(function(a){return!a.isAdmin}).map(function(a){return a.id});n.participants.remove(o)}break;case d("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_PROMOTE:if(!e.jid)break;n=c("WAWebGroupMetadataCollection").assertGet(e.jid);o=e.participants.map(function(a){a=a.id;return{id:a,isAdmin:!0}});n.participants.add(o,{merge:!0});break;case d("WAWebGroupType").GROUP_ACTIONS.ADD:case d("WAWebGroupType").GROUP_ACTIONS.PROMOTE:case d("WAWebGroupType").GROUP_ACTIONS.DEMOTE:if(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.ADD){n=e.participants.some(function(a){return a.id.isLid()});o=k.isCag;var p=Boolean(k.isLidAddressingMode);if(n&&!o&&!p)break}n=[];var q=new Set();k.participants.iAmAdmin()||e.actionType===d("WAWebGroupType").GROUP_ACTIONS.ADD||e.actionType===d("WAWebGroupType").GROUP_ACTIONS.PROMOTE?(n=e.participants.map(function(a){a=a.id;return a}),e.participants.forEach(function(a){var b=a.lid,c=a.id;a=a.isAdmin;a&&q.add(c.toString());if(b==null||c.isLid())return;k.participants.remove(b)})):e.actionType===d("WAWebGroupType").GROUP_ACTIONS.DEMOTE&&(n=e.participants.map(function(a){var b=a.lid;a=a.id;return b==null||a.isLid()?a:b}),e.participants.forEach(function(a){var b=a.lid;a=a.id;if(b==null||a.isLid())return;k.participants.remove(a)}));o=n.map(function(a){return{id:a,isAdmin:e.actionType===d("WAWebGroupType").GROUP_ACTIONS.PROMOTE||e.actionType===d("WAWebGroupType").GROUP_ACTIONS.ADD&&q.has(a.toString())}});k.participants.add(o,{merge:!0});if(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.ADD){n.forEach(function(a){k.pastParticipants.remove(a),d("WAWebUserPrefsMeUser").isMeAccount(a)&&k.pastParticipants.reset()});k.membershipApprovalMode&&d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&n.forEach(function(a){k.membershipApprovalRequests.remove(a)});n.forEach(function(a){c("WAWebGroupMetadataCollection").trigger("group_participant_change_"+a.toString(),g.id)});if(e.isParentGroup===!0){c("WAWebCommunityActivityCollection").add({id:f.toString(),communityId:f,type:d("WAWebCommunityActivityModel").ActivityTypeType.NEW_COMMUNITY,timestamp:(p=m)!=null?p:d("WATimeUtils").unixTime()})}}if(n.find(function(a){return d("WAWebUserPrefsMeUser").isMeAccount(a)}))if(e.actionType===d("WAWebGroupType").GROUP_ACTIONS.PROMOTE){if(d("WAWebCommunityGatingUtils").communityAdminPromotionOneTimePromptEnabled()&&k.groupType===d("WAWebGroupType").GroupType.COMMUNITY){o=d("WAWebNux").getCommunityAdminPromotionNuxKey(k.id.toString());d("WAWebNuxAction").resetNux(o)}k.membershipApprovalMode&&d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&d("WAWebGroupGetMembershipApprovalRequestsJob").queryAndUpdateGroupMembershipApprovalRequests(g.id)}else e.actionType===d("WAWebGroupType").GROUP_ACTIONS.DEMOTE&&(d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&k.membershipApprovalRequests.reset());break;case d("WAWebGroupType").GROUP_ACTIONS.REMOVE:p=!1;var r=[],s=[],t=d("WAWebUserPrefsMeUser").getMeUser();e.participants.forEach(function(b){var c=b.id,e=b.lid;b=b.isAdmin;var f=t.equals(c);e!=null&&f&&b===!0?(r.push(e),r.push(c)):r.push(c);s.push({id:c,leaveTs:m,leaveReason:c.equals(a.author)?d("WAWebLeaveReasonType").LeaveReason.Left:d("WAWebLeaveReasonType").LeaveReason.Removed});d("WAWebUserPrefsMeUser").isMeAccount(c)&&(p=!0)});k.participants.remove(r);k.pastParticipants.add(s);e.reason===d("WAWebGroupType").REMOVE_REASON.DEFAULT_SUBGROUP_DEMOTE&&k.participants.add(e.participants.map(function(a){var b=a.lid;a=a.id;return b==null||a.isLid()?{id:a}:{id:b}}),{merge:!0});e.participants.forEach(function(a){c("WAWebGroupMetadataCollection").trigger("group_participant_change_"+a.id.toString(),g.id)});p&&(void d("WAWebPollsInvalidateChatPollMsgsAction").invalidateChatPollMsgs(g),void d("WAWebInvalidateEventsAction").invalidateEventMsgsForChat(g),void d("WAWebRemoveFromFavoritesAction").removeFromFavoritesAction(g.id,{suppressToast:!0}));o=(n=k.getParentGroupChat())==null?void 0:n.groupMetadata;k.isCag&&(o==null?void 0:o.participants.remove(r),o==null?void 0:o.pastParticipants.add(s));!k.isParentGroupParticipant()&&k.parentGroup&&(o==null?void 0:o.trigger("exitParentGroup"),d("WAWebUpdateModelsForCommunityAction").updateModelsForExitedCommunity(k.parentGroup));break;case d("WAWebGroupType").GROUP_ACTIONS.MODIFY:if(l&&e.participants&&e.participants.length>0){n=l;o=e.participants[0].id;n=k.participants.remove(n);var u=!1,v=!1;n.length&&n[0]&&(u=n[0].isAdmin,v=n[0].isSuperAdmin);n={id:o,isAdmin:u,isSuperAdmin:v};k.participants.add(n)}break;case d("WAWebGroupType").GROUP_ACTIONS.INVITE_CODE:e.code?k.inviteCode=e.code:d("WALogger").WARN(j(),e.code,g.id.toString());break;case d("WAWebGroupType").GROUP_ACTIONS.DESC_ADD:k.set({desc:e.desc,descId:e.descId,descTime:e.descTime,descOwner:l==null?void 0:l.toString()});break;case d("WAWebGroupType").GROUP_ACTIONS.DESC_REMOVE:if(k.descId===e.descId){k.set({desc:void 0,descId:void 0,descTime:void 0,descOwner:void 0});break}break;case d("WAWebGroupType").GROUP_ACTIONS.RESTRICT:k.restrict=!!e.value;break;case d("WAWebGroupType").GROUP_ACTIONS.SUSPEND:o=!!e.value;k.suspended=o;d("WAWebUpdateModelsForCommunityAction").maybeUpdateModelsForCommunitySuspendedStatus(f,o);break;case d("WAWebGroupType").GROUP_ACTIONS.ANNOUNCE:k.announce=!!e.value;break;case d("WAWebGroupType").GROUP_ACTIONS.NO_FORWARD:k.noFrequentlyForwarded=!!e.value;break;case d("WAWebGroupType").GROUP_ACTIONS.EPHEMERAL:k.ephemeralDuration=e.duration;k.disappearingModeTrigger=d("WAWebEphemeralityUtils").getDisappearingModeTrigger(e.trigger);k.disappearingModeInitiatedByMe=e.initiatedByMe;break;case d("WAWebGroupType").GROUP_ACTIONS.REVOKE_INVITE:var w=[];e.participants.forEach(function(a){a=a.id;k.pendingParticipants.get(a)&&w.push(a)});k.pendingParticipants.remove(w);break;case d("WAWebGroupType").GROUP_ACTIONS.DELETE:e.reason===d("WAWebGroupType").DELETE_REASON.INTEGRITY_DELETE_PARENT?d("WAWebUpdateModelsForCommunityAction").updateModelsForIntegrityDeactivateCommunity(f):e.reason===d("WAWebGroupType").DELETE_REASON.DELETE_PARENT?d("WAWebUpdateModelsForCommunityAction").updateModelsForDeactivateCommunity(f):k.terminated=!0;break;case d("WAWebGroupType").GROUP_ACTIONS.GROWTH_UNLOCKED:k.growthLockExpiration=void 0;k.growthLockType=void 0;break;case d("WAWebGroupType").GROUP_ACTIONS.GROWTH_LOCKED:e.type==="invite"&&(k.growthLockExpiration=e.expiration,k.growthLockType=e.type);break;case d("WAWebGroupType").GROUP_ACTIONS.PARENT_GROUP_LINK:k.parentGroup=e.groupDatas[0].id;break;case d("WAWebGroupType").GROUP_ACTIONS.SUB_GROUP_LINK:d("WAWebUpdateModelsForCommunityAction").updateModelsForSubgroupLink({parentGroupId:g.id,subgroups:e.groupDatas,timestamp:m,author:a.author});break;case d("WAWebGroupType").GROUP_ACTIONS.SIBLING_GROUP_LINK:k.parentGroup&&d("WAWebUpdateModelsForCommunityAction").updateModelsForSubgroupLink({parentGroupId:k.parentGroup,subgroups:e.groupDatas,timestamp:m,author:a.author});break;case d("WAWebGroupType").GROUP_ACTIONS.PARENT_GROUP_UNLINK:k.parentGroup=void 0;break;case d("WAWebGroupType").GROUP_ACTIONS.SUB_GROUP_UNLINK:d("WAWebUpdateModelsForCommunityAction").updateModelsForSubgroupUnlink(g.id,e.groupDatas);break;case d("WAWebGroupType").GROUP_ACTIONS.SIBLING_GROUP_UNLINK:k.parentGroup&&d("WAWebUpdateModelsForCommunityAction").updateModelsForSubgroupUnlink(k.parentGroup,e.groupDatas);break;case d("WAWebGroupType").GROUP_ACTIONS.MEMBERSHIP_APPROVAL_MODE:d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&(k.membershipApprovalMode=!!e.value,e.value||k.membershipApprovalRequests.reset());break;case d("WAWebGroupType").GROUP_ACTIONS.ALLOW_ADMIN_REPORTS:k.set("reportToAdminMode",e.value);e.value||k.set("lastReportToAdminTimestamp",null);break;case d("WAWebGroupType").GROUP_ACTIONS.ADMIN_REPORT_RECIEVED:k.set("lastReportToAdminTimestamp",e.value);break;case d("WAWebGroupType").GROUP_ACTIONS.MEMBERSHIP_APPROVAL_REQUEST:if(d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&!d("WAWebABProps").getABPropConfigValue("group_join_request_m3")){u=c("WANullthrows")(l);k.membershipApprovalRequests.add({id:u,t:m,addedBy:u,requestMethod:e.requestMethod,parentGroupId:e.parentGroupId})}break;case d("WAWebGroupType").GROUP_ACTIONS.CREATED_MEMBERSHIP_REQUESTS:if(d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&d("WAWebABProps").getABPropConfigValue("group_join_request_m3")){v=e.requests.map(function(a){return{id:a,t:m,addedBy:c("WANullthrows")(l),requestMethod:e.requestMethod,parentGroupId:e.parentGroupId}});k.membershipApprovalRequests.add(v)}break;case d("WAWebGroupType").GROUP_ACTIONS.REVOKED_MEMBERSHIP_REQUESTS:d("WAWebABProps").getABPropConfigValue("group_join_request_m2")&&e.requests.forEach(function(a){k.membershipApprovalRequests.remove(a)});break;case d("WAWebGroupType").GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION:k.allowNonAdminSubGroupCreation=!!e.value;break;case d("WAWebGroupType").GROUP_ACTIONS.CREATED_SUBGROUP_SUGGESTION:k.subgroupSuggestions.add({id:d("WAWebCommunitySubgroupSuggestionsUtils").getSubgroupSuggestionId(e.id,e.owner),groupId:e.id,parentGroupId:e.parentGroupId,subject:e.subject,desc:e.description,owner:e.owner,t:e.t,isExistingGroup:e.isExistingGroup,participantCount:e.participantCount},{merge:!0});break;case d("WAWebGroupType").GROUP_ACTIONS.REVOKED_SUB_GROUP_SUGGESTIONS:k.subgroupSuggestions.remove(e.subgroupSuggestions.map(function(a){var b=a.id;a=a.owner;return d("WAWebCommunitySubgroupSuggestionsUtils").getSubgroupSuggestionId(b,a)}));break;case d("WAWebGroupType").GROUP_ACTIONS.SUBGROUP_SUGGESTIONS_CHANGE_NUMBER:n=e.subgroupSuggestions.map(function(a){return k.subgroupSuggestions.get(d("WAWebCommunitySubgroupSuggestionsUtils").getSubgroupSuggestionId(a,e.oldOwner))}).filter(Boolean);k.subgroupSuggestions.remove(n);k.subgroupSuggestions.add(n.map(function(a){return{id:d("WAWebCommunitySubgroupSuggestionsUtils").getSubgroupSuggestionId(a.groupId,e.newOwner),groupId:a.groupId,parentGroupId:a.parentGroupId,subject:a.subject,desc:a.desc,owner:e.newOwner,t:a.t,isExistingGroup:a.isExistingGroup,participantCount:a.participantCount}}),{merge:!0});break;case d("WAWebGroupType").GROUP_ACTIONS.MEMBER_ADD_MODE:d("WAWebABProps").getABPropConfigValue("web_anyone_can_add_group_setting_enabled")&&(k.memberAddMode=e.memberAddMode);break;case d("WAWebGroupType").GROUP_ACTIONS.GENERAL_CHAT_AUTO_ADD_DISABLED:k.generalChatAutoAddDisabled=!0;break;case d("WAWebGroupType").GROUP_ACTIONS.COMMUNITY_OWNER_UPDATE:o=[{id:e.newOwner,isAdmin:!0,isSuperAdmin:!0}];if(e.oldOwner!=null){o.push({id:e.oldOwner,isAdmin:!0,isSuperAdmin:!1});if(d("WAWebUserPrefsMeUser").isMeAccount(e.oldOwner)){f=d("WAWebNux").getCommunityAdminPromotionNuxKey(k.id.toString());void d("WAWebNuxAction").dismissNux(f)}}k.owner=e.newOwner;k.participants.add(o,{merge:!0});break;case d("WAWebGroupType").GROUP_ACTIONS.HIDDEN_GROUP:k.hiddenSubgroup=!!e.value;break;default:d("WALogger").ERROR(i()).tags("groups");break}return(h||(h=b("Promise"))).resolve()}g.updateModelForGroupAction=a}),98);
__d("WAWebGroupBridgeApi",["WAWebChatCollection","WAWebCommunitySubgroupSuggestionsUtils","WAWebContactCollection","WAWebCreateOrUpdateGroupMetadataAction","WAWebGroupMetadataCollection","WAWebMsgCollection","WAWebRestoreGroupParticipantsAction","WAWebUpdateModelForGroupAction"],(function(a,b,c,d,e,f,g){a={updateModelForGroupAction:function(a){var b=a.groupMeta;a=a.groupAction;d("WAWebUpdateModelForGroupAction").updateModelForGroupAction(b,a)},restoreGroupParticipantsForChats:function(a){a=a.chatIds;d("WAWebRestoreGroupParticipantsAction").restoreGroupParticipantsForChats(a)},expireGroupInviteV4:function(a){a=a.inviteMsgId;(a=d("WAWebMsgCollection").MsgCollection.get(a))==null?void 0:a.set({inviteCodeExp:"0"})},updateGroupSubject:function(a){var b=a.id;a=a.subject;d("WAWebContactCollection").ContactCollection.add({id:b,name:a},{merge:!0})},updateGroupAddressingMode:function(a){var b=a.id,d=a.isLidAddressingMode;a=a.groupInfoUpdate;(b=c("WAWebGroupMetadataCollection").get(b))==null?void 0:b.set(babelHelpers["extends"]({isLidAddressingMode:d},a))},notAlreadyInGroup:function(a){var b=a.groupId;a=a.participants;var c=(b=d("WAWebChatCollection").ChatCollection.get(b))==null?void 0:b.groupMetadata;return!c?a:a.filter(function(a){a=a.id;return!c.participants.get(a)})},createOrUpdateGroupMetadataFromQuery:function(a){a=a.groupInfo;d("WAWebCreateOrUpdateGroupMetadataAction").createOrUpdateGroupMetadataModelFromQuery(a)},createOrUpdateSubgroupSuggestions:function(a){var b=a.parentGroupId;a=a.subgroupSuggestions;b=c("WAWebGroupMetadataCollection").gadd(b);b.subgroupSuggestions.set(a.map(function(a){return babelHelpers["extends"]({},a,{id:d("WAWebCommunitySubgroupSuggestionsUtils").getSubgroupSuggestionId(a.id,a.owner),groupId:a.id})}))}};g.GroupBridgeApi=a}),98);
__d("WAWebSendKeyDistributionMsgAction",["Promise","WAWebGroupMetadataCollection","WAWebMsgKey","WAWebSendMsgJob","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!a.isGroup())return(h||(h=b("Promise"))).reject(c("err")("[messaging] sendKeyDistributionMsg: only group chats are supported`"));var e=d("WAWebUserPrefsMeUser").getMaybeMeUser();e=new(c("WAWebMsgKey"))({from:e,to:a,id:yield c("WAWebMsgKey").newId(),participant:d("WAWebWidFactory").toUserWid(e),selfDir:"out"});yield c("WAWebGroupMetadataCollection").find(a);return d("WAWebSendMsgJob").encryptAndSendKeyDistributionMsg(e)});return i.apply(this,arguments)}g.sendKeyDistributionMsg=a}),98);
__d("WAWebGroupCreationKeyDistribution",["WALogger","WAWebDBGroupsGroupMetadata","WAWebGroupsParticipantsApi","WAWebMessagingGatingUtils","WAWebSendKeyDistributionMsgAction","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["handleGroupCreation: sending key distribution message failed: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["handleGroupCreation: sending key distribution message: done"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["handleGroupCreation: sending key distribution message"]);j=function(){return a};return a}function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,c;b=(b=(b=(yield d("WAWebGroupsParticipantsApi").getParticipants(a)))==null?void 0:b.participants.length)!=null?b:0;c=(c=(c=(yield d("WAWebDBGroupsGroupMetadata").getGroupMetadata(a)))==null?void 0:c.announce)!=null?c:!1;!c&&b&&d("WAWebMessagingGatingUtils").sendKeyDistributionMsgToNewGroups()&&b>=d("WAWebMessagingGatingUtils").sendKeyDistributionMsgMinGroupSize()&&b<=d("WAWebMessagingGatingUtils").sendKeyDistributionMsgMaxGroupSize()&&(d("WALogger").LOG(j()).tags("groups"),d("WAWebSendKeyDistributionMsgAction").sendKeyDistributionMsg(a).then(function(){d("WALogger").LOG(i()).tags("groups")})["catch"](function(a){d("WALogger").WARN(h(),a).tags("groups")}))});return k.apply(this,arguments)}g.maybeSendKeyDistributionMsgToNewGroup=a}),98);
__d("WAWebGroupMenuDropdown.react",["WATimeUtils","WAWebChatThreadLogging","WAWebConversationMenus","WAWebDropdown.react","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useEffect;b=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var c=a.chat,e=a.onSelectMessages;k(function(){d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"chatOverflowClicks",ts:d("WATimeUtils").unixTime(),chatId:c.id}])},[c.id]);e=d("WAWebConversationMenus").groupMenu(c,e);return a.toContextMenuManager?j.jsx("div",{ref:b,children:e}):j.jsx(d("WAWebDropdown.react").Dropdown,{ref:b,type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,testid:void 0,children:e},"GroupMenuDropdown")}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WAWebGroupMetadataBridgeApi",["Promise","WAWebChatCollection","WAWebGroupMetadataCollection","WAWebWamNumberToSizeBucket","nullthrows"],(function(a,b,c,d,e,f,g){var h;a={getGroupMetadata:function(a){a=a.groupWid;return c("WAWebGroupMetadataCollection").get(a)},updateCachedDeviceCount:function(a){var b=a.groupWid;a=a.deviceCount;b=c("WAWebGroupMetadataCollection").get(b);b!=null&&(b.cachedDeviceCount=a,b.cachedDeviceSizeBucket=c("WAWebWamNumberToSizeBucket")(a))},setGroupMetadata:function(a){var b;(b=c("WAWebGroupMetadataCollection").get(a.id))==null?void 0:b.set(a)},removeMembershipApprovalRequests:function(a){var b=a.groupId;a=a.requestIds;(b=c("WAWebGroupMetadataCollection").get(b))==null?void 0:b.membershipApprovalRequests.remove(a)},addMembershipApprovalRequests:function(a){var b=a.groupId;a=a.requests;(b=c("WAWebGroupMetadataCollection").get(b))==null?void 0:b.membershipApprovalRequests.add(a,{merge:!0})},syncEphemeralTriggerCollectionForGroup:function(a){var e=a.chatId;a=a.trigger;e=d("WAWebChatCollection").ChatCollection.get(e);if(!e)return(h||(h=b("Promise"))).resolve();e=c("nullthrows")(e.groupMetadata);e!=null&&(e.disappearingModeTrigger=a);return(h||(h=b("Promise"))).resolve()}};g.GroupMetadataBridgeApi=a}),98);
__d("WAWebGroupSubtitle.react",["fbt","WAWebChatAssignmentLogEvents","WAWebChatCollection","WAWebChatSubtitleText","WAWebElevatedPushNamesFlag","WAWebFrontendContactGetters","WAWebGroupQueryJob","WAWebGroupType","WAWebHostedGroupUtils","WAWebParticipantsList.react","WAWebPresenceEnum","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useEffect;function a(a){var b=a.assignmentSubtitle,e=a.chatId,f=a.chatstate,g=a.groupMetadata,i=a.location,j=a.placeholder;a=a.presence;d("useWAWebModelValues").useModelValues(f,["id","type","deny","t"]);var m=d("useWAWebModelValues").useModelValues(g,["announce","participants","groupType","size","id","hasCapi"]),n=d("useWAWebModelValues").useModelValues(a,["forceDisplay","withholdDisplayStage"]),o=function(){return m.groupType===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP&&m.participants.iAmMember()&&!m.participants.iAmAdmin()};l(function(){o()&&!m.size&&d("WAWebGroupQueryJob").queryAndUpdateGroupMetadataById(m.id)},[]);l(function(){b!=null&&n.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.ChatAssignment&&d("WAWebChatAssignmentLogEvents").logChatStatusTickerShown(e)},[e,n.withholdDisplayStage,b]);var p=d("WAWebElevatedPushNamesFlag").elevatedPushNamesM2Enabled(d("WAWebChatCollection").ChatCollection.get(e));f=function(){return m.groupType===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP?{text:h._("__JHASH__dhHo5hWiU_Z__JHASH__")}:n.getGroupSubtitleText({elevatedPushNamesEnabled:p})};var q,r;g=!1;if(n.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.CommunityName){a=d("WAWebChatCollection").ChatCollection.get(e);a=a==null?void 0:(a=a.groupMetadata)==null?void 0:a.getParentGroupChat();a=a==null?void 0:a.contact;a=a!=null?d("WAWebFrontendContactGetters").getFormattedName(a):null;q=h._("__JHASH__jeucOx6ke8r__JHASH__",[h._param("community",a)])}else if(n.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.OnlyAdminsCanSend)q=h._("__JHASH__8QEb6bbwR8F__JHASH__");else if(d("WAWebHostedGroupUtils").isWAHostedGroupEnabled()&&m.hasCapi===!0)q=b;else if(n.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.E2EE)q=d("WAWebChatSubtitleText").e2eChatSubtitleText(),g=!0;else if(n.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.Info)q=j;else if(b!=null&&n.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.ChatAssignment)q=b;else{a=f();a!=null&&(q=a.text,r=a.ariaLabel)}return k.jsx(c("WAWebParticipantsList.react"),{groupMetadata:m,overridingText:q,placeholder:j,ariaLabel:r,location:i,showLockIcon:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebMdBootstrapHistoryDataReceivedWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumMdBootstrapHistoryPayloadType","WAWebWamEnumMdBootstrapPayloadType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({MdBootstrapHistoryDataReceived:[2998,{historySyncChunkOrder:[6,a.TYPES.INTEGER],historySyncStageProgress:[5,a.TYPES.INTEGER],mdBootstrapHistoryPayloadType:[3,d("WAWebWamEnumMdBootstrapHistoryPayloadType").MD_BOOTSTRAP_HISTORY_PAYLOAD_TYPE],mdBootstrapPayloadType:[2,d("WAWebWamEnumMdBootstrapPayloadType").MD_BOOTSTRAP_PAYLOAD_TYPE],mdSessionId:[1,a.TYPES.STRING],mdTimestamp:[4,a.TYPES.INTEGER]},[1,1,1],"regular"]},{MdBootstrapHistoryDataReceived:[]});g.MdBootstrapHistoryDataReceivedWamEvent=b}),98);
__d("WAWebHandleHistorySyncNotification",["WALogger","WATimeUtils","WAWebABProps","WAWebApiHistorySyncNotification","WAWebDownloadManager","WAWebGetMetricHistorySyncPayloadType","WAWebHandleHistorySyncChunk","WAWebHistorySyncNotificationUtils","WAWebHistorySyncProgress","WAWebHttpErrors","WAWebJestE2ELogUtils","WAWebMdBootstrapHistoryDataReceivedWamEvent","WAWebMsgKey","WAWebNonMessageDataRequestHistorySyncOnDemandUtils","WAWebProtobufsE2E.pb","WAWebProtobufsHistorySync.pb","WAWebSendHistSyncServerErrorReceiptJob","WAWebSyncBootstrap","WAWebSyncGatingUtils","WAWebSyncdMdSyncFieldstatMeta","WAWebUserPrefsHistorySync","WAWebUserPrefsMeUser","WAWebUserPrefsTypes","WAWebWamEnumMdBootstrapPayloadType","WAWebWid","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync][continueProgressiveHistorySyncProcessingV2] trigger notification processing after receiving ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync][recent sync] history sync download failed"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] start downloading chunk when receiving notification, ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] setHistorySyncEarliestDate: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] setting estimated total chunk count: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] recent or full chunk received, adding chunk info to db: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync][rdu] clean history sync on demand rdu request as it is received without timeout with key ","."]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync][rdu] drop on demand history sync notification as it's timeout with key ","."]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync][rdu] on demand history sync chunk does not have requested session id."]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] on demand history sync received ",""]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] initial pushname received ",""]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] initial sync received ",""]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] setting total chunk count when receiving: ",""]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] Dropping full history sync for ",""]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] History sync payload wid error"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] History sync empty wid error"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["[history sync] Assert get me is empty during history sync"]);x=function(){return a};return a}var y=11;function a(a,b,c){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){d("WAWebJestE2ELogUtils").maybeLogToJestE2eJSConsole("received history sync notif");if(!a)return;try{d("WAWebUserPrefsMeUser").assertGetMeUser()}catch(a){d("WALogger").ERROR(x()).sendLogs("Assert get me is empty during history sync");return}if(!d("WAWebUserPrefsMeUser").isMePrimaryNonLid(b)){if(b==null||!(b instanceof c("WAWebWid"))){d("WALogger").ERROR(w()).sendLogs("History sync empty wid error");return}d("WALogger").ERROR(v()).sendLogs("History sync payload wid error");return}var f=a.downloadOptions;if(!f)return;if(!c("gkx")("26258")&&(d("WAWebABProps").getABPropConfigValue("web_abprop_drop_full_history_sync")&&a.historySyncNotification.syncType===d("WAWebProtobufsE2E.pb").Message$HistorySyncNotification$HistorySyncType.FULL)){d("WALogger").DEV(u(),d("WAWebUserPrefsMeUser").getMeUser().user).tags("history-sync");return}var g=!!a.historySyncNotification.originalMessageId;e=g?a.historySyncNotification.originalMessageId:e;b=new(c("WAWebMsgKey"))({remote:b,fromMe:!0,id:e}).toString();e=(e=a.historySyncNotification.progress)!=null?e:0;b={msgKey:b,processed:0,downloadOptions:f,isReupload:1,historySyncStepStartedTs:d("WATimeUtils").unixTimeMs(),reuploadPending:!1,historySyncPayloadSize:a.historySyncNotification.fileLength,oldestMsgInChunkTimestampSec:a.historySyncNotification.oldestMsgInChunkTimestampSec,initialHistBootstrapInlinePayload:a.historySyncNotification.initialHistBootstrapInlinePayload,peerDataRequestSessionId:a.historySyncNotification.peerDataRequestSessionId,progress:e,encHandle:a.historySyncNotification.encHandle};(!g||a.historySyncNotification.syncType===d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.INITIAL_BOOTSTRAP)&&(b.syncType=a.historySyncNotification.syncType,b.chunkOrder=a.historySyncNotification.chunkOrder||0,b.isReupload=0);f=b;if(f.syncType===d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.RECENT&&e===100){g=f.chunkOrder;d("WALogger").LOG(t(),g);yield d("WAWebUserPrefsHistorySync").setChunkCountForEndOfRecentHistorySync((g=g)!=null?g:1);void d("WAWebHistorySyncProgress").updateHistorySyncProgressModel()}g=new(d("WAWebMdBootstrapHistoryDataReceivedWamEvent").MdBootstrapHistoryDataReceivedWamEvent)({mdBootstrapPayloadType:f.syncType===d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.INITIAL_BOOTSTRAP?d("WAWebWamEnumMdBootstrapPayloadType").MD_BOOTSTRAP_PAYLOAD_TYPE.CRITICAL:d("WAWebWamEnumMdBootstrapPayloadType").MD_BOOTSTRAP_PAYLOAD_TYPE.NON_CRITICAL,mdBootstrapHistoryPayloadType:d("WAWebGetMetricHistorySyncPayloadType").getMetricHistorySyncPayloadType(f.syncType),mdTimestamp:d("WATimeUtils").unixTimeMs(),mdSessionId:yield d("WAWebSyncdMdSyncFieldstatMeta").MdSyncFieldStatsMeta.getMdSessionId(),historySyncStageProgress:e});f.chunkOrder!=null&&(g.historySyncChunkOrder=f.chunkOrder);g.commit();switch(f.syncType){case d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.INITIAL_BOOTSTRAP:case d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.INITIAL_STATUS_V3:case d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.NON_BLOCKING_DATA:d("WALogger").LOG(s(),d("WAWebHistorySyncNotificationUtils").getHistorySyncLogDetailsString(f));d("WAWebHandleHistorySyncChunk").handleHistorySyncChunk(f);return;case d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.PUSH_NAME:d("WALogger").LOG(r(),d("WAWebHistorySyncNotificationUtils").getHistorySyncLogDetailsString(f));yield d("WAWebApiHistorySyncNotification").enqueueNotification(babelHelpers["extends"]({},f,{downloadOptions:babelHelpers["extends"]({},f.downloadOptions)}),!0);d("WAWebHandleHistorySyncChunk").handleHistorySyncChunk(f);return;case d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.ON_DEMAND:if(d("WAWebSyncGatingUtils").isHistorySyncOnDemandEnabled()){d("WALogger").LOG(q(),d("WAWebHistorySyncNotificationUtils").getHistorySyncLogDetailsString(f));f.peerDataRequestSessionId==null&&d("WALogger").LOG(p());if(!d("WAWebNonMessageDataRequestHistorySyncOnDemandUtils").inFlightHistorySyncOnDemandRequests.has((e=f.peerDataRequestSessionId)!=null?e:"")){d("WALogger").LOG(o(),c("gkx")("26258")?"":f.peerDataRequestSessionId);return}d("WALogger").LOG(n(),c("gkx")("26258")?"":f.peerDataRequestSessionId);f.peerDataRequestChatId=d("WAWebNonMessageDataRequestHistorySyncOnDemandUtils").inFlightHistorySyncOnDemandRequests.get((g=f.peerDataRequestSessionId)!=null?g:"");d("WAWebNonMessageDataRequestHistorySyncOnDemandUtils").inFlightHistorySyncOnDemandRequests["delete"]((e=f.peerDataRequestSessionId)!=null?e:"");yield d("WAWebApiHistorySyncNotification").enqueueNotification(f)}break;default:d("WALogger").LOG(m(),d("WAWebHistorySyncNotificationUtils").getHistorySyncLogDetailsString(f));if(f.syncType===d("WAWebProtobufsHistorySync.pb").HistorySync$HistorySyncType.RECENT){if(b.chunkOrder!=null&&a.progress!=null&&a.progress!==0){g=Math.ceil(b.chunkOrder/(a.progress/100));d("WALogger").LOG(l(),g);d("WAWebUserPrefsHistorySync").setEstimatedChunkCountForEndOfRecentHistorySync(g)}if(b.oldestMsgInChunkTimestampSec!=null){e=d("WAWebUserPrefsHistorySync").getHistorySyncEarliestDate();e&&b.oldestMsgInChunkTimestampSec<e&&(d("WALogger").DEV(k(),b.oldestMsgInChunkTimestampSec),d("WAWebUserPrefsHistorySync").setHistorySyncEarliestDate(b.oldestMsgInChunkTimestampSec))}void d("WAWebUserPrefsHistorySync").setRecentSyncSingleChunkStatus(f.syncType,d("WAWebUserPrefsTypes").HistorySyncSingleChunkStatusType.RECEIVED,f.chunkOrder);a=f.chunkOrder!=null&&f.chunkOrder<=y;if(d("WAWebSyncGatingUtils").isRecentSyncDownloadOptimizationEnabled()&&a){g=(yield d("WAWebHistorySyncNotificationUtils").getHistorySyncMetrics(f,!0));e=g.historySyncStartDownloadingMetric;b=g.historySyncDownloadedMetric;try{void d("WAWebUserPrefsHistorySync").setRecentSyncSingleChunkStatus(f.syncType,d("WAWebUserPrefsTypes").HistorySyncSingleChunkStatusType.DOWNLOADING,f.chunkOrder);d("WAWebHistorySyncNotificationUtils").commitHistoryStartDownloadingMetric(e,f.historySyncStepStartedTs,d("WATimeUtils").unixTimeMs());d("WALogger").LOG(j(),d("WAWebHistorySyncNotificationUtils").getHistorySyncLogDetailsString(f)).tags("history-sync");a=f.chunkOrder!==1;g=(yield d("WAWebDownloadManager").downloadManager.downloadAndMaybeDecrypt(babelHelpers["extends"]({signal:new AbortController().signal},f.downloadOptions,{isPreload:a})));f.downloadedHistorySyncPayload=g;void d("WAWebUserPrefsHistorySync").setRecentSyncSingleChunkStatus(f.syncType,d("WAWebUserPrefsTypes").HistorySyncSingleChunkStatusType.DOWNLOADED,f.chunkOrder);f.downloadOptions.mediaKey="";d("WAWebHistorySyncNotificationUtils").commitHistoryDownloadedMetric(b,f.historySyncStepStartedTs,!0,d("WATimeUtils").unixTimeMs())}catch(a){d("WALogger").WARN(i()).devConsole(a);if(!(a instanceof d("WAWebHttpErrors").HttpNetworkError)){e=c("WAWebMsgKey").fromString(f.msgKey);d("WAWebHistorySyncNotificationUtils").commitHistoryDownloadedMetric(b,f.historySyncStepStartedTs,!1,d("WATimeUtils").unixTimeMs());void c("WAWebSendHistSyncServerErrorReceiptJob")(e.remote,e.id,f.downloadOptions.mediaKey);return}}}}yield d("WAWebApiHistorySyncNotification").enqueueNotification(f)}d("WALogger").LOG(h(),d("WAWebHistorySyncNotificationUtils").getHistorySyncLogDetailsString(f));void c("WAWebSyncBootstrap").continueProgressiveHistorySyncProcessingV2(d("WAWebHistorySyncNotificationUtils").HistorySyncScheduleSource.NewRecentSyncNotification)});return z.apply(this,arguments)}g.handleHistorySyncNotification=a}),98);
__d("WAWebKeyManagementHandleKeyRequestApi",["WALogger","WASyncdCryptoUtils","WASyncdHandleKeyRequest","WASyncdKeyTypes","WAWebPersistedJobDefinitions","WAWebPersistedJobManager","WAWebUserPrefsMeUser","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: handleAppStateSyncKeyRequest from device ",": about to send key share\n      \t keys with keydata: [","]\n      \t keys without keydata: [","]"],["syncd: handleAppStateSyncKeyRequest from device ",": about to send key share\n      \\t keys with keydata: [","]\n      \\t keys without keydata: [","]"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: handleAppStateSyncKeyRequest from device ","\n    \t for keyIds: [","]"],["syncd: handleAppStateSyncKeyRequest from device ","\n    \\t for keyIds: [","]"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: key request wid error"]);j=function(){return a};return a}function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!d("WAWebUserPrefsMeUser").isMeAccountNonLid(b)){d("WALogger").ERROR(j()).sendLogs("syncd: key request wid error");return}a=a.keyIds;if(a){a=a.map(function(a){return a.keyId}).filter(Boolean).map(d("WASyncdKeyTypes").toSyncKeyId);d("WALogger").LOG(i(),b.getDeviceId(),a.map(d("WASyncdCryptoUtils").syncKeyIdToHex));if(a){a=(yield d("WASyncdHandleKeyRequest").getKeysForKeyRequest(a));var c=a.keys;a=a.orphanKeys;d("WALogger").LOG(h(),b.getDeviceId(),c.map(function(a){return d("WASyncdCryptoUtils").syncKeyIdToHex(a.keyId)}),a.map(function(a){return d("WASyncdCryptoUtils").syncKeyIdToHex(a)}));return d("WAWebPersistedJobManager").getJobManager().waitUntilPersisted(d("WAWebPersistedJobDefinitions").jobSerializers.sendRequestedKeyShare(c,a,b))}}});return k.apply(this,arguments)}g.handleAppStateSyncKeyRequest=a}),98);
__d("WAWebKeyManagementHandleKeyShareApi",["Promise","WAJids","WALogger","WALongInt","WASyncdCryptoUtils","WASyncdHandleKeyShare","WASyncdKeyManagementUtils","WASyncdKeyTypes","WAWebSyncdCriticalBootstrapProcessingApi","WAWebSyncdFatal","WAWebSyncdUploadFatalErrorMetric","WAWebUserPrefsMeUser","WAWebWamEnumBootstrapAppStateDataStageCode","WAWebWamEnumMdSyncdFatalErrorCode","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: key share wid error"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: fatal error: invalid key share key data"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: fatal error: invalid key share key data (from companion)"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: fatal error: key share key id has invalid bytelength of ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: incoming key info\n        \tkeyId: ",""],["syncd: incoming key info\n        \\tkeyId: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: received key share key id "," from device "," "," keyData"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: received key with missing keyID from device ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["syncd: handling key share from device "," with "," keys"]);p=function(){return a};return a}var q=0,r=6,s=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){d("WAWebSyncdCriticalBootstrapProcessingApi").logCriticalBootstrapStageIfNecessary(d("WAWebWamEnumBootstrapAppStateDataStageCode").BOOTSTRAP_APP_STATE_DATA_STAGE_CODE.MISSING_KEYS_RECEIVED);var e=c.getDeviceId();d("WALogger").LOG(p(),e,a.keys.length);var f=[];c=a.keys;if(!c)return(h||(h=b("Promise"))).resolve();yield (h||(h=b("Promise"))).all(c.map(function(a){var b;b=(b=a.keyId)==null?void 0:b.keyId;a=a.keyData;var c=a==null?void 0:a.keyData,g=c==null?null:d("WASyncdKeyTypes").toSyncKeyData(c);if(!b){d("WALogger").LOG(o(),e);return}var h=d("WASyncdKeyTypes").toSyncKeyId(b),i=d("WASyncdCryptoUtils").syncKeyIdToHex(h);d("WALogger").LOG(n(),i,e,c!=null?"with":"without");c&&d("WALogger").DEV(m(),i);if(b.byteLength!==r){d("WAWebSyncdUploadFatalErrorMetric").uploadFatalErrorMetric(d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.INVALID_KEY_SHARE_KEY_ID,null);d("WALogger").ERROR(l(),b.byteLength).sendLogs("syncd: fatal error: key share key id has invalid bytelength of "+b.byteLength);return d("WAWebSyncdFatal").handleFatalError()}if(a){c=a.timestamp;b=(i=a.fingerprint)==null?void 0:i.currentIndex;i=(i=a.fingerprint)==null?void 0:i.rawId;a=(a=a.fingerprint)==null?void 0:a.deviceIndexes;if(!g||c==null||b==null||i==null||!a){if(e!==q){d("WALogger").ERROR(k()).sendLogs("syncd: fatal error: invalid key share key data (from companion)");return}d("WAWebSyncdUploadFatalErrorMetric").uploadFatalErrorMetric(d("WAWebWamEnumMdSyncdFatalErrorCode").MD_SYNCD_FATAL_ERROR_CODE.INVALID_KEY_SHARE_KEY_DATA,null);d("WALogger").ERROR(j()).sendLogs("syncd: fatal error: invalid key share key data");return d("WAWebSyncdFatal").handleFatalError()}g={keyId:h,keyEpoch:d("WASyncdKeyManagementUtils").getKeyEpoch(h),keyData:g,timestamp:d("WALongInt").numberOrThrowIfTooLarge(c),fingerprint:{rawId:i,currentIndex:b,deviceIndexes:a}};f.push({keyId:h,fullKey:g})}else f.push({keyId:h,fullKey:null})}));return d("WASyncdHandleKeyShare").handleKeyShare(d("WAJids").interpretAsDeviceId(e),f)});return function(b,c){return a.apply(this,arguments)}}();function a(a,c){if(!d("WAWebUserPrefsMeUser").isMeAccountNonLid(c)){d("WALogger").ERROR(i()).sendLogs("syncd: key share wid error");return(h||(h=b("Promise"))).resolve()}return s(a,c)}function e(a){if(c("gkx")("26258"))return;s=a(s)}g.handleAppStateSyncKeyShare=a;g.setAppStateSyncKeyShareHandler=e}),98);
__d("WAWebNonMessageDataRequestHandlerPlaceholderResend",["WALogger","WATimeUtils","WAWebE2EProtoUtils","WAWebHandleMsgProcess","WAWebHandleMsgTypes.flow","WAWebMsgProcessingApiUtils","WAWebNonMessageDataRequestLoggingUtils","WAWebParseWebMessageInfoApi","WAWebProtobufsE2E.pb","WAWebProtobufsWeb.pb","WAWebSyncGatingUtils","WAWebUserPrefsMeUser","WAWebWamEnumPeerDataResponseApplyResultType","WAWebWidFactory","decodeProtobuf","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: failed to recognize message type"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: failed to get message info as status message with no participant"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: failed to get message info as broadcast message with no participant"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: failed to get message info as group message with no participant"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: failed to get message info as the message is not from me"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] error: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: got null as web message info in result"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: got null as placeholder message resend response in result"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: got empty response in result"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[rdu] Placeholder resend: Handle placeholder resend response results with length ",""]);q=function(){return a};return a}function a(a,b){if(!d("WAWebSyncGatingUtils").isPlaceholderMessageResendEnabled())return;var c=b.length;d("WALogger").LOG(q(),c);if(c===0){d("WALogger").LOG(p());d("WAWebNonMessageDataRequestLoggingUtils").logPlaceholderMessageResendResponse(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.PLACEHOLDER_MESSAGE_RESEND,a,d("WAWebWamEnumPeerDataResponseApplyResultType").PEER_DATA_RESPONSE_APPLY_RESULT_TYPE.INVALID_RESPONSE,0,0,0);return}var e=0,f=0;b.forEach(function(a){try{a=a.placeholderMessageResendResponse;if(a==null){d("WALogger").LOG(o());f++;return}a=a.webMessageInfoBytes;if(a==null){d("WALogger").LOG(n());f++;return}a=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsWeb.pb").WebMessageInfoSpec,a);var b={verifiedNameSerial:null,verifiedLevel:null,verifiedNameCert:null,privacyMode:null,nativeFlowName:null,campaignId:null},c=[d("WAWebParseWebMessageInfoApi").parseWebMessageInfo(a)],g=r(a),h=d("WAWebMsgProcessingApiUtils").isRevokeInfo(g)?d("WAWebHandleMsgTypes.flow").MessageOverwriteOption.PEER_RETRY:d("WAWebHandleMsgTypes.flow").MessageOverwriteOption.NO_OVERWRITE;d("WAWebHandleMsgProcess").processMsgs({renderableMsgs:c,reparsing:!1,bizInfo:b,msgMeta:null,paymentInfo:a.paymentInfo,info:g,messageOverwriteOption:h})}catch(a){d("WALogger").ERROR(m(),a).sendLogs("placeholderResendResponse: error while handling response from placeholder resend request");f++;return}e++});d("WAWebNonMessageDataRequestLoggingUtils").logPlaceholderMessageResendResponse(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.PLACEHOLDER_MESSAGE_RESEND,a,f===0?d("WAWebWamEnumPeerDataResponseApplyResultType").PEER_DATA_RESPONSE_APPLY_RESULT_TYPE.SUCCESS:d("WAWebWamEnumPeerDataResponseApplyResultType").PEER_DATA_RESPONSE_APPLY_RESULT_TYPE.OTHER_ERROR,c,e,f);return}function r(a){var b=d("WAWebE2EProtoUtils").protobufToMsgKey(a.key),e={externalId:b.id,ts:a.messageTimestamp!=null?d("WATimeUtils").castLongIntToUnixTime(a.messageTimestamp):d("WATimeUtils").unixTime(),edit:-1,isHsm:!1,count:null,pushname:a.pushName,displayName:null,senderPn:null,senderLid:null,recipientLid:null,recipientPn:null,category:null,offline:null},f=d("WAWebUserPrefsMeUser").getMeUser(),g;b.remote.isGroup()?g=b.remote:g=b.fromMe?f:b.remote;var m;a.participant!=null?m=d("WAWebWidFactory").createWid(a.participant):b.participant!=null&&(m=b.participant);f=a.userReceipt.map(function(a){return d("WAWebWidFactory").createUserWid(a.userJid)});if(g.isUser()){if(f!=null&&f.length>0){if(!d("WAWebUserPrefsMeUser").isMeAccount(g)){d("WALogger").LOG(l());throw c("err")("recipient on non peer chat message")}return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT},e,{chat:f[0],author:g})}return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT},e,{chat:d("WAWebWidFactory").toUserWid(g),author:g})}else if(g.isGroup()){if(m==null){d("WALogger").LOG(k());throw c("err")("group message with no participant")}return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.GROUP},e,{chat:g,author:m,isDirect:!1})}else if(g.isBroadcast()&&!g.isStatus()){if(m==null){d("WALogger").LOG(j());throw c("err")("broadcast message with no participant")}return d("WAWebUserPrefsMeUser").isMeAccount(m)?babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.PEER_BROADCAST},e,{chat:g,author:m,isDirect:!1,bclParticipants:[],bclHashValidated:!1,bclEphSettings:{}}):babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.OTHER_BROADCAST},e,{chat:g,author:m,isDirect:!1,ephSetting:null})}else if(g.isBroadcast()&&g.isStatus()){if(m==null){d("WALogger").LOG(i());throw c("err")("status message with no participant")}return babelHelpers["extends"]({type:d("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.OTHER_STATUS},e,{chat:g,author:m,isDirect:!1})}d("WALogger").LOG(h());throw c("err")("Unrecognized message type")}g.handlePlaceholderResendOperationRequestResponse=a}),98);
__d("WAWebSendNonMessageDataRequestResponse",["Promise","WALogger","WAWebApiPeerMessageStore","WAWebMsgKey","WAWebMsgType","WAWebProtobufsE2E.pb","WAWebSendAppStateSyncMsgJob","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["peer message: the constructed peer data operation request response message is null"]);i=function(){return a};return a}function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=(yield k(a,c,e));if(a==null){d("WALogger").WARN(i());return(h||(h=b("Promise"))).resolve()}yield d("WAWebApiPeerMessageStore").storePeerMessages([a]);return d("WAWebSendAppStateSyncMsgJob").encryptAndSendKeyMsg(a)});return j.apply(this,arguments)}function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=null;switch(b){case d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER:f=m(a,e);break;default:break}if(f==null)return null;b=new(c("WAWebMsgKey"))({fromMe:!0,remote:d("WAWebUserPrefsMeUser").getMeUser(),id:yield c("WAWebMsgKey").newId()});return{id:b,to:d("WAWebWidFactory").createDeviceWidFromUserAndDevice(d("WAWebUserPrefsMeUser").assertGetMe().user,d("WAWebUserPrefsMeUser").assertGetMe().server,0),type:"protocol",subtype:"peer_data_operation_request_response_message",kind:d("WAWebMsgType").MsgKind.PeerMessage,peerDataOperationRequestResponseMessage:f}});return l.apply(this,arguments)}function m(a,b){return b==null?null:{stanzaId:a,peerDataOperationRequestType:d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,peerDataOperationResult:b}}g.sendPeerDataOperationRequestResponseMessage=a}),98);
__d("WAWebNonMessageDataRequestHandlerUploadSticker",["Promise","WABase64","WALogger","WANullthrows","WATimeUtils","WAWebCryptoRandomMediaKey","WAWebFavoriteStickerCollection","WAWebMediaEntry","WAWebMediaMmsV4Upload","WAWebMiscGatingUtils","WAWebNonMessageDataRequestLoggingUtils","WAWebNonMessageDataRequestMediaHandlingUtils","WAWebProtobufsE2E.pb","WAWebProtobufsMmsRetry.pb","WAWebRecentStickerCollectionMd","WAWebSendNonMessageDataRequestResponse","WAWebStickerModel","WAWebWamEnumUploadOriginType","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[sticker-upload] Unexpected unencrypted upload entry"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["RDU: update favorite sticker with response of RDU with filehash ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["RDU: update recent sticker with response of RDU with filehash ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Sticker RDU: get null as media fields in result"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Sticker RDU: the mediaUploadResult "," is not success"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Sticker RDU: get null as fileSha256 in result"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Sticker RDU: get null as stickerMessage in result"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Sticker RDU: Handle reupload sticker response results with length ",""]);p=function(){return a};return a}function a(a,b){d("WALogger").LOG(p(),b.length);if(b.length===0){d("WAWebNonMessageDataRequestLoggingUtils").logNonMessagePeerDataResponse(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,a,0,0,0,0,0);return}var e=b.length,f=0,g=0,h=0,i=0,q=new Map();b.forEach(function(a){a.mediaUploadResult===d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.SUCCESS?f++:a.mediaUploadResult===d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.NOT_FOUND?i++:h++;var b=a.stickerMessage;if(b==null){d("WALogger").LOG(o());return}var e=b.fileSha256,p=b.fileEncSha256,r=b.mediaKey,s=b.directPath;b=b.mediaKeyTimestamp;if(e==null){d("WALogger").LOG(n());return}e=d("WABase64").encodeB64(e);if(a.mediaUploadResult!==d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.SUCCESS){d("WALogger").LOG(m(),a.mediaUploadResult);a.mediaUploadResult!==d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.NOT_FOUND&&q.set(e,c("WANullthrows")(a.mediaUploadResult));return}if(p==null||r==null){d("WALogger").LOG(l());return}g++;a=d("WAWebRecentStickerCollectionMd").RecentStickerCollectionMd.get(e);var t=d("WAWebFavoriteStickerCollection").FavoriteStickerCollection.get(e);d("WAWebNonMessageDataRequestMediaHandlingUtils").inFlightStickerRequests.has(e)&&d("WAWebNonMessageDataRequestMediaHandlingUtils").inFlightStickerRequests["delete"](e);if(a||t){var u,v=a!=null?a.sticker:c("WANullthrows")(t).sticker;if(s===v.directPath&&d("WABase64").encodeB64(p)===v.encFilehash&&d("WABase64").encodeB64(r)===v.mediaKey)return;if((u=v.mediaObject)==null?void 0:u.entries.entries){(u=v.mediaObject)==null?void 0:(u=u.entries)==null?void 0:u.clearEntries()}s=new(d("WAWebStickerModel").StickerModel)({id:v.filehash,directPath:(u=s)!=null?u:v.directPath,filehash:v.filehash,encFilehash:d("WABase64").encodeB64(p),mediaKey:d("WABase64").encodeB64(r),mediaKeyTimestamp:b!=null?Number(b):v.mediaKeyTimestamp,width:v.width,height:v.height,size:v.size,mimetype:v.mimetype,type:v.type,index:0});a&&(d("WALogger").DEV(k(),e),d("WAWebRecentStickerCollectionMd").RecentStickerCollectionMd.updateRecentStickerWithNewSticker(e,s));t&&(d("WALogger").DEV(j(),e),d("WAWebFavoriteStickerCollection").FavoriteStickerCollection.updateFavoriteStickerWithNewSticker(e,s))}});d("WAWebNonMessageDataRequestMediaHandlingUtils").insertResponseError(q,d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER);d("WAWebNonMessageDataRequestLoggingUtils").logNonMessagePeerDataResponse(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,a,e,f,g,h,i)}function e(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(!d("WAWebMiscGatingUtils").isStickerRmrSyncEnabled())return;var f=e.length,g=0,j=0,k=0,l=0,m=d("WATimeUtils").unixTime(),n=[];e=e.map(function(b){b=b.fileSha256;if(b==null){k++;n.push({mediaUploadResult:d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.GENERAL_ERROR});return}var a=d("WAWebFavoriteStickerCollection").FavoriteStickerCollection.get(b);if(a==null){l++;n.push({mediaUploadResult:d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.NOT_FOUND,stickerMessage:{fileSha256:d("WABase64").decodeB64(b)}});return}return a}).filter(function(a){return a!=null});var o=new Set(),p=e.map(function(a){a=c("WANullthrows")(a==null?void 0:a.sticker);var b=a.mediaObject;if(b==null)return{kind:d("WAWebMediaMmsV4Upload").UploadMediaResultKind.ERROR};if(d("WAWebNonMessageDataRequestMediaHandlingUtils").shouldSkipMediaUploadWithSuccess(a.filehash,d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,m)){var e=b.entries.getDownloadEntry(!0);if(e instanceof d("WAWebMediaEntry").EncryptedMediaEntry){j++;o.add(a.filehash);return{kind:d("WAWebMediaMmsV4Upload").UploadMediaResultKind.SUCCESS,mediaEntry:e}}}if(d("WAWebNonMessageDataRequestMediaHandlingUtils").shouldSkipMediaUploadWithCancellation(a.filehash,d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,m)){o.add(a.filehash);return{kind:d("WAWebMediaMmsV4Upload").UploadMediaResultKind.CANCELLATION}}e=b.entries.getUploadEntry(!0);if(e instanceof d("WAWebMediaEntry").UnencryptedMediaEntry){d("WALogger").ERROR(i()).devConsole(e).sendLogs("sticker-upload-unexpected-unencrypted-entry");return{kind:d("WAWebMediaMmsV4Upload").UploadMediaResultKind.ERROR}}e=e instanceof d("WAWebMediaEntry").EncryptedMediaEntry?{key:e.mediaKey,timestamp:e.mediaKeyTimestamp}:c("WAWebCryptoRandomMediaKey")();return d("WAWebMediaMmsV4Upload").uploadMedia({mimetype:a.mimetype,mediaObject:b,mediaType:"sticker",forwardedFromWeb:!1,uploadOrigin:d("WAWebWamEnumUploadOriginType").UPLOAD_ORIGIN_TYPE.STICKER_WEB,mediaKeyInfo:e,isViewOnce:!0})});p=(yield (h||(h=b("Promise"))).all(p));var q=new Map();for(var r=0;r<p.length;r++){var s=p[r],t=s.kind;s=s.mediaEntry;var u=c("WANullthrows")(e[r]);u=c("WANullthrows")(u==null?void 0:u.sticker);if(t!==d("WAWebMediaMmsV4Upload").UploadMediaResultKind.SUCCESS||s==null){k++;n.push({mediaUploadResult:d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.GENERAL_ERROR,stickerMessage:{fileSha256:d("WABase64").decodeB64(u.filehash)}});o.has(u.filehash)||q.set(u.filehash,t);continue}g++;if(!o.has(u.filehash)){var v;if((v=u.mediaObject)==null?void 0:v.entries.entries){(v=u.mediaObject)==null?void 0:(v=v.entries)==null?void 0:v.clearEntries()}v=new(d("WAWebStickerModel").StickerModel)({id:u.filehash,directPath:s.directPath,filehash:u.filehash,encFilehash:s.encFilehash,mediaKey:s.mediaKey,mediaKeyTimestamp:s.mediaKeyTimestamp,width:u.width,height:u.height,size:u.size,mimetype:u.mimetype,type:u.type,index:0});d("WAWebFavoriteStickerCollection").FavoriteStickerCollection.updateFavoriteStickerWithNewSticker(u.filehash,v);q.set(u.filehash,t)}n.push({mediaUploadResult:d("WAWebProtobufsMmsRetry.pb").MediaRetryNotification$ResultType.SUCCESS,stickerMessage:{fileSha256:d("WABase64").decodeB64(u.filehash),fileEncSha256:d("WABase64").decodeB64((v=s.encFilehash)!=null?v:""),mediaKey:d("WABase64").decodeB64(s.mediaKey),mimetype:u.mimetype,height:u.height,width:u.width,directPath:(t=s.directPath)!=null?t:"",mediaKeyTimestamp:s.mediaKeyTimestamp}})}d("WAWebSendNonMessageDataRequestResponse").sendPeerDataOperationRequestResponseMessage(a,d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,n);d("WAWebNonMessageDataRequestMediaHandlingUtils").insertMediaUploadResult(q,m);d("WAWebNonMessageDataRequestLoggingUtils").logMediaUpload(d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER,a,f,g,j,k,l)});return q.apply(this,arguments)}g.handleUploadStickerPeerDataOperationRequestResponse=a;g.handleUploadStickerPeerDataOperationRequest=e}),98);
__d("WAWebNonMessageDataRequestHandler",["WAWebNonMessageDataRequestHandlerGenLinkPreview","WAWebNonMessageDataRequestHandlerPlaceholderResend","WAWebNonMessageDataRequestHandlerUploadSticker","WAWebProtobufsE2E.pb"],(function(a,b,c,d,e,f,g){function a(a,b){if(b.peerDataOperationRequestType==null)return;switch(b.peerDataOperationRequestType){case d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER:d("WAWebNonMessageDataRequestHandlerUploadSticker").handleUploadStickerPeerDataOperationRequest(a,b.requestStickerReupload);return;default:return}}function b(a,b){if(b.peerDataOperationRequestType==null)return;switch(b.peerDataOperationRequestType){case d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.UPLOAD_STICKER:d("WAWebNonMessageDataRequestHandlerUploadSticker").handleUploadStickerPeerDataOperationRequestResponse(a,b.peerDataOperationResult);return;case d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.GENERATE_LINK_PREVIEW:d("WAWebNonMessageDataRequestHandlerGenLinkPreview").handleGenerateLinkPreviewOperationRequestResponse(b);return;case d("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.PLACEHOLDER_MESSAGE_RESEND:d("WAWebNonMessageDataRequestHandlerPlaceholderResend").handlePlaceholderResendOperationRequestResponse(a,b.peerDataOperationResult);return;default:return}}g.handlePeerDataOperationRequest=a;g.handlePeerDataOperationRequestResponse=b}),98);
__d("WAWebHandleDeferredMessages",["WALogger","WANullthrows","WAPromiseEach","WAWebApiDeferredMessagesStorage","WAWebApiHydrateWidsUtil","WAWebHandleHistorySyncNotification","WAWebKeyManagementHandleKeyRequestApi","WAWebKeyManagementHandleKeyShareApi","WAWebMsgProcessingApiUtils","WAWebNonMessageDataRequestHandler","WAWebParsedProtocolMsgType","WAWebProtobufsE2E.pb","asyncToGeneratorRuntime","decodeProtobuf","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[push-notification] Failed to handle deferred messages: parseProtocolMessage failed"]);h=function(){return a};return a}function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("WAWebApiDeferredMessagesStorage").getDeferredMessages());yield d("WAPromiseEach").promiseEach(a,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!a)return;var b=a.type,e=a.plaintext,f=a.info,g=a.paymentInfo,i=a.bizInfo;f=d("WAWebApiHydrateWidsUtil").hydrateWids(f);e=d("decodeProtobuf").decodeProtobuf(d("WAWebProtobufsE2E.pb").MessageSpec,e);var j=d("WAWebMsgProcessingApiUtils").getFrom(f);e=(yield d("WAWebMsgProcessingApiUtils").parseProtocolMessage({info:f,msgProtobuf:e,paymentInfo:g,bizInfo:i,hsmInfo:null}));if(e==null){d("WALogger").ERROR(h());return}switch(b){case d("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.HISTORY:yield d("WAWebHandleHistorySyncNotification").handleHistorySyncNotification(c("WANullthrows")(e==null?void 0:e.history),j,f.externalId);break;case d("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.APP_STATE_SYNC_KEY_SHARE:yield d("WAWebKeyManagementHandleKeyShareApi").handleAppStateSyncKeyShare(c("WANullthrows")(e==null?void 0:e.appStateSyncKeyShare),j);break;case d("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.APP_STATE_SYNC_KEY_REQUEST:yield d("WAWebKeyManagementHandleKeyRequestApi").handleAppStateSyncKeyRequest(c("WANullthrows")(e==null?void 0:e.appStateSyncKeyRequest),j);break;case d("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.PEER_DATA_OPERATION_REQUEST_RESPONSE_MESSAGE:yield d("WAWebNonMessageDataRequestHandler").handlePeerDataOperationRequestResponse(f.externalId,c("WANullthrows")(e==null?void 0:e.peerDataOperationRequestResponseMessage));break;case d("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.PEER_DATA_OPERATION_REQUEST_MESSAGE:yield d("WAWebNonMessageDataRequestHandler").handlePeerDataOperationRequest(f.externalId,c("WANullthrows")(e==null?void 0:e.peerDataOperationRequestMessage));break;default:throw c("err")("[worker] Invalid messages stored in deferred messages table")}yield c("WAWebApiDeferredMessagesStorage").deleteDeferredMessage(a.id)});return function(b){return a.apply(this,arguments)}}())});return i.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebHeader.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={chatControls:"_ami8",chatAvatar:"_ami9",chatHeader:"_amid",chatHeaderStylesOverride:"_as5b",chatHeaderMaterial:"_aqy6",chatBody:"_amie",chatMain:"_amif",chatTitle:"_amig",menuItemContainer:"_amih"};b=a;g["default"]=b}),98);
__d("WAWebNewsletterChatMenuDropdown.react",["fbt","WAWebCheckRefreshedIcon","WAWebCloseRefreshedIcon","WAWebCmd","WAWebDrawerManager","WAWebDropdown.react","WAWebDropdownItem.react","WAWebExitRefreshedIcon","WAWebInfoFlowLoadable","WAWebInfoFlowStep","WAWebInfoRefreshedIcon","WAWebModalManager","WAWebNewsletterMembershipUtil","WAWebReportNewsletterPopup.react","WAWebSettingsRefreshedIcon","WAWebSpamConstants","WAWebStateUtils","WAWebThumbsDownRefreshedIcon","WAWebUIRefreshGatingUtils","WAWebUnfollowNewsletterConfirmationModal.react","WAWebWamEnumChannelEventSurface","react"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useCallback,m=b.useRef;function a(a){var b,e=a.chat,f=a.onSelectMessages;a=a.toContextMenuManager;var g=m(null),i=e.newsletterMetadata,j=d("WAWebUIRefreshGatingUtils").listRefreshEnabled(),n=l(function(){d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebReportNewsletterPopup.react"),{chat:e,spamFlow:d("WAWebSpamConstants").SpamFlow.OverflowMenuReport}))},[e]),o=l(function(){d("WAWebCmd").Cmd.chatInfoDrawer(e)},[e]),p=l(function(){d("WAWebCmd").Cmd.closeChat(e)},[e]),q=l(function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebUnfollowNewsletterConfirmationModal.react").UnfollowNewsletterConfirmationModal,{chat:d("WAWebStateUtils").unproxy(e),loggingOptions:{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD}}))},[e]),r=l(function(){d("WAWebDrawerManager").DrawerManager.openDrawerRight(k.jsx(d("WAWebInfoFlowLoadable").InfoFlowLoadable,{chat:e,initialStep:d("WAWebInfoFlowStep").InfoFlowStep.NewsletterSettings}))},[e]);b=d("WAWebNewsletterMembershipUtil").iAmAdminOrOwner(e==null?void 0:e.newsletterMetadata)&&!((b=e.newsletterMetadata)==null?void 0:b.isSuspendedOrTerminated)?k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:r,testid:void 0,icon:j?k.jsx(d("WAWebSettingsRefreshedIcon").SettingsRefreshedIcon,{}):null,children:h._("__JHASH__O51Yt7QP6vN__JHASH__")},"newsletter-overflow-menu-newsletter-settings"):null;r=((r=e.newsletterMetadata)==null?void 0:r.isSuspendedOrTerminated)?null:k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:f,icon:j?k.jsx(d("WAWebCheckRefreshedIcon").CheckRefreshedIcon,{}):null,children:h._("__JHASH__JI9hJ6sBMW7__JHASH__")},"newsletter-overflow-menu-select-messages");f=((f=e.newsletterMetadata)==null?void 0:f.isSuspendedOrTerminated)?null:k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:n,testid:void 0,icon:j?k.jsx(d("WAWebThumbsDownRefreshedIcon").ThumbsDownRefreshedIcon,{}):null,children:h._("__JHASH__PzRrGSXWySw__JHASH__")},"newsletter-overflow-menu-report");n=[k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:o,testid:void 0,icon:j?k.jsx(d("WAWebInfoRefreshedIcon").InfoRefreshedIcon,{}):null,children:h._("__JHASH__eHd-O5fErG4__JHASH__")},"newsletter-overflow-menu-newsletter-info"),b,r,k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:p,testid:void 0,icon:j?k.jsx(d("WAWebCloseRefreshedIcon").CloseRefreshedIcon,{}):null,children:h._("__JHASH__lraDtbLxULJ__JHASH__")},"newsletter-overflow-menu-close-channel"),f];d("WAWebNewsletterMembershipUtil").iAmSubscriber(i)&&n.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:q,testid:void 0,icon:j?k.jsx(d("WAWebExitRefreshedIcon").ExitRefreshedIcon,{}):null,children:h._("__JHASH__w8sgsp-yDuW__JHASH__")},"newsletter-overflow-menu-unfollow"));return a!=null?k.jsx("div",{ref:g,"data-testid":void 0,children:n}):k.jsx(d("WAWebDropdown.react").Dropdown,{ref:function(a){g.current=a},type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,testid:void 0,children:n},"NewsletterMenuDropdown")}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterChatMenuDropdown=a}),226);
__d("WAWebNewsletterSubscribeButton.react",["fbt","WAWebWDSButton","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.isLoading;a=a.onClick;return j.jsx(d("WAWebWDSButton").WDSButtonPrimary,{testid:void 0,onClick:a,spinner:b,disabled:b,children:h._("__JHASH__fwxpTAEyfpc__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebNotificationsOffIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="notifications-off";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:h,height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M5 18.875q-.325 0-.537-.225-.213-.225-.213-.525 0-.325.213-.538.212-.212.537-.212h1.25v-7.25q0-.775.188-1.5.187-.725.562-1.4L8.125     8.35q-.175.425-.275.862-.1.438-.1.913v7.25l7.275-.025L2.55 4.9q-.2-.2-.2-.513 0-.312.2-.537.225-.225.538-.225.312 0 .537.225L20.4 20.625q.2.225.213.525.012.3-.213.55-.225.2-.525.2-.3     0-.525-.2l-2.85-2.825Zm12.75-3.725-1.5-1.5v-3.525q0-1.775-1.25-3.013-1.25-1.237-3-1.237-.7 0-1.387.237-.688.238-1.213.688L8.325 5.725q.525-.45 1.15-.763.625-.312     1.275-.462v-.7q0-.525.363-.888.362-.362.887-.362t.887.362q.363.363.363.888v.7q1.875.425 3.188 1.963Q17.75 8 17.75 10.125Zm-6.35-1.375ZM12 21.8q-.75     0-1.275-.525Q10.2 20.75 10.2 20h3.6q0 .75-.525 1.275-.525.525-1.275.525Zm.825-11.525Z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.NotificationsOffIcon=a}),98);
__d("WAWebNotificationsOnIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="notifications-on";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:h,height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M3.25 10q-.325 0-.537-.225-.213-.225-.188-.525.15-1.675.85-3.213Q4.075 4.5 5.25 3.3q.2-.2.525-.2t.55.225q.2.2.213.5.012.3-.213.55-1 1-1.587 2.237Q4.15 7.85     4.025 9.25q-.025.325-.237.537Q3.575 10 3.25 10Zm17.5 0q-.3 0-.525-.213-.225-.212-.25-.537-.125-1.4-.712-2.638-.588-1.237-1.588-2.237-.2-.25-.2-.55 0-.3.225-.5.225-.225.538-.225.312     0 .512.2 1.175 1.2 1.875 2.737.7 1.538.85 3.213.025.3-.187.525-.213.225-.538.225ZM5 18.875q-.325 0-.537-.225-.213-.225-.213-.525 0-.325.213-.538.212-.212.537-.212h1.25v-7.25q0-2     1.25-3.588Q8.75 4.95 10.75 4.5v-.7q0-.525.363-.888.362-.362.887-.362t.887.362q.363.363.363.888v.7q2 .45 3.25 2.037 1.25 1.588 1.25 3.588v7.25H19q.325 0 .538.212.212.213.212.538     0 .3-.212.525-.213.225-.538.225Zm7-7.25ZM12 21.8q-.75 0-1.275-.525Q10.2 20.75 10.2 20h3.6q0 .75-.525 1.275-.525.525-1.275.525Zm-4.25-4.425h8.5v-7.25q0-1.775-1.25-3.013-1.25-1.237-3-1.237T9     7.112Q7.75 8.35 7.75 10.125Z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.NotificationsOnIcon=a}),98);
__d("WAWebNewsletterConversationPanelHeader.react",["fbt","Promise","WAWebCommonNewsletterEnums","WAWebCommonNewsletterStrings","WAWebDrawerManager","WAWebFollowNewsletter","WAWebInfoFlowLoadable","WAWebInfoFlowStep","WAWebKeyboardTabUtils","WAWebLinkIcon","WAWebMenuBar.react","WAWebModalManager","WAWebNewsletterDirectorySearchAction","WAWebNewsletterGatingUtils","WAWebNewsletterMembershipUtil","WAWebNewsletterModelUtils","WAWebNewsletterSubscribeButton.react","WAWebNewsletterToggleMuteStateAction","WAWebNotificationsOffIcon","WAWebNotificationsOnIcon","WAWebSpinner.react","WAWebStateUtils","WAWebTabOrder","WAWebUnfollowNewsletterConfirmationModal.react","WAWebWDSButton","WAWebWamEnumChannelEventSurface","WAWebWamEnumChannelLinkShareEntryPoint","asyncToGeneratorRuntime","react","useWAWebModelValues","useWAWebOnUnmount","useWAWebPrevious"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=j||(j=c("react")),m=e.useCallback,n=e.useState;function a(a){var e=a.chat,f=d("useWAWebModelValues").useModelValues(e,["isNewsletter","newsletterMetadata","muteExpiration"]);c("useWAWebOnUnmount")(function(){var a;(a=f.newsletterMetadata)==null?void 0:a.resetRecentlyFollowedFrom()});a=d("useWAWebModelValues").useOptionalModelValues(f.newsletterMetadata,["membershipType","suspended","terminated","isSuspendedOrTerminated","canBeMuted"]);var g=n(!1),j=g[0],k=g[1];g=n(!1);var p=g[0],q=g[1];g=c("useWAWebPrevious")(f.muteExpiration);g!==f.muteExpiration&&p&&q(!1);g=m(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){k(!0),yield (i||(i=b("Promise"))).allSettled([d("WAWebFollowNewsletter").followNewsletter(d("WAWebStateUtils").unproxy(f),{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD}),d("WAWebNewsletterGatingUtils").isSimilarNewsletterInThreadEnabled()&&d("WAWebNewsletterDirectorySearchAction").getSimilarNewslettersAction(d("WAWebStateUtils").unproxy(f))]),k(!1)}),[f]);var r=m(function(){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebUnfollowNewsletterConfirmationModal.react").UnfollowNewsletterConfirmationModal,{chat:d("WAWebStateUtils").unproxy(e),loggingOptions:{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD}}))},[e]),s=m(function(){d("WAWebDrawerManager").DrawerManager.openDrawerRight(l.jsx(d("WAWebInfoFlowLoadable").InfoFlowLoadable,{chat:e,initialStep:d("WAWebInfoFlowStep").InfoFlowStep.NewsletterLink,newsletterLinkShareScreenEntryPoint:d("WAWebWamEnumChannelLinkShareEntryPoint").CHANNEL_LINK_SHARE_ENTRY_POINT.CHANNEL_THREAD}),{transition:"slide-left",focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE,noFocus:!0})},[e]),t=m(function(){q(!0),d("WAWebNewsletterToggleMuteStateAction").muteNewsletterAction(e.id,{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD})["catch"](function(){return q(!1)})},[e]),u=m(function(){q(!0),d("WAWebNewsletterToggleMuteStateAction").unmuteNewsletterAction(e.id,{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD})["catch"](function(){return q(!1)})},[e]);if(!f.isNewsletter||a==null)return null;if(a.isSuspendedOrTerminated)return a.membershipType===d("WAWebCommonNewsletterEnums").NewsletterMembershipType.Subscriber?l.jsx(d("WAWebWDSButton").WDSButtonPrimary,{onClick:r,testid:void 0,children:h._("__JHASH__ipSVtCOZYk0__JHASH__")}):null;r=null;a.canBeMuted&&(r=d("WAWebNewsletterModelUtils").isMuted(f.muteExpiration)?l.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:p?l.jsx(o,{}):l.jsx(d("WAWebNotificationsOffIcon").NotificationsOffIcon,{}),onClick:u,disabled:p,title:h._("__JHASH__WP0hnGFe6Jr__JHASH__")}):l.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:p?l.jsx(o,{}):l.jsx(d("WAWebNotificationsOnIcon").NotificationsOnIcon,{}),onClick:t,disabled:p,title:h._("__JHASH__Trvawc6j0QE__JHASH__")}));u=d("WAWebNewsletterMembershipUtil").iAmAdminOrOwner(a)?l.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:l.jsx(d("WAWebLinkIcon").LinkIcon,{}),onClick:s,title:d("WAWebCommonNewsletterStrings").getShareText()}):null;t=d("WAWebNewsletterMembershipUtil").iAmGuest(a)?l.jsx(c("WAWebNewsletterSubscribeButton.react"),{onClick:g,isLoading:j}):null;return l.jsxs(l.Fragment,{children:[u,r,t]})}a.displayName=a.name+" [from "+f.id+"]";function o(){return l.jsx(d("WAWebSpinner.react").Spinner,{color:"wdsSecondaryLighter",size:20})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebSearchAltIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="search-alt";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M15.9,14.3H15L14.7,14c1-1.1,1.6-2.7,1.6-4.3c0-3.7-3-6.7-6.7-6.7S3,6,3,9.7 s3,6.7,6.7,6.7c1.6,0,3.2-0.6,4.3-1.6l0.3,0.3v0.8l5.1,5.1l1.5-1.5L15.9,14.3z M9.7,14.3c-2.6,0-4.6-2.1-4.6-4.6s2.1-4.6,4.6-4.6 s4.6,2.1,4.6,4.6S12.3,14.3,9.7,14.3z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.SearchAltIcon=a}),98);
__d("WAWebSubgroupSwitcherIcon.react",["fbt","WAWebChevronCustomIcons","WAWebCommunityFeatureUsageWamEvent","WAWebCommunityGroupJourneyEventImpl","WAWebCommunitySubgroupSwitcher.react","WAWebDetailImage.react","WAWebMenuBar.react","WAWebModalManager","WAWebTabOrder","WAWebUISpacing","WAWebWamEnumChatFilterActionTypes","WAWebWamEnumCommunityFeatureUiActionTakenType","WAWebWamEnumCommunityUiFeatureType","WAWebWamEnumSurfaceType","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={container:{height:"x1fgtraw",width:"xgd8bvy",position:"x1n2onr6",$$css:!0},parentGroupImage:{height:"x1fgtraw",width:"xgd8bvy",$$css:!0},chevron:{height:"x5yr21d",width:"xh8yej3",color:"x10gus5o",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",backgroundColor:"xkgd8lh",$$css:!0}};function a(a){var b=a.chat,e=(a=b.groupMetadata)==null?void 0:a.parentGroup;if(e==null)return null;a=function(a){a.stopPropagation(),new(d("WAWebCommunityFeatureUsageWamEvent").CommunityFeatureUsageWamEvent)({communityId:e.toString(),communityUiAction:d("WAWebWamEnumCommunityFeatureUiActionTakenType").COMMUNITY_FEATURE_UI_ACTION_TAKEN_TYPE.ENTRY,communityUiFeature:d("WAWebWamEnumCommunityUiFeatureType").COMMUNITY_UI_FEATURE_TYPE.SUBGROUP_SWITCH}).commit(),new(d("WAWebCommunityGroupJourneyEventImpl").CommunityGroupJourneyEvent)({action:d("WAWebWamEnumChatFilterActionTypes").CHAT_FILTER_ACTION_TYPES.SUBGROUP_SWITCHER_CLICK,surface:d("WAWebWamEnumSurfaceType").SURFACE_TYPE.CHAT,chat:b}).commit(),d("WAWebModalManager").ModalManager.open(j.jsx(c("WAWebCommunitySubgroupSwitcher.react"),{chat:b}))};var f=j.jsxs(j.Fragment,{children:[j.jsx(d("WAWebDetailImage.react").DetailImage,{id:e,size:28,shape:d("WAWebDetailImage.react").DetailImageShape.Squircle,xstyle:k.parentGroupImage}),j.jsx("div",{className:"x10l6tqk xyzs4uy x1tk7jg1 xlup9mm x1kky2od xamhcws xol2nv xlxy82 x19p7ews x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi xls5kiu x1vektf3 x1uy4w22 x1cte7vi x14yjl9h xudhj91 x18nykt9 xww2gxu",children:j.jsx(d("WAWebChevronCustomIcons").ChevronDownCustomIcon,{xstyle:k.chevron,height:16,width:16})})]});return j.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,xstyle:[k.container,d("WAWebUISpacing").uiPadding.all0],buttonStyle:[k.container,d("WAWebUISpacing").uiPadding.all0],onClick:a,title:h._("__JHASH__mpIGPHqNNXG__JHASH__"),testid:void 0,icon:f})}a.displayName=a.name+" [from "+f.id+"]";g.SubgroupSwitcherIcon=a}),226);
__d("WAWebHeader.react",["fbt","WAWebABProps","WAWebBotGating","WAWebBroadcastMenuDropdown.react","WAWebBusinessProfileCollection","WAWebChatAssignmentNux.react","WAWebChatAssignmentUtils","WAWebChatGroupUtils","WAWebChatSearchDrawer.react","WAWebClassnames","WAWebCmd","WAWebCommerceButton.react","WAWebConnModel","WAWebContactGetters","WAWebContactMenuDropdown.react","WAWebDesktopUpsellCallingUnavailable.react","WAWebDesktopUpsellPlatformAwareHooks","WAWebDetailImage.react","WAWebDrawerManager","WAWebDropdown.react","WAWebFrontendContactGetters","WAWebGroupChatImage.react","WAWebGroupMenuDropdown.react","WAWebGroupSubtitle.react","WAWebGroupType","WAWebHeader.scss","WAWebHostedGroupUtils","WAWebInfoFlowLoadable","WAWebKeyboardTabUtils","WAWebL10N","WAWebMenuBar.react","WAWebMenuIcon","WAWebMessageLogQplEvents","WAWebMuteGetters","WAWebName.react","WAWebNewsletterChatHeaderSubtitle.react","WAWebNewsletterChatMenuDropdown.react","WAWebNewsletterConversationPanelHeader.react","WAWebNewsletterGatingUtils","WAWebNotificationsOffIcon","WAWebNotificationsOnIcon","WAWebSearchAltIcon","WAWebSearchRefreshedIcon","WAWebStackedCirclesImage.react","WAWebStateUtils","WAWebSubgroupSwitcherIcon.react","WAWebTabOrder","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUimUieMenu.react","WAWebUseBusinessProfile.react","WAWebUseIsKeyboardUser","WAWebUserSubtitle.react","WAWebWamEnumProfileEntryPoint","asyncToGeneratorRuntime","react","useWAWebContactValues","useWAWebForceUpdate","useWAWebListener","useWAWebModelValues","useWAWebMuteValues","useWAWebUIM","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useRef,n=e.useState;function o(a){var b,c;b=(a==null?void 0:(b=a.groupMetadata)==null?void 0:b.participants.iAmAdmin())&&((b=a.groupMetadata)==null?void 0:b.announce)?h._("__JHASH__8QEb6bbwR8F__JHASH__"):h._("__JHASH__jv1LMoRSLOC__JHASH__");var e;if(((c=a.groupMetadata)==null?void 0:c.groupType)===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP){(a==null?void 0:(c=a.groupMetadata)==null?void 0:c.participants.iAmAdmin())?e=h._("__JHASH__TD6qdA9zn5C__JHASH__"):e=h._("__JHASH__dhHo5hWiU_Z__JHASH__")}else if(((c=a.groupMetadata)==null?void 0:c.groupType)===d("WAWebGroupType").GroupType.LINKED_SUBGROUP&&((c=a.groupMetadata)==null?void 0:c.participants.iAmMember())){a=(c=a.groupMetadata)==null?void 0:c.getParentGroupChat();c=a==null?void 0:a.contact;a=c!=null?d("WAWebFrontendContactGetters").getFormattedName(c):null;a!=null&&(e=h._("__JHASH__jeucOx6ke8r__JHASH__",[h._param("community",a)]))}return(c=e)!=null?c:b}function p(a,b,c){d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(e){if(e)return;a.contact.isBusiness&&d("WAWebMessageLogQplEvents").qplStartProfileView("Header");(a.isUser||a.isBroadcast||a.isGroup||a.isNewsletter)&&d("WAWebDrawerManager").DrawerManager.openDrawerRight(k.jsx(d("WAWebInfoFlowLoadable").InfoFlowLoadable,{chat:d("WAWebStateUtils").unproxy(a),profileEntryPoint:c,sourceGroupChatOrNewsletter:a.isGroup?a:void 0},"info-"+a.id.toString()),{transition:"slide-left",uim:b,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})})}function q(){d("WAWebDrawerManager").DrawerManager.existsDrawerRight(function(a){a&&d("WAWebDrawerManager").DrawerManager.closeDrawerRight()})}function a(a){var e,f=a.chat,g=a.contact;a=a.onSelectMessages;var i=c("useWAWebUIM")(),j=d("useWAWebForceUpdate").useForceUpdateDONOTUSE(),r=m(null),s=m(null),t=d("useWAWebModelValues").useModelValues(f,["id","formattedTitle","presence","isUser","isNewsletter","isGroup","isBroadcast","groupMetadata","isPSA","contact","name","assignedAgent","isAssignedToMe","mute","newsletterMetadata","capiThreadControl"]),u=d("useWAWebMuteValues").useMuteValues(t.mute.id,[d("WAWebMuteGetters").getIsMuted]),v=u[0];u=c("WAWebUseIsKeyboardUser")();u=u.isKeyboardUser;var w=d("useWAWebModelValues").useModelValues(t.presence.chatstate,["type"]);e=d("useWAWebContactValues").useContactValues(g.id,[(e=d("WAWebContactGetters")).getIsMe,e.getShowBusinessCheckmarkAsPrimary,e.getShowBusinessCheckmarkAsSecondary,e.getShouldForceBusinessUpdate,e.getShowBiz3pBotVerifiedNameAsSecondary]);var x=e[0],y=e[1],z=e[2],A=e[3];e=e[4];g=(g=d("WAWebUseBusinessProfile.react").useBusinessProfile(d("WAWebBotGating").isBizBot3pAvailable()?g.id:null,["isBizBot3p"]))!=null?g:{};g=g.isBizBot3p;e=e&&g===!0;g=d("useWAWebModelValues").useOptionalModelValues(f.newsletterMetadata,["membershipType","suspended","terminated","isSuspendedOrTerminated"]);f=c("useWAWebUnmountSignal")();var B=n(null),C=B[0];B=B[1];l(function(){function a(){return c.apply(this,arguments)}function c(){c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(t.contact.id),j()});return c.apply(this,arguments)}A&&a()},[]);var D=n(!0),E=D[0],F=D[1],G=function(a){d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(b){b&&a.preventDefault()})};D=function(a){a.preventDefault(),d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(a){a||d("WAWebDrawerManager").DrawerManager.openDrawerRight(k.jsx(c("WAWebChatSearchDrawer.react"),{chat:d("WAWebStateUtils").unproxy(t)},"chat-search-"+t.id.toString()),{transition:"slide-left",uim:i,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})})};var H=function(){if(d("WAWebHostedGroupUtils").isWAHostedGroupEnabled()){var a;if(((a=t.groupMetadata)==null?void 0:a.hasCapi)===!0)return!0}return!1},I=function(a){a((a=r.current)==null?void 0:a.getBoundingClientRect())};d("useWAWebListener").useListener(t.contact.businessProfile,["change:profileOptions","change:catalogStatus"],j);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"get_conversation_header_offset",I);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"update_chatlist_selection",function(){return q()});I=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellAbPropCheck("call_btn");var J=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellPlatformCheck();I=I&&J;J=d("useWAWebModelValues").useModelValues(d("WAWebConnModel").Conn,["pushname"]);J=J.pushname;var K=n(null),L=K[0],M=K[1];l(function(){if(d("WAWebChatAssignmentUtils").canAssignChat(t)&&t.assignedAgent!=null){var a=t.isAssignedToMe?h._("__JHASH__9n8jUt1pVOX__JHASH__"):h._("__JHASH__mAyf2Xfxd_w__JHASH__",[h._param("agentName",t.assignedAgent.name)]);M(a)}},[J,t,t.assignedAgent,t.isAssignedToMe]);var N,O;if(t.isUser)N=k.jsx(c("WAWebContactMenuDropdown.react"),{chat:t,contact:t.contact,onSelectMessages:a,toContextMenuManager:!0,enableChatThreadLogging:!0}),O=k.jsx(c("WAWebUserSubtitle.react"),{contact:t.contact,presence:t.presence,chatstate:t.presence.chatstate,location:"title",showBusinessCheckmark:z,showVerifiedName:e,assignmentSubtitle:L,chatId:t.id});else if(t.isBroadcast)N=k.jsx(c("WAWebBroadcastMenuDropdown.react"),{chat:d("WAWebStateUtils").unproxy(t),onSelectMessages:a,toContextMenuManager:!0}),O=null;else if(t.isGroup){N=k.jsx(c("WAWebGroupMenuDropdown.react"),{chat:d("WAWebStateUtils").unproxy(t),onSelectMessages:a,toContextMenuManager:!0});((K=t.groupMetadata)==null?void 0:K.isSuspendedOrTerminated())?O=null:d("WAWebABProps").getABPropConfigValue("ugr_enabled")&&((J=t.groupMetadata)==null?void 0:J.isUnnamed)?w.type==="typing"?O=k.jsx(c("WAWebGroupSubtitle.react"),{chatstate:t.presence.chatstate,groupMetadata:t.groupMetadata,presence:t.presence,placeholder:o(t),location:"title",assignmentSubtitle:L,chatId:t.id}):O=null:O=k.jsx(c("WAWebGroupSubtitle.react"),{chatstate:t.presence.chatstate,groupMetadata:t.groupMetadata,presence:t.presence,placeholder:o(t),location:"title",assignmentSubtitle:L,chatId:t.id})}else t.isNewsletter&&(N=k.jsx(d("WAWebNewsletterChatMenuDropdown.react").NewsletterChatMenuDropdown,{chat:t,toContextMenuManager:!0,onSelectMessages:a}),O=(g==null?void 0:g.suspended)===!0?null:k.jsx(c("WAWebNewsletterChatHeaderSubtitle.react"),{newsletterMetadata:g}));var P;if(C&&N){e={menu:N,anchor:C,autoFocus:u,dirX:c("WAWebL10N").isRTL()?d("WAWebDropdown.react").DirX.RIGHT:d("WAWebDropdown.react").DirX.LEFT,dirY:d("WAWebDropdown.react").DirY.BOTTOM,offsetY:5,type:d("WAWebDropdown.react").MenuType.DropdownMenu};P=k.jsx(c("WAWebUimUieMenu.react"),{contextMenu:e})}K=null;((J=t.groupMetadata)==null?void 0:J.groupType)!==d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP&&!H()&&!x&&!t.isNewsletter&&!t.id.isBot()&&I===!0&&(K=k.jsx(d("WAWebDesktopUpsellCallingUnavailable.react").WAWebDesktopCallingMenuButton,{}));w=null;if(t.isGroup&&t.mute.canMute()&&d("WAWebABProps").getABPropConfigValue("quick_mute_enabled")){L=function(){var a=!1;t.isPSA?d("WAWebCmd").Cmd.muteChatFromEntryPoint(t,!v,3,a):d("WAWebCmd").Cmd.muteChat(t,!v,a)};a=v?h._("__JHASH__SlVd64D7N5W__JHASH__"):h._("__JHASH__lE0p69898Df__JHASH__");w=k.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:v?k.jsx(d("WAWebNotificationsOffIcon").NotificationsOffIcon,{}):k.jsx(d("WAWebNotificationsOnIcon").NotificationsOnIcon,{}),title:a,onClick:L})}C=((g=t.groupMetadata)==null?void 0:g.parentGroup)!=null&&t.groupMetadata.participants.iAmMember();u=C?k.jsx(d("WAWebSubgroupSwitcherIcon.react").SubgroupSwitcherIcon,{chat:t}):null;e=t.isNewsletter||d("WAWebChatGroupUtils").isSuspendedGroup(t)?null:k.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:d("WAWebUIRefreshGatingUtils").conversationPanelRefreshEnabled()?k.jsx(d("WAWebSearchRefreshedIcon").SearchRefreshedIcon,{}):k.jsx(d("WAWebSearchAltIcon").SearchAltIcon,{}),title:h._("__JHASH__mTVgM6PYlov__JHASH__"),onClick:D});t.isPSA&&(O=k.jsx(c("WAWebUserSubtitle.react"),{contact:t.contact,presence:t.presence,chatstate:t.presence.chatstate,location:"title",showBusinessCheckmark:z,chatId:t.id}));var Q;E&&(Q=k.jsx(c("WAWebChatAssignmentNux.react"),{targetRef:s,chat:t}));return f.aborted?null:k.jsxs("header",{ref:r,className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((J={},J[c("WAWebHeader.scss").chatHeader]=!0,J[c("WAWebHeader.scss").chatHeaderMaterial]=d("WAWebUIRefreshGatingUtils").materialRefreshEnabled(),J[c("WAWebHeader.scss").chatHeaderStylesOverride]=d("WAWebUIRefreshGatingUtils").conversationPanelRefreshEnabled(),J)),"data-testid":void 0,children:[k.jsx("div",{className:"x1c4vz4f x2lah0s xdl72j9 x1i4ejaq x1y332i5",onClick:function(){return p(t,i,d("WAWebWamEnumProfileEntryPoint").PROFILE_ENTRY_POINT.CHAT_HEADER)},title:h._("__JHASH__M94AwrcVrNV__JHASH__"),role:t.isPSA?null:"button",children:k.jsx(c("WAWebGroupChatImage.react"),{chat:t,theme:d("WAWebStackedCirclesImage.react").SubgroupImageTheme.CHAT_HEADER,regularChatImage:k.jsx(d("WAWebDetailImage.react").DetailImage,{id:t.id,size:40,ephemeralIcon:"conversation-header",hiddenSubgroupIcon:"conversation-header",enableAdsDataSharingIcon:!0,enableBizAiDataSharingIcon:!0}),showCommunityInfo:!0})}),k.jsxs("div",{className:c("WAWebHeader.scss").chatBody,onClick:function(){return p(t,i,d("WAWebWamEnumProfileEntryPoint").PROFILE_ENTRY_POINT.CHAT_HEADER)},role:t.isPSA?null:"button","data-testid":void 0,children:[k.jsx("div",{className:c("WAWebHeader.scss").chatMain,children:k.jsx("div",{className:c("WAWebHeader.scss").chatTitle,children:k.jsx(d("WAWebName.react").Name,{chat:t,ellipsify:!0,showBusinessCheckmark:y,testid:void 0,showMessageYourselfName:x})})}),O]}),k.jsx("div",{className:c("WAWebHeader.scss").chatControls,children:k.jsxs(d("WAWebMenuBar.react").MenuBar,{children:[u,K,k.jsx(d("WAWebCommerceButton.react").CommerceButton,{chat:t}),d("WAWebNewsletterGatingUtils").isNewsletterEnabled()&&k.jsx(c("WAWebNewsletterConversationPanelHeader.react"),{chat:t}),e,w,N!=null&&k.jsx("div",{className:c("WAWebHeader.scss").menuItemContainer,ref:B,children:k.jsx(d("WAWebMenuBar.react").MenuBarItem,{ref:s,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,icon:k.jsx(d("WAWebMenuIcon").MenuIcon,{xstyle:d("WAWebUISpacing").uiMargin.top2}),title:h._("__JHASH__hskmX_lsgx4__JHASH__"),onClick:function(a){F(!1),G(a)},testid:void 0,children:P})})]},"conversation-header")}),Q]})}a.displayName=a.name+" [from "+f.id+"]";g.openInfoPanel=p;g.ConversationHeader=a}),226);
__d("WAWebHistorySyncApi",["WAWebHistorySyncProgressModel"],(function(a,b,c,d,e,f,g){a={setHistorySyncPaused:function(a){a=a.paused;d("WAWebHistorySyncProgressModel").getHistorySyncProgressModel().setPaused(a)},setHistorySyncProgress:function(a){var b=a.progress;a=a.incomplete;b!=null&&d("WAWebHistorySyncProgressModel").getHistorySyncProgressModel().setProgress(b);a!=null&&d("WAWebHistorySyncProgressModel").getHistorySyncProgressModel().setIncomplete(a)}};g.HistorySyncBridgeApi=a}),98);
__d("WAWebHistorySyncOnDemandEvents",["WAWebEventEmitter"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.triggerSuccessHistorySyncOd=function(a){this.trigger("history_sync_on_demand_events:success_history_sync_od",a)};c.triggerErrorHistorySyncOd=function(a){this.trigger("history_sync_on_demand_events:error_history_sync_od",a)};return b}(c("WAWebEventEmitter"));b=new a();g.WAWebHistorySyncOnDemandEvents=b}),98);
__d("WAWebHistorySyncOnDemandAction",["WAWebHistorySyncOnDemandEvents"],(function(a,b,c,d,e,f,g){function a(a){d("WAWebHistorySyncOnDemandEvents").WAWebHistorySyncOnDemandEvents.trigger("history_sync_on_demand_events:success_history_sync_od",a)}function b(a){d("WAWebHistorySyncOnDemandEvents").WAWebHistorySyncOnDemandEvents.trigger("history_sync_on_demand_events:error_history_sync_od",a)}g.successHistorySyncOd=a;g.errorHistorySyncOd=b}),98);
__d("WAWebSelfPrimaryIdentityChangeAction",["WALogger","WAWebLogoutReasonConstants","WAWebSocketModel","gkx"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["handleNewIdentity: ignore identity change for your own primary device"]);h=function(){return a};return a}function a(){d("WALogger").ERROR(h()).sendLogs("self-identity-change"),c("gkx")("26258")?d("WAWebSocketModel").Socket.logout(d("WAWebLogoutReasonConstants").LogoutReason.PrimaryIdentityKeyChange):self.setTimeout(function(){d("WAWebSocketModel").Socket.logout(d("WAWebLogoutReasonConstants").LogoutReason.PrimaryIdentityKeyChange)},1e4)}g.handleSelfPrimaryIdentityChange=a}),98);
__d("WAWebIdentityBridgeApi",["WAWebSelfPrimaryIdentityChangeAction"],(function(a,b,c,d,e,f,g){a={handleSelfPrimaryIdentityChange:function(){return d("WAWebSelfPrimaryIdentityChangeAction").handleSelfPrimaryIdentityChange()}};g.IdentityBridgeApi=a}),98);
__d("WAWebInfoTooltip.react",["WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={tooltipContainer:{position:"x10l6tqk",width:"xhwf2h4",top:"xdsb8wn",marginStart:"x1hl7nhr",$$css:!0},content:{position:"x1n2onr6",display:"x1rg5ohu",whiteSpace:"xeaf4i8",fontSize:"x1nxh6w3",lineHeight:"x1fc57z9",color:"x1tpmtvg",textAlign:"x2b8uid",textOverflow:"xlyipyv",boxShadow:"x1x28319",borderTopStartRadius:"xzp58vz",borderTopEndRadius:"xz6pen6",borderBottomEndRadius:"x1hij43t",borderBottomStartRadius:"x13yjgf2",backgroundColor:"x83z2og",":hover_backgroundColor":"x1z0qo99",$$css:!0}};function a(a){var b=a.children;a=a.id;return j.jsx("div",{role:"tooltip",id:a,className:(i||(i=c("stylex")))([k.tooltipContainer,d("WAWebUISpacing").paddingTop5]),children:j.jsx("div",{className:i([k.content,d("WAWebUISpacing").paddingHoriz12,d("WAWebUISpacing").paddingVert8]),children:j.jsx("span",{children:b})})},"info-tooltip")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebInfoIconWithToolTip.react",["WAWebInfoFilledIcon","WAWebInfoTooltip.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useRef,m=b.useState,n={container:{height:"x170jfvy",cursor:"x1ypdohk",display:"x1rg5ohu",$$css:!0}};function a(a){a=a.tooltip;var b=m(!1),e=b[0],f=b[1];b=l(null);var g="info-tooltip-id",h=[k.jsx(d("WAWebInfoFilledIcon").InfoFilledIcon,{},"info_icon")];e&&h.unshift(k.jsx(c("WAWebInfoTooltip.react"),{id:g,children:a}));return k.jsx("span",{ref:b,className:(i||(i=c("stylex")))([n.container,d("WAWebUISpacing").uiPadding.start5]),onMouseEnter:function(){f(!0)},onMouseLeave:function(){f(!1)},onFocus:function(){f(!0)},onBlur:function(){f(!1)},tabIndex:0,role:"dialog","aria-describedby":g,children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebL10nHelpersBridgeApi",["WAWebFrontendL10nHelpers","WAWebL10N"],(function(a,b,c,d,e,f,g){a={setLocalePrefCookie:function(a){a=a.locale;d("WAWebFrontendL10nHelpers").setWAWebLocalePrefCookie(a)},mungeLocaleOverrideFromUrlIfNecessary:function(){d("WAWebFrontendL10nHelpers").mungeWAWebLocaleOverrideFromUrlIfNecessary()},extendLocalePrefCookieTtl:function(){d("WAWebFrontendL10nHelpers").extendWAWebLocalePrefCookieTtl()},getUserLocale:function(){return c("WAWebL10N").getLocale()}};g.L10nHelpersBridgeApi=a}),98);
__d("WAWebLabelsBridgeApi",["WAWebBIzLabelReorderAction"],(function(a,b,c,d,e,f,g){a={reorderLabels:function(a){a=a.sortedLabelIds;d("WAWebBIzLabelReorderAction").reorderLabelsAction(a)}};g.LabelsBridgeApi=a}),98);
__d("WAWebLockOutlineIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="lock-outline";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M6.793 22.4C6.29767 22.4 5.875 22.2237 5.525 21.8712C5.175 21.5187 5 21.095 5 20.6V11C5 10.505 5.17625 10.0813 5.52875 9.72875C5.88125 9.37625 6.305 9.2 6.8 9.2H7.4V6.8C7.4 5.472 7.86858 4.34 8.80575 3.404C9.74275 2.468 10.8761 2 12.2057 2C13.5352 2 14.6667 2.468 15.6 3.404C16.5333 4.34 17 5.472 17 6.8V9.2H17.6C18.095 9.2 18.5187 9.37625 18.8712 9.72875C19.2237 10.0813 19.4 10.505 19.4 11V20.6C19.4 21.095 19.2237 21.5187 18.871 21.8712C18.5183 22.2237 18.0943 22.4 17.599 22.4H6.793ZM6.8 20.6H17.6V11H6.8V20.6ZM12.2052 17.6C12.7017 17.6 13.125 17.4233 13.475 17.0698C13.825 16.7163 14 16.2913 14 15.7948C14 15.2983 13.8232 14.875 13.4697 14.525C13.1162 14.175 12.6912 14 12.1947 14C11.6982 14 11.275 14.1767 10.925 14.5302C10.575 14.8837 10.4 15.3087 10.4 15.8052C10.4 16.3017 10.5767 16.725 10.9302 17.075C11.2837 17.425 11.7087 17.6 12.2052 17.6ZM9.2 9.2H15.2V6.8C15.2 5.96667 14.9083 5.25833 14.325 4.675C13.7417 4.09167 13.0333 3.8 12.2 3.8C11.3667 3.8 10.6583 4.09167 10.075 4.675C9.49167 5.25833 9.2 5.96667 9.2 6.8V9.2Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.LockOutlineIcon=a}),98);
__d("WAWebLandingFooter.react",["fbt","WAWebFlex.react","WAWebLockOutlineIcon","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={footer:{display:"x1rg5ohu",fontSize:"x1f6kntn",color:"x1hql6x6",opacity:"x1us6l5c",$$css:!0}};function a(){return j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:d("WAWebUISpacing").uiMargin.top30,children:[j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:[k.footer,d("WAWebUISpacing").uiPadding.end4],children:j.jsx(d("WAWebLockOutlineIcon").LockOutlineIcon,{width:18})}),j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:k.footer,children:h._("__JHASH__GMfu13XXaee__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebLinkDeviceAutoLogoutIFrame.react",["WAWebAutoLogoutGating","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.autoLogoutEnabled;a=a.visible;return!d("WAWebAutoLogoutGating").isRunningInAutoLgoutIframe()&&b?i.jsx("iframe",{src:d("WAWebAutoLogoutGating").getAutoLogoutIframeUrl(),title:"autologout",credentialless:"1",style:{position:"fixed",top:0,left:0,bottom:0,right:0,width:"100%",height:"100%",zIndex:1e4,display:""+(a?"block":"none")}}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebLinkDeviceAutoLogoutToggle.react",["fbt","WAWebCheckBox.react","WAWebFlex.react","WAWebInfoIconWithToolTip.react","WAWebLinkDeviceScreenGating","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||d("react"),l={autoLogoutToggle:{position:"x1n2onr6",width:"x1tdqgrh",boxSizing:"x9f619",$$css:!0}};function a(a){var b=a.autoLogoutEnabled,e=a.onAutoLogoutToggle;a=a.xstyle;return k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",className:(i||(i=c("stylex")))([l.autoLogoutToggle,d("WAWebUISpacing").uiPadding.top15,d("WAWebUISpacing").uiPadding.horiz5,a]),dir:"auto",children:[k.jsx("div",{className:i(d("WAWebUISpacing").uiMargin.end12),children:k.jsx(d("WAWebCheckBox.react").CheckBox,{id:"auto-logout-toggle",checked:!b,onChange:e,theme:d("WAWebLinkDeviceScreenGating").linkDeviceScreenRefreshEnabled()?d("WAWebCheckBox.react").CheckboxTheme.AUTO_LOGOUT:void 0})}),k.jsxs(d("WAWebFlex.react").FlexItem,{grow:1,children:[k.jsx("label",{className:"x17fgdl5 x1f6kntn xt0psk2",htmlFor:"auto-logout-toggle",children:h._("__JHASH___odwXiynX3g__JHASH__")}),k.jsx(c("WAWebInfoIconWithToolTip.react"),{tooltip:h._("__JHASH__xG0J5e3XKLt__JHASH__")})]})]})}a.displayName=a.name+" [from "+f.id+"]";g.LinkDeviceAutoLogoutToggle=a}),226);
__d("WAWebLinkDevicePhoneNumberCodeCells.react",["WAWebFlex.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={codeCellWrapper:{display:"x78zum5",width:"x10h3iyq",backgroundColor:"x12peec7",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopColor:"x10i7gwu",borderEndColor:"xx4fpnl",borderBottomColor:"x157r7a7",borderStartColor:"xkuhyp4",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},hyphen:{textAlign:"x2b8uid",fontWeight:"xk50ysn",fontSize:"x579bpy",color:"xzwifym",$$css:!0}};function a(a){var b=a["aria-details"];a=a.code;a=String(a).split("");var e=a.slice(0,4),f=a.slice(4);return j.jsx("div",{"aria-details":b,"data-testid":void 0,"data-link-code":a,children:j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",className:"light",children:[e.map(function(a,b){return j.jsx(l,{content:a},b+":"+a)}),j.jsx("span",{className:(i||(i=c("stylex")))(k.hyphen,d("WAWebUISpacing").uiPadding.all3),"aria-hidden":"true",children:"-"}),f.map(function(a,b){return j.jsx(l,{content:a},b+4+":"+a)})]})})}a.displayName=a.name+" [from "+f.id+"]";function l(a){a=a.content;return j.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:[k.codeCellWrapper,d("WAWebUISpacing").uiMargin.horiz4,d("WAWebUISpacing").uiPadding.vert13],children:j.jsx("span",{className:"x2b8uid xk50ysn x1aueamr x1jzgpr8 xzwifym",children:a})})}l.displayName=l.name+" [from "+f.id+"]";g.LinkDevicePhoneNumberCodeCells=a}),98);
__d("WAWebRefreshLargeIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="refresh-large";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=48;m=48;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 48 48",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",children:[j.jsx("title",{children:"refresh-l-light"}),j.jsx("desc",{children:"Created with Sketch."}),j.jsx("defs",{}),j.jsx("g",{stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:j.jsx("g",{id:"ic_refresh_black_24px",fill:"currentColor",fillRule:"nonzero",children:j.jsx("path",{d:"M35.3,12.7 C32.4,9.8 28.42,8 24,8 C15.16,8 8.02,15.16 8.02,24 C8.02,32.84 15.16,40 24,40 C31.46,40 37.68,34.9 39.46,28 L35.3,28 C33.66,32.66 29.22,36 24,36 C17.38,36 12,30.62 12,24 C12,17.38 17.38,12 24,12 C27.32,12 30.28,13.38 32.44,15.56 L26,22 L40,22 L40,8 L35.3,12.7 Z",id:"Shape"})})})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.RefreshLargeIcon=a}),98);
__d("WAWebLinkDevicePhoneNumberCodeScreen.react",["fbt","WALogger","WANullthrows","WAPhoneUtils","WATimeUtils","WAWebAltDeviceLinkingApi","WAWebAlternateDeviceLinkingLink.react","WAWebClickableLink.react","WAWebCmd","WAWebFlex.react","WAWebLinkDeviceAction","WAWebLinkDeviceCodeView.react","WAWebLinkDeviceEvents","WAWebLinkDevicePhoneNumberCodeCells.react","WAWebLinkDeviceScreenGating","WAWebModalSingleActionOpener","WAWebRefreshLargeIcon","WAWebSpinner.react","WAWebUISpacing","WAWebUnstyledButton.react","react","stylex","useWAWebListener","useWAWebOnUnmount","useWAWebStableCallback","useWAWebTimeout"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: canceling link code timers"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: regenerating link code because 6-minute-TTL expired"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: force manual refresh received"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: primary hello received, starting 1 minute timer for link code regeneration"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: regenerating link code..."]);p=function(){return a};return a}b=k||d("react");var q=i||(i=c("react")),r=b.useEffect,s=b.useState,t=5,u="link-device-phone-number-code-screen-instructions",v={codeContainer:{position:"x1n2onr6",display:"x78zum5",flex:"x1okw0bk",alignItems:"x6s0dn4",justifyContent:"xl56j7k",$$css:!0},spinner:{width:"x1tdqgrh",height:"x1l76qip",display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",$$css:!0},code:{width:"x14atkfc",height:"x1vd4hg5","@media only screen and (max-width : 900px)_height":"xrxr3ny",$$css:!0},codeNew:{width:"x14atkfc",$$css:!0},spinnerNew:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",height:"x10wjd1d",$$css:!0},phoneCodeWarning:{backgroundColor:"x1l6jbk0",color:"xbkck4w",borderTopStartRadius:"x1ykpwxx",borderTopEndRadius:"x118zf8b",borderBottomEndRadius:"xnwxkdh",borderBottomStartRadius:"xfocsrx",height:"xng8ra",width:"xdzyupr",marginTop:"x1rdy4ex",$$css:!0},phoneCodeWarningIcon:{color:"xbkck4w",$$css:!0},errorTitle:{lineHeight:"x1u7k74",$$css:!0},errorAction:{fontWeight:"x1ny7uwr",fontSize:"x1f6kntn",$$css:!0}};function a(a){var b=a.code,e=s(0),f=e[0],g=e[1];e=s(!0);var i=e[0],k=e[1];e=s(!1);var x=e[0],y=e[1];r(function(){k(!1),d("WAWebCmd").Cmd.initialLoadReady()},[]);var z=b==null||f>t;e=s(!1);b=e[0];var A=e[1],B=c("useWAWebStableCallback")(function(a){var b=f+1;(a==null?void 0:a.resetRefreshCount)?b=0:b=f+1;g(b);y(!1);A(!1);b<=t&&(d("WALogger").LOG(p()),d("WAWebLinkDeviceAction").refreshAltLinkingCode())});e=d("useWAWebTimeout").useTimeout(function(){var a;(a=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null?void 0:a.addPoint("primary_hello_expire");B()},1*d("WATimeUtils").MINUTE_MILLISECONDS);var C=e[0],D=e[1];d("useWAWebListener").useListener(d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents,"link_device_events:primary_hello_received",function(){d("WALogger").LOG(o()),C()});d("useWAWebListener").useListener(d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents,"link_device_events:force_manual_refresh",function(){var a;d("WALogger").LOG(n());(a=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null?void 0:a.addPoint("force_manual_refresh");y(!0);d("WAWebAltDeviceLinkingApi").initializeAltDeviceLinking()});e=d("useWAWebTimeout").useTimeout(function(){var a;d("WALogger").LOG(m());(a=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null?void 0:a.addPoint("code_ttl_expire");B()},3.25*d("WATimeUtils").MINUTE_MILLISECONDS);var E=e[0],F=e[1];r(function(){z||E()},[E,z]);var G=c("useWAWebStableCallback")(function(){D(),F()});r(function(){if(f>t||x){G();if(d("WAWebLinkDeviceScreenGating").linkDeviceScreenRefreshEnabled()){A(!0);return}d("WAWebModalSingleActionOpener").openSingleActionModal({title:h._("__JHASH__4aKY9mN2v0x__JHASH__"),body:h._("__JHASH__xvqSnyYNOVs__JHASH__"),buttonText:h._("__JHASH__W5arSPU7qUE__JHASH__"),onDismiss:function(){return B({resetRefreshCount:!0})},cover:!0,shouldDismissWithoutButtonInteraction:!1})}},[f,x,B,G]);c("useWAWebOnUnmount")(function(){d("WALogger").LOG(l()),G()});e=d("WAWebLinkDeviceScreenGating").linkDeviceScreenRefreshEnabled();i||z?i=q.jsx("div",{className:(j||(j=c("stylex")))(e?v.spinnerNew:v.spinner),children:q.jsx(d("WAWebSpinner.react").Spinner,{})}):b&&d("WAWebLinkDeviceScreenGating").linkDeviceScreenRefreshEnabled()?i=q.jsx(w,{onClick:function(){B({resetRefreshCount:!0})}}):i=q.jsx(d("WAWebLinkDevicePhoneNumberCodeCells.react").LinkDevicePhoneNumberCodeCells,{code:c("WANullthrows")(a.code),"aria-details":u});return q.jsx(d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeView,{codeType:d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeViewCodeType.PHONE_NUMBER_LINK_CODE,testid:void 0,apiCmd:a.apiCmd,title:h._("__JHASH__50_ZuogVJ1A__JHASH__"),subtitle:h._("__JHASH__NglCQvmNCUW__JHASH__",[h._implicitParam("=m2",q.jsx("strong",{dir:"ltr",children:h._("__JHASH__cNiCK8lfiQQ__JHASH__",[h._param("phone-number",d("WAPhoneUtils").formatPhone(a.phoneNumber))])})),h._implicitParam("=m5",q.jsx(c("WAWebClickableLink.react"),{className:"x1n68mz9",onClick:a.onClickEditPhoneNumber,children:h._("__JHASH__r8AmPULLPs-__JHASH__")}))]),alternativeLinkDeviceMethodHint:q.jsx(d("WAWebAlternateDeviceLinkingLink.react").AlternateDeviceLinkingLink,{codeType:d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeViewCodeType.PHONE_NUMBER_LINK_CODE,onClick:a.onClickLinkWithQr}),children:q.jsx("div",{className:(j||(j=c("stylex")))(v.codeContainer,!z&&(e?v.codeNew:v.code)),dir:"ltr","aria-live":"polite","aria-atomic":"true","aria-label":h._("__JHASH__6eGVgqfJ2Uv__JHASH__"),children:i})})}a.displayName=a.name+" [from "+f.id+"]";function w(a){return q.jsx(c("WAWebUnstyledButton.react"),{xstyle:[v.phoneCodeWarning,d("WAWebUISpacing").uiMargin.horizAuto,d("WAWebUISpacing").uiPadding.horiz20],onClick:a.onClick,children:q.jsxs((a=d("WAWebFlex.react")).FlexRow,{children:[q.jsx(a.FlexItem,{align:"center",xstyle:d("WAWebUISpacing").uiMargin.end10,children:q.jsx(d("WAWebRefreshLargeIcon").RefreshLargeIcon,{width:32,height:32,iconXstyle:v.phoneCodeWarningIcon})}),q.jsxs(a.FlexColumn,{align:"start",justify:"start",children:[q.jsx(a.FlexItem,{xstyle:v.errorTitle,children:h._("__JHASH__4aKY9mN2v0x__JHASH__")}),q.jsx(a.FlexItem,{xstyle:v.errorAction,children:h._("__JHASH__GRoucT-er10__JHASH__")})]})]})},"expiry")}w.displayName=w.name+" [from "+f.id+"]";g.LinkWithPhoneNumberCodeScreen=a}),226);
__d("WAWebLinkDevicePhoneNumber.react",["fbt","$InternalEnum","WALogger","WANullthrows","WAWebAltDeviceLinkingApi","WAWebAltDeviceLinkingIq","WAWebLinkDeviceAction","WAWebLinkDeviceEvents","WAWebLinkDevicePhoneNumberCodeScreen.react","WAWebLinkDevicePhoneNumberEntryScreen.react","WAWebModalSingleActionOpener","WAWebNetworkStatus","asyncToGeneratorRuntime","react","useWAWebListener","useWAWebStableCallback"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: Invalid state while linking phone number, phone number was null but tried to display code screen"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: unexpected error happened while starting flow: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: a companion-hello error happened while starting flow: ",""]);m=function(){return a};return a}var n=j||c("react"),o=(i||(i=d("react"))).useState,p=b("$InternalEnum").Mirrored(["STEP1_PHONE_NUMBER_ENTRY","STEP2_DISPLAY_CODE"]);function a(a){var e=o(p.STEP1_PHONE_NUMBER_ENTRY),f=e[0],g=e[1];e=o(null);var i=e[0],j=e[1];e=o(null);var q=e[0],r=e[1];e=o(!1);var s=e[0],t=e[1],u=function(){return d("WAWebModalSingleActionOpener").openSingleActionModal({title:h._("__JHASH__QUpJir4HRxk__JHASH__"),body:h._("__JHASH__tgBcoFJ6Q6P__JHASH__"),onDismiss:function(){g(p.STEP1_PHONE_NUMBER_ENTRY)}})},v=function(){return d("WAWebModalSingleActionOpener").openSingleActionModal({title:h._("__JHASH__zXJT295zSlT__JHASH__"),body:h._("__JHASH__DbQxgkiA0fU__JHASH__"),buttonText:h._("__JHASH__ScAqMdKkbaw__JHASH__"),onDismiss:function(){return a.onClickLinkWithQr()}})},w=function(){return d("WAWebModalSingleActionOpener").openSingleActionModal({title:h._("__JHASH__rch_ch6Ihp1__JHASH__"),body:h._("__JHASH__MLzSe-PR4lG__JHASH__"),onDismiss:function(){return a.onClickLinkWithQr()}})},x=c("useWAWebStableCallback")(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){j(a);t(!1);g(p.STEP2_DISPLAY_CODE);try{if(c("WAWebNetworkStatus").online){a=(yield d("WAWebLinkDeviceAction").genLinkDeviceCodeForPhoneNumber(a,b));r(a)}}catch(c){(b=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null?void 0:b.addPoint("gen_code_exception");yield d("WAWebLinkDeviceAction").resetLinkDeviceState({linkDeviceMethod:d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING});if(c instanceof d("WAWebAltDeviceLinkingIq").CompanionHelloError){d("WALogger").WARN(m(),c);switch((a=c.type)==null?void 0:a.name){case"IQErrorNonSupportedPrimary":g(p.STEP1_PHONE_NUMBER_ENTRY);t(!0);return;case"IQErrorFeatureNotAvailable":g(p.STEP1_PHONE_NUMBER_ENTRY);v();return;case"IQErrorRateOverlimit":g(p.STEP1_PHONE_NUMBER_ENTRY);w();return}}d("WALogger").ERROR(l(),c).sendLogs("alt pairing: unexpected error happened while starting flow");u()}});return function(b,c){return a.apply(this,arguments)}}()),y=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;if(f!==p.STEP2_DISPLAY_CODE||i==null)return;r(null);(a=d("WAWebAltDeviceLinkingApi").getCurrentMarker())==null?void 0:a.addPoint("refresh_code");yield d("WAWebLinkDeviceAction").resetLinkDeviceState({linkDeviceMethod:d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING});yield x(i,!1)});return function(){return a.apply(this,arguments)}}();d("useWAWebListener").useListener(d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents,"link_device_events:refresh_alt_linking_code",y);d("useWAWebListener").useListener(c("WAWebNetworkStatus"),"change:online",function(){c("WAWebNetworkStatus").online?void y():r(null)});d("useWAWebListener").useListener(d("WAWebLinkDeviceEvents").WAWebLinkDeviceEvents,"link_device_events:error_alt_linking",u);i==null&&f!==p.STEP1_PHONE_NUMBER_ENTRY&&(d("WALogger").ERROR(k()).sendLogs("alt pairing: invalid ui state: null phone number in code screen"),g(p.STEP1_PHONE_NUMBER_ENTRY));switch(f){case p.STEP1_PHONE_NUMBER_ENTRY:return n.jsx(d("WAWebLinkDevicePhoneNumberEntryScreen.react").LinkWithPhoneNumberEntryScreen,babelHelpers["extends"]({initialPhoneNumber:i,showUpdatePrimaryAppBanner:s,onSubmitPhoneNumber:function(a){return x(a,!0)}},a));case p.STEP2_DISPLAY_CODE:return n.jsx(d("WAWebLinkDevicePhoneNumberCodeScreen.react").LinkWithPhoneNumberCodeScreen,{code:q,phoneNumber:c("WANullthrows")(i),onClickEditPhoneNumber:b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebLinkDeviceAction").resetLinkDeviceState({linkDeviceMethod:d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING}),g(p.STEP1_PHONE_NUMBER_ENTRY),r(null)}),onClickLinkWithQr:a.onClickLinkWithQr,apiCmd:a.apiCmd})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebLinkDeviceQrcode.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={landing:"_ao39",headline:"_ak20",listItem:"_ak21",text:"_ak22",hint:"_ak23",qr:"_ak24",toggle:"_ak25",qrcode:"_akau",codeLogo:"_akaz",idle:"_akay",qrButton:"_akas",desktopUpsellBanner:"_akaw"};b=a;g["default"]=b}),98);
__d("WAWebLogoutReason.react",["fbt","WAWebActionLinkButterbar.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebFlex.react","WAWebLogoutReason","WAWebLogoutReasonConstants","WAWebText_DONOTUSE.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={paragraph:{lineHeight:"x1u7k74",$$css:!0},wrapper:{display:"x78zum5",flexGrow:"x1iyjqo2",alignItems:"x6s0dn4",minHeight:"x4lt0of",boxSizing:"x9f619",$$css:!0},error:{backgroundColor:"x5v7ovq",color:"x1h1lzrc",$$css:!0},warn:{backgroundColor:"xdvpyhk",color:"x1xoaf84",$$css:!0}},m=function(){return k.jsx("span",{className:"xoo3au","data-testid":void 0,children:k.jsx("svg",{width:"44",height:"44",viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M22.0002 0.314301C10.0422 0.314301 0.314453 10.0421 0.314453 22C0.314453 33.958 10.0422 43.6857 22.0002 43.6857C33.9581 43.6857 43.6859 33.958 43.6859 22C43.6859 10.0421 33.9581 0.314301 22.0002 0.314301ZM30.1502 28.5196L28.5197 30.1501L22.0002 23.6305L15.4806 30.1501L13.8501 28.5196L20.3709 22L13.8501 15.4805L15.4806 13.85L22.0002 20.3695L28.521 13.85L30.1515 15.4805L23.6307 22L30.1502 28.5196Z",fill:"currentColor"})})})},n=function(){return k.jsx("span",{className:"x4hgvu1","data-testid":void 0,children:k.jsx("svg",{width:"44",height:"44",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 46C36.1503 46 46 36.1503 46 24C46 11.8497 36.1503 2 24 2C11.8497 2 2 11.8497 2 24C2 36.1503 11.8497 46 24 46ZM34.6473 31.164L25.2436 14.2344C25.1138 13.9995 24.9312 13.8053 24.7134 13.6705C24.4956 13.5357 24.2499 13.4649 24 13.4649C23.7501 13.4649 23.5044 13.5357 23.2866 13.6705C23.0687 13.8053 22.8861 13.9995 22.7564 14.2344L13.3527 31.164C13.2177 31.4068 13.144 31.6848 13.1392 31.9694C13.1344 32.254 13.1986 32.5349 13.3253 32.783C13.452 33.0312 13.6366 33.2377 13.86 33.3813C14.0834 33.5249 14.3376 33.6004 14.5964 33.6H33.4036C33.6624 33.6004 33.9166 33.5249 34.14 33.3813C34.3634 33.2377 34.548 33.0312 34.6747 32.783C34.8014 32.5349 34.8656 32.254 34.8608 31.9694C34.856 31.6848 34.7823 31.4068 34.6473 31.164ZM25.0909 19.2V26.4H22.9091V19.2H25.0909ZM22.9091 31.2V28.8H25.0909V31.2H22.9091Z",fill:"currentColor"})})})};function o(){var a=k.jsx(d("WAWebFlex.react").FlexColumn,{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiMargin.start16),children:k.jsx(d("WAWebText_DONOTUSE.react").TextParagraph,{size:"16",xstyle:l.paragraph,children:h._("__JHASH__b5A7QgdC8FN__JHASH__")})}),b=d("WAWebLogoutReason").getPrevCustomLogoutMessage();if(b!=null){var e=b.logoutMessageHeader;b=b.logoutMessageSubtext;a=k.jsxs(d("WAWebFlex.react").FlexColumn,{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiMargin.start16),children:[e!=null&&k.jsx(d("WAWebText_DONOTUSE.react").TextHeader,{level:"1",xstyle:d("WAWebUISpacing").uiMargin.bottom5,size:"18",testid:void 0,children:e}),b!=null&&k.jsx(d("WAWebText_DONOTUSE.react").TextParagraph,{testid:void 0,size:"16",children:b})]})}return k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",className:j(l.wrapper,d("WAWebUISpacing").uiMargin.horizAuto,d("WAWebUISpacing").uiMargin.top0,d("WAWebUISpacing").uiMargin.bottom40,d("WAWebUISpacing").uiPadding.all15,l.warn),children:[n(),a]})}o.displayName=o.name+" [from "+f.id+"]";function a(){var a=d("WAWebLogoutReason").getPrevLogoutReasonCode();if(a==null)return null;if(a===d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.ACCOUNT_LOCKED)return k.jsx(o,{});var b=p(a),e=b[0],f=b[1];if(e==null||e==="")return null;b=a===d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.CLIENT_FATAL;a=f!=null?k.jsxs(c("WAWebActionLinkButterbar.react"),{action:function(){d("WAWebExternalLink.react").openExternalLink(f)},children:[" ",h._("__JHASH__1X8_VuO9HeO__JHASH__")]}):null;return k.jsxs("div",{className:(j||(j=c("stylex")))(l.wrapper,d("WAWebUISpacing").uiMargin.horizAuto,d("WAWebUISpacing").uiMargin.top0,d("WAWebUISpacing").uiMargin.bottom40,d("WAWebUISpacing").uiPadding.all15,b?l.error:l.warn),children:[b?m():n(),k.jsxs("div",{className:j(d("WAWebUISpacing").uiMargin.start16),children:[k.jsx("div",{children:e}),a]})]})}a.displayName=a.name+" [from "+f.id+"]";function p(a){var b=null,c=null;switch(a){case d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.CLIENT_FATAL:b=h._("__JHASH__4wX4qvNgSTd__JHASH__").toString();c=d("WAWebFaqUrl").getDBErrorFaqUrl();break;case d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.SYNC_FAIL:b=h._("__JHASH__JfPa9WYB6PJ__JHASH__").toString();c=d("WAWebFaqUrl").getLinkDeviceFaqUrl();break;case d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.INITIAL_HISTORY_SYNC_TIMEOUT:b=h._("__JHASH__K5rJ9qiSPJP__JHASH__").toString();c=d("WAWebFaqUrl").getLinkDeviceFaqUrl();break}return[b,c]}g["default"]=a}),226);
__d("WAWebLogoutReasonBanner.react",["fbt","WAWebFaqUrl","WAWebLoggedOutBanner.react","WAWebLogoutReason","WAWebLogoutReasonConstants","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b;b=(b=d("WAWebLogoutReason").getPrevLogoutReasonCode())!=null?b:a.reason;if(b==null)return null;a=k(b);if(a==null)return null;b=a.header;var e=a.text,f=a.link;a=a.category;return j.jsx(c("WAWebLoggedOutBanner.react"),{header:b,text:e,link:f,category:a})}a.displayName=a.name+" [from "+f.id+"]";function k(a){var b=d("WAWebLogoutReason").getPrevCustomLogoutMessage();switch(a){case d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.CLIENT_FATAL:return{text:h._("__JHASH__4wX4qvNgSTd__JHASH__"),link:d("WAWebFaqUrl").getDBErrorFaqUrl(),category:"error"};case d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.SYNC_FAIL:return{text:h._("__JHASH__JfPa9WYB6PJ__JHASH__"),link:d("WAWebFaqUrl").getLinkDeviceFaqUrl(),category:"warning"};case d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.INITIAL_HISTORY_SYNC_TIMEOUT:return{text:h._("__JHASH__K5rJ9qiSPJP__JHASH__"),link:d("WAWebFaqUrl").getLinkDeviceFaqUrl(),category:"warning"};case d("WAWebLogoutReasonConstants").LOGOUT_REASON_CODE.ACCOUNT_LOCKED:if(b!=null){a=b.logoutMessageHeader;b=b.logoutMessageSubtext;if(a!=null&&b!=null)return{header:a,text:b,category:"warning"}}return{text:h._("__JHASH__b5A7QgdC8FN__JHASH__"),category:"warning"}}return null}g["default"]=a}),226);
__d("WAWebWamQrCodeCount",[],(function(a,b,c,d,e,f){a=function(){function a(){this.$1=!1,this.$2=0}var b=a.prototype;b.get=function(){return this.$2};b.$3=function(){this.$1&&(this.$1=!1,this.$2=0,this.initialDisplayDate=null)};b.inc=function(){this.$3();return this.set(this.$2+1)};b.set=function(a){this.$3();if(this.$2===a)return;a===1&&(this.initialDisplayDate=g());this.$2=a;return this.get()};b.reset=function(){this.$1=!0};return a}();b=new a();function g(){return Math.floor(window.performance.now())}f["default"]=b}),66);
__d("WAWebLinkDeviceQrcode.react",["fbt","Promise","WABase64","WALogger","WAWebAdvSignatureApi","WAWebAlternateDeviceLinkingLink.react","WAWebAutoLogoutGating","WAWebClassnames","WAWebCmd","WAWebCompanionRegClientUtils","WAWebConfirmPopup.react","WAWebConnModel","WAWebConnectionIcon","WAWebCopyPasteSelectable.react","WAWebFlex.react","WAWebFrontendConstants","WAWebLinkDeviceAutoLogoutToggle.react","WAWebLinkDeviceCodeView.react","WAWebLinkDeviceQrcode.scss","WAWebLinkDeviceScreenGating","WAWebLogoutReason.react","WAWebLogoutReasonBanner.react","WAWebModalManager","WAWebNetworkStatus","WAWebQRCode.react","WAWebRefreshLargeIcon","WAWebSignalStoreApi","WAWebSocketConstants","WAWebSocketModel","WAWebSpinner.react","WAWebUISpacing","WAWebUnstyledButton.react","WAWebUserPrefsInfoStore","WAWebVelocityTransitionGroup","WAWebWamQrCodeCount","asyncToGeneratorRuntime","cr:6167","gkx","justknobx","react","stylex","useWAWebDebouncedCallback","useWAWebListener","useWAWebRenderCallbacks"],(function(a,b,c,d,e,f,g,h){var i,j,k,l;function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]);m=function(){return a};return a}e=l||d("react");var n=k||(k=c("react")),o=e.useCallback,p=e.useRef,q=e.useState,r="https://faq.whatsapp.com/r/ld",s={qrButtonIcon:{flex:"x1okw0bk",color:"xfppfks",$$css:!0},qrCodeWarning:{backgroundColor:"x1l6jbk0",color:"xbkck4w",position:"x10l6tqk",top:"x13vifvy",start:"x17qophe",end:"xds687c",left:null,right:null,bottom:"x1ey2m1c",borderTopStartRadius:"x1ykpwxx",borderTopEndRadius:"x118zf8b",borderBottomEndRadius:"xnwxkdh",borderBottomStartRadius:"xfocsrx",zIndex:"x11uqc5h",height:"x1m3v4wt",width:"x1oysuqx",$$css:!0},qrCodeOfflineWarning:{cursor:"x1w9wu52",$$css:!0},qrCodeWarningIcon:{color:"xbkck4w",$$css:!0},qrSpinner:{backgroundColor:"x1ndca9r",width:"xh8yej3",height:"x5yr21d",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",$$css:!0}};function a(a){var b=a.apiCmd,e=a.autoLogoutEnabled;a.children;var f=a.enabedAlternateDeviceLinking,g=a.onAutoLogoutToggle;a=a.onClickLinkWithPhoneNumber;var i=q(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED_IDLE),j=i[0],k=i[1];i=q(!c("WAWebNetworkStatus").online);var l=i[0],m=i[1];i=q(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED);var o=i[0],p=i[1];i=function(){g&&void g()};var r=function(){k(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED_IDLE),m(!c("WAWebNetworkStatus").online),p(d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED),d("WAWebAutoLogoutGating").isAutoLogoutEnabled()&&d("WAWebAutoLogoutGating").isRunningInAutoLgoutIframe()&&d("WAWebSocketModel").Socket.state===d("WAWebSocketConstants").SOCKET_STATE.UNPAIRED&&self.parent.postMessage("QR_CODE_LOADED_FOR_AUTO_LOGOUT")};d("useWAWebListener").useListener(d("WAWebSocketModel").Socket,"change:state change:online",r);l?r=n.jsx(v,{}):j?r=n.jsx(w,{}):o?r=n.jsx(t,{}):r=n.jsx(u,{});e&&!d("WAWebAutoLogoutGating").isRunningInAutoLgoutIframe()&&(r=n.jsx(u,{}));l=null;d("WAWebAutoLogoutGating").isAutoLogoutEnabled()&&(l=n.jsx(d("WAWebLinkDeviceAutoLogoutToggle.react").LinkDeviceAutoLogoutToggle,{autoLogoutEnabled:e,onAutoLogoutToggle:i}));j=d("WAWebLinkDeviceScreenGating").linkDeviceScreenRefreshEnabled();return n.jsxs(d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeView,{codeType:d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeViewCodeType.QR,apiCmd:b,banners:j?n.jsx(c("WAWebLogoutReasonBanner.react"),{}):n.jsx(c("WAWebLogoutReason.react"),{}),title:j?h._("__JHASH__WJOODex4B-6__JHASH__"):h._("__JHASH__jktImbB3n4-__JHASH__"),subtitle:j?h._("__JHASH__WPKXeg2McUH__JHASH__"):null,screenReaderSubtitleConfig:{onClick:a,shouldShow:f,text:h._("__JHASH__BKDJEU1W7F9__JHASH__")},alternativeLinkDeviceMethodHint:n.jsx(d("WAWebAlternateDeviceLinkingLink.react").AlternateDeviceLinkingLink,{codeType:d("WAWebLinkDeviceCodeView.react").LinkDeviceCodeViewCodeType.QR,onClick:a,enabled:f}),children:[r,l]})}a.displayName=a.name+" [from "+f.id+"]";function t(a){var e;a=a.children;var f=a,g=p();a=q(!1);var h=a[0],j=a[1];a=q(null);var k=a[0],l=a[1],s=c("useWAWebDebouncedCallback")(function(){j(!0)},100),t=function(){if(d("WAWebConnModel").Conn.connected)return(i||(i=b("Promise"))).resolve(void 0);var a=d("WAWebConnModel").Conn.ref;return d("WAWebSignalStoreApi").waSignalStore.getRegistrationInfo().then(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e=(yield d("WAWebUserPrefsInfoStore").waNoiseInfo.get());if(!e||!e.staticKeyPair||!b){d("WALogger").ERROR(m()).sendLogs("Empty noiseInfo or empty regInfo");return null}e=d("WABase64").encodeB64(e.staticKeyPair.pubKey);b=d("WABase64").encodeB64(b.identityKeyPair.pubKey);var f=(yield d("WAWebAdvSignatureApi").getADVSecretKey());e=a+","+e+","+b+","+f+","+d("WAWebCompanionRegClientUtils").DEVICE_PLATFORM;c("justknobx")._("770")&&(e+=","+r);return e});return function(a){return e.apply(this,arguments)}}())},v=o(function(){void t().then(function(a){if(a==null||a==="")return;b("cr:6167")==null?void 0:b("cr:6167").setQRCode(a);l(a);c("WAWebWamQrCodeCount").inc()})},[l]);a=o(function(a){k!=null&&a!=null&&a.removeAttribute("title")},[k]);d("useWAWebListener").useListener(d("WAWebConnModel").Conn,"change:ref",v);c("useWAWebRenderCallbacks")({onMount:function(){void v(),d("WAWebCmd").Cmd.initialLoadReady()},onUnmount:function(){c("WAWebWamQrCodeCount").reset()}});var w=function(){var a=window.getSelection(),b=g.current;b&&(a==null?void 0:a.selectAllChildren(b),document.execCommand("copy"));d("WAWebModalManager").ModalManager.close()},y=function(){h&&j(!1),s()},z=function(a){s.cancel(),j(!1)},A=function(a){a.stopPropagation(),a.preventDefault(),void t().then(function(a){d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:w,okText:"Copy to Clipboard",children:n.jsx(d("WAWebCopyPasteSelectable.react").SelectableSpan,{ref:g,className:"x1mzt3pk x1hx0egp",selectable:!0,children:a})}))})},B=d("WAWebClassnames").classnamesConvertMeToStylexPlease((e={},e[c("WAWebLinkDeviceQrcode.scss").qrcode]=!0,e[c("WAWebLinkDeviceQrcode.scss").idle]=!!f,e),"x1n2onr6 x78zum5 x1okw0bk x6s0dn4 xl56j7k x1tdqgrh x1l76qip x6ikm8r x10wlt62 xm3z3ea x1x8b98j x131883w x16mih1h"),C=h&&f==null?{cursor:"none"}:null,D=null;c("gkx")("26258")||(D=A);return k==null?n.jsx(u,{}):n.jsx(d("WAWebQRCode.react").WAWebQRCode,{data:k,size:d("WAWebFrontendConstants").QR_EDGE,colorDark:"#122e31",onChange:a,children:function(a){return n.jsxs("div",{ref:a,"data-testid":void 0,className:B,"data-ref":k,onContextMenu:D,style:C,onMouseMove:y,onMouseLeave:z,children:[n.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"scale",children:f}),n.jsx("div",{className:c("WAWebLinkDeviceQrcode.scss").codeLogo,children:n.jsx(x,{})})]})}})}t.displayName=t.name+" [from "+f.id+"]";function u(){var a;return n.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((a={},a[c("WAWebLinkDeviceQrcode.scss").qrcode]=!0,a),"x1n2onr6 x78zum5 x1okw0bk x6s0dn4 xl56j7k x1tdqgrh x1l76qip x6ikm8r x10wlt62 xm3z3ea x1x8b98j x131883w x16mih1h"),children:n.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",className:(j||(j=c("stylex")))(d("WAWebLinkDeviceScreenGating").linkDeviceScreenRefreshEnabled()&&s.qrSpinner),children:n.jsx(d("WAWebSpinner.react").Spinner,{})})})}u.displayName=u.name+" [from "+f.id+"]";function v(){return d("WAWebLinkDeviceScreenGating").linkDeviceScreenRefreshEnabled()?n.jsx(t,{children:n.jsx(c("WAWebUnstyledButton.react"),{xstyle:[s.qrCodeWarning,s.qrCodeOfflineWarning,d("WAWebUISpacing").uiMargin.allAuto,d("WAWebUISpacing").uiPadding.horiz30],children:n.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",justify:"center",children:[n.jsx(d("WAWebFlex.react").FlexItem,{xstyle:d("WAWebUISpacing").uiMargin.bottom10,children:n.jsx(d("WAWebConnectionIcon").ConnectionIcon,{width:48,height:48,iconXstyle:s.qrCodeWarningIcon})}),n.jsx(d("WAWebFlex.react").FlexItem,{justify:"center",align:"center",children:h._("__JHASH__OnvUeCP02Rm__JHASH__")})]})},"offline")}):n.jsx(t,{children:n.jsxs("div",{className:c("WAWebLinkDeviceQrcode.scss").qrButton,children:[n.jsx("div",{className:(j||(j=c("stylex")))([s.qrButtonIcon,d("WAWebUISpacing").uiMargin.top5,d("WAWebUISpacing").uiMargin.bottom15,d("WAWebUISpacing").uiMargin.horiz0]),children:n.jsx(d("WAWebConnectionIcon").ConnectionIcon,{})}),h._("__JHASH__OnvUeCP02Rm__JHASH__")]},"expiry")})}v.displayName=v.name+" [from "+f.id+"]";function w(){var a=function(){d("WAWebCmd").Cmd.refreshQR()};return d("WAWebLinkDeviceScreenGating").linkDeviceScreenRefreshEnabled()?n.jsx(t,{children:n.jsx(c("WAWebUnstyledButton.react"),{xstyle:[s.qrCodeWarning,d("WAWebUISpacing").uiMargin.allAuto,d("WAWebUISpacing").uiPadding.horiz30],onClick:a,children:n.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",justify:"center",children:[n.jsx(d("WAWebFlex.react").FlexItem,{xstyle:d("WAWebUISpacing").uiMargin.bottom10,children:n.jsx(d("WAWebRefreshLargeIcon").RefreshLargeIcon,{iconXstyle:s.qrCodeWarningIcon})}),n.jsx(d("WAWebFlex.react").FlexItem,{children:h._("__JHASH__E4wdB2IInzG__JHASH__")})]})},"expiry")}):n.jsx(t,{children:n.jsxs("button",{className:c("WAWebLinkDeviceQrcode.scss").qrButton,onClick:a,children:[n.jsx("div",{className:"x1okw0bk xfppfks",children:n.jsx(d("WAWebRefreshLargeIcon").RefreshLargeIcon,{})}),h._("__JHASH__E4wdB2IInzG__JHASH__")]},"expiry")})}w.displayName=w.name+" [from "+f.id+"]";function x(){var a="#123033";return n.jsx("span",{className:"x1rg5ohu x16dsc37",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 64 64",children:[n.jsx("path",{fill:"#FFF",d:"M6.525 43.936a29.596 29.596 0 0 1-3.039-13.075C3.494 14.568 16.755 1.313 33.05 1.313c7.904.004 15.328 3.082 20.91 8.666 5.581 5.586 8.653 13.01 8.65 20.907-.007 16.294-13.266 29.549-29.558 29.549a29.648 29.648 0 0 1-12.508-2.771L1.391 62.687l5.134-18.751z"}),n.jsx("path",{fill:a,d:"M50.801 13.135c-4.739-4.742-11.039-7.354-17.752-7.357-13.837 0-25.094 11.253-25.099 25.085a25.039 25.039 0 0 0 3.349 12.541l-3.56 12.999 13.304-3.488a25.084 25.084 0 0 0 11.996 3.054h.011c13.83 0 25.088-11.256 25.095-25.087.002-6.703-2.607-13.005-7.344-17.747zM33.05 51.733h-.008a20.866 20.866 0 0 1-10.62-2.906l-.762-.452-7.894 2.07 2.108-7.694-.497-.789a20.802 20.802 0 0 1-3.189-11.097c.004-11.496 9.361-20.85 20.87-20.85a20.73 20.73 0 0 1 14.746 6.115 20.733 20.733 0 0 1 6.104 14.752c-.006 11.497-9.363 20.851-20.858 20.851z"}),n.jsx("path",{fill:a,d:"M25.429 19.26a8.65 8.65 0 0 0-1.028.011 2.352 2.352 0 0 0-.95.255c-.221.114-.427.277-.75.582-.305.288-.481.54-.668.782a6.974 6.974 0 0 0-1.443 4.291l.001.003a8.243 8.243 0 0 0 .844 3.607c1.043 2.307 2.763 4.746 5.035 7.008a24.676 24.676 0 0 0 1.657 1.6 24.145 24.145 0 0 0 9.814 5.229s.751.179 1.391.218c.021.001.04.003.061.003a9.207 9.207 0 0 0 1.422-.033 5.086 5.086 0 0 0 2.129-.59c.423-.225.623-.337.978-.561 0 0 .11-.072.319-.23.345-.257.558-.438.845-.736.211-.22.394-.479.534-.772.2-.417.401-1.213.481-1.874.061-.505.042-.781.036-.952-.011-.275-.238-.558-.487-.678l-1.486-.668s-2.222-.967-3.581-1.587a1.278 1.278 0 0 0-.452-.104c-.341-.021-.723.068-.966.324v-.004c-.013-.001-.182.145-2.031 2.385-.102.122-.341.387-.754.362a1.086 1.086 0 0 1-.185-.029 3.402 3.402 0 0 1-.49-.17c-.316-.134-.427-.185-.643-.278l-.013-.006a15.361 15.361 0 0 1-4.013-2.556 15.88 15.88 0 0 1-.927-.885c-1.074-1.041-1.953-2.148-2.607-3.24-.035-.06-.09-.146-.15-.242-.107-.174-.225-.381-.262-.523-.095-.376.157-.678.157-.678s.622-.68.911-1.05c.278-.356.518-.704.671-.952.301-.484.39-.982.238-1.37a216.767 216.767 0 0 0-2.219-5.215c-.156-.339-.598-.589-1.005-.636a6.284 6.284 0 0 0-.414-.041"})]})})}x.displayName=x.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebLinkDeviceMethod.react",["WAWebAltDeviceLinkingApi","WAWebAutoLogoutGating","WAWebConnModel","WAWebLinkDeviceAction","WAWebLinkDevicePhoneNumber.react","WAWebLinkDeviceQrcode.react","WAWebUA","asyncToGeneratorRuntime","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState;function a(a){var e=a.apiCmd,f=a.autoLogoutEnabled;a=a.onAutoLogoutToggle;var g=d("WAWebUA").UA.isOculusBroswer,h=k(g),i=h[0],l=h[1];h=k(g);var m=h[0],n=h[1],o=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("WAWebLinkDeviceAction").resetLinkDeviceState({linkDeviceMethod:a?d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING:d("WAWebAltDeviceLinkingApi").PairingType.QR_CODE}),n(a)});return function(b){return a.apply(this,arguments)}}();g=k(null);h=g[0];var p=g[1];d("useWAWebListener").useListener(d("WAWebConnModel").Conn,"change:ref",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(i&&m){void d("WAWebLinkDeviceAction").resetLinkDeviceState({linkDeviceMethod:d("WAWebAltDeviceLinkingApi").PairingType.ALT_DEVICE_LINKING}).then(function(){return l(!1)});return}var a=(yield d("WAWebLinkDeviceAction").getPreselectedCountryCodeIso());p(a)}),{once:!0});if(m)return j.jsx(c("WAWebLinkDevicePhoneNumber.react"),{apiCmd:e,initialCountryId:h,isLinkingPageLoading:i,onClickLinkWithQr:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a==null?void 0:a.preventDefault(),a==null?void 0:a.stopPropagation(),yield o(!1)});return function(b){return a.apply(this,arguments)}}()});g=!f||d("WAWebAutoLogoutGating").isRunningInAutoLgoutIframe();return j.jsx(c("WAWebLinkDeviceQrcode.react"),{apiCmd:e,enabedAlternateDeviceLinking:g,onAutoLogoutToggle:a,autoLogoutEnabled:f,onClickLinkWithPhoneNumber:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a==null?void 0:a.preventDefault(),a==null?void 0:a.stopPropagation(),yield o(!0)});return function(b){return a.apply(this,arguments)}}()})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebLinkDeviceQrVideo.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={video:"_ak5k",tutorialHeadline:"_ak5l",videoContainer:"_ak5n",hint:"_ak5m",container:"_ak5o",player:"_ak5i",poster:"_ak5g",hidden:"_ak5h",overlay:"_ak5f",button:"_ak5j",play:"_ak5p"};b=a;g["default"]=b}),98);
__d("WAWebLinkDeviceQrVideo.react",["fbt","$InternalEnum","WAWebAssetLoaderDpiChangeDispatch","WAWebClassnames","WAWebExternalLink.react","WAWebFaqUrl","WAWebImg.react","WAWebLinkDeviceQrVideo.scss","WAWebRefreshLargeIcon","WAWebSpinner.react","WAWebUnstyledButton.react","WAWebVelocityTransitionGroup","bx","react","useWAWebDevicePixelRatio"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useRef,m=e.useState,n={low:c("bx").getURL(c("bx")("9566")),high:c("bx").getURL(c("bx")("9565"))},o={low:c("bx").getURL(c("bx")("9558")),high:c("bx").getURL(c("bx")("9557"))},p=b("$InternalEnum").Mirrored(["FIRST_OPEN","READY","LOADING","FIRST_PLAY","ENDED","REPLAY"]);function a(){var a=l(null),b=m(p.FIRST_OPEN),e=b[0],f=b[1];c("useWAWebDevicePixelRatio")();b=function(){f(p.READY)};var g=function(a){f(p.LOADING),a.stopPropagation(),a.preventDefault()},i=function(){e===p.LOADING&&f(p.FIRST_PLAY)},j=function(){f(p.ENDED)},r=function(){f(p.REPLAY);var b=a.current;b&&b.play()},s,t;e===p.FIRST_OPEN&&(s=k.jsx("div",{className:c("WAWebLinkDeviceQrVideo.scss").overlay,children:k.jsx(d("WAWebSpinner.react").Spinner,{size:32})}),t=b);b=e===p.FIRST_OPEN||e===p.READY||e===p.LOADING?k.jsx(c("WAWebImg.react"),{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((b={},b[c("WAWebLinkDeviceQrVideo.scss").hidden]=e===p.FIRST_OPEN,b[c("WAWebLinkDeviceQrVideo.scss").poster]=!0,b)),src:o[c("WAWebAssetLoaderDpiChangeDispatch").currentRes],onLoad:t},"poster"):null;var u,v,w=n[c("WAWebAssetLoaderDpiChangeDispatch").currentRes];i=e!==p.FIRST_OPEN&&e!==p.READY?k.jsx("video",{autoPlay:!0,className:c("WAWebLinkDeviceQrVideo.scss").player,controls:!0,controlsList:"nodownload",onCanPlayThrough:i,onEnded:j,ref:a,children:k.jsx("source",{src:w,type:"video/mp4"})},c("WAWebAssetLoaderDpiChangeDispatch").currentRes):null;switch(e){case p.READY:v=g;u=k.jsx(q,{});break;case p.LOADING:u=k.jsx(d("WAWebSpinner.react").Spinner,{color:"white",size:32});break;case p.ENDED:v=r;u=k.jsx(d("WAWebRefreshLargeIcon").RefreshLargeIcon,{});break;default:u=null,v=null}j=u?k.jsx(c("WAWebUnstyledButton.react"),{className_DONOTUSE:c("WAWebLinkDeviceQrVideo.scss").overlay,"aria-label":h._("__JHASH__q6NS7843evc__JHASH__"),onClick:v,children:k.jsx("div",{className:c("WAWebLinkDeviceQrVideo.scss").button,children:u})}):null;return k.jsxs("div",{className:c("WAWebLinkDeviceQrVideo.scss").video,children:[k.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease("landing-title",c("WAWebLinkDeviceQrVideo.scss").tutorialHeadline),children:h._("__JHASH__udmxAySQquL__JHASH__")}),k.jsx("div",{className:c("WAWebLinkDeviceQrVideo.scss").hint,children:k.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getLoginFaqUrl(),children:h._("__JHASH__ytLgja5uJGV__JHASH__")})}),k.jsx("div",{className:c("WAWebLinkDeviceQrVideo.scss").videoContainer,children:k.jsxs("div",{className:c("WAWebLinkDeviceQrVideo.scss").container,children:[k.jsxs(c("WAWebVelocityTransitionGroup"),{transitionName:"fade",children:[s,j,b]}),i]})})]})}a.displayName=a.name+" [from "+f.id+"]";var q=function(){return k.jsx("div",{className:c("WAWebLinkDeviceQrVideo.scss").play,children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"34",viewBox:"0 0 28 34",children:k.jsx("path",{fill:"#FFF",d:"M1 4.983v24.034a2.982 2.982 0 0 0 4.564 2.53L24.792 19.53a2.981 2.981 0 0 0 0-5.058L5.563 2.454A2.983 2.983 0 0 0 1 4.983z"})})})};g["default"]=a}),226);
__d("useWAWebLinkDeviceAutoLogout",["WAWebAutoLogoutGating","WAWebCmd","WAWebConfirmPopup.react","WAWebModalManager","gkx","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useCallback,l=b.useState;function a(){var a=l(function(){return d("WAWebAutoLogoutGating").isAutoLogoutEnabled()&&d("WAWebAutoLogoutGating").isRunningInAutoLgoutIframe()?!0:!1}),b=a[0],e=a[1];a=l(!1);var f=a[0],g=a[1];a=k(function(){if(!d("WAWebAutoLogoutGating").isAutoLogoutEnabled())return;if(c("gkx")("26259")){d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:"Auto logout is not supported in intern. Please use the prod or debug app."}));return}b&&d("WAWebAutoLogoutGating").isRunningInAutoLgoutIframe()&&self.parent.postMessage("AUTO_LOGOUT_DISABLED");var a=!b;e(a);a||d("WAWebCmd").Cmd.refreshQR()},[b]);var h=function(a){if(!d("WAWebAutoLogoutGating").isAutoLogoutEnabled()&&d("WAWebAutoLogoutGating").isRunningInAutoLgoutIframe())return;switch(a.data){case"QR_CODE_LOADED_FOR_AUTO_LOGOUT":g(!0);break;case"AUTO_LOGOUT_DISABLED":g(!1),e(!1),d("WAWebCmd").Cmd.refreshQR()}};d("useWAWebListener").useListener(d("WAWebAutoLogoutGating").isAutoLogoutEnabled()?window:null,"message",h);return[b,f,a]}g["default"]=a}),98);
__d("WAWebLinkDeviceScreen.react",["WAWebAutoLogoutGating","WAWebEnvironment","WAWebFlex.react","WAWebLandingFooter.react","WAWebLandingHeader.react","WAWebLinkDeviceAutoLogoutIFrame.react","WAWebLinkDeviceExperience","WAWebLinkDeviceMethod.react","WAWebLinkDeviceQrVideo.react","WAWebLinkDeviceScreenGating","WAWebPageLoadLogging","WAWebThemeContext","react","useWAWebLinkDeviceAutoLogout"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useEffect,l={wrapper:{background:"xe4h88v",height:"x1dr59a3",minHeight:"xp22266",overflowX:"xw2csxc",overflowY:"x1odjw0f",paddingTop:"xyinxu5",paddingEnd:"xbxaen2",paddingBottom:"x1g2khh7",paddingStart:"x1u72gb5",minWidth:"xp9ttsr",alignItems:"x6s0dn4",boxSizing:"x9f619","@media screen and (max-width: 980px)_minHeight":"xcnrxux","-webkit-font-smoothing":"xvmahel",fontFamily:"xdounpk",$$css:!0},headerFooterContainer:{width:"xh8yej3",height:"xwzfr38",$$css:!0}};function a(a){var b=d("WAWebLinkDeviceScreenGating").linkDeviceScreenRefreshEnabled();d("WAWebThemeContext").useForceLightTheme();k(function(){d("WAWebPageLoadLogging").endPageLoadQpl(!0,d("WAWebLinkDeviceExperience").getWebCompanionLinkDeviceExperienceId())});var e=c("useWAWebLinkDeviceAutoLogout")(),f=e[0],g=e[1];e=e[2];var h=d("WAWebAutoLogoutGating").isRunningInAutoLgoutIframe()||f,i=!d("WAWebAutoLogoutGating").isRunningInAutoLgoutIframe()&&g;f=j.jsx(c("WAWebLinkDeviceAutoLogoutIFrame.react"),{autoLogoutEnabled:f,visible:g});var m;c("WAWebEnvironment").isWeb&&!b&&(m=j.jsx(c("WAWebLinkDeviceQrVideo.react"),{}));e=babelHelpers["extends"]({onAutoLogoutToggle:e,autoLogoutEnabled:h},a);if(b)return i?j.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:l.wrapper,children:f}):j.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:l.wrapper,children:[f,j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:l.headerFooterContainer,children:j.jsx(c("WAWebLandingHeader.react"),{surface:"link-device-screen"})}),j.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",justify:"center",grow:1,children:[j.jsx("div",{className:"x1lliihq",children:j.jsx(d("WAWebFlex.react").FlexItem,{align:"center",justify:"center",className:"x1lxuw3u x1ow4hk9 x18m3596 xefzj8c x120dzms xp8fpb xjcfk4l x10zrdz0 xp22k0r x178xt8z xm81vs4 xso031l xy80clv x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi xpypsur xvi2zh2 x249io5 x1es969t x12peec7 xui2vq6",children:j.jsx(c("WAWebLinkDeviceMethod.react"),babelHelpers["extends"]({},e))})}),j.jsx(d("WAWebFlex.react").FlexItem,{children:j.jsx(c("WAWebLandingFooter.react"),{})})]}),j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:l.headerFooterContainer})]});return i?j.jsx("div",{className:"landing-wrapper",children:f}):j.jsxs("div",{className:"landing-wrapper",children:[f,j.jsx("div",{className:"landing-wrapper-before"}),j.jsx(c("WAWebLandingHeader.react"),{}),!g&&j.jsxs("div",{className:"landing-window",children:[j.jsx("div",{className:"landing-main",children:j.jsx(c("WAWebLinkDeviceMethod.react"),babelHelpers["extends"]({},e))}),m]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMemoryInfoBridgeApi",["WAWebChatCollection","WAWebContactCollection","WAWebMsgCollection"],(function(a,b,c,d,e,f,g){a={getCollectionSizes:function(){return{chat:d("WAWebChatCollection").ChatCollection.length,contact:d("WAWebContactCollection").ContactCollection.length,message:d("WAWebMsgCollection").MsgCollection.length}}};g.MemoryInfoBridgeApi=a}),98);
__d("WAWebMessageGroupedSticker.react",["fbt","WALogger","WAWebCmd","WAWebComposeBoxActions","WAWebCopyStickerToClipboard","WAWebCopyToClipboard","WAWebDevOnlyBadge.react","WAWebDropdown.react","WAWebDropdownItem.react","WAWebFavoriteStickerAction","WAWebFindChatAction","WAWebFlex.react","WAWebFlexItem.react","WAWebFocusTracer","WAWebFrontendMsgGetters","WAWebInMemoryLottieStickerCache","WAWebMediaInMemoryBlobCache","WAWebMessageMenu.react","WAWebMessagePosition","WAWebMessageStickerBubble.react","WAWebMiscGatingUtils","WAWebMsgActionCapability","WAWebMsgGetters","WAWebMsgReply","WAWebReactIcon","WAWebReactionsPanel.react","WAWebReactionsUtils","WAWebReplyToMsgChatAction","WAWebRequestMediaReuploadBridge","WAWebRevokeMetricUtils","WAWebRound.react","WAWebSendReactionMsgAction","WAWebSendReactionsTray.react","WAWebSendReactionsTrayContainer.react","WAWebStateUtils","WAWebStickerUtils","WAWebUimUie.react","WAWebUimUieMenu.react","WAWebVelocityTransitionGroup","WAWebWrapperListeners.react","gkx","react","useWAWebDebouncedCallback","useWAWebMsgValues","useWAWebStableCallback"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendReactionMsg: error sending from sticker row ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["sendReactionMsg: error ",""]);l=function(){return a};return a}b=j||d("react");var m=i||(i=c("react")),n=b.useEffect,o=b.useImperativeHandle,p=b.useRef,q=b.useState,r={entryPointColor:{color:"x1odib58",$$css:!0}},s={REACTION_BUTTON:75};e=m.forwardRef(a);function a(a,b){var e=babelHelpers["extends"]({},a),f=e.msg;a=e.menuTransition;var g=e.onOpenForwardFlow,i=e.onOpenDeleteFlow,j=e.rowIsKeyboardFocused,t=j===void 0?!1:j,u=e.onModalClosed,v=p(null),w=p();j=q(null);var x=j[0],y=j[1];j=q(!1);var z=j[0],A=j[1];j=q(null);var B=j[0],C=j[1];j=q(null);var D=j[0],E=j[1];j=q(!1);var F=j[0];j=j[1];var G=p(null),H=d("useWAWebMsgValues").useMsgValues(f.id,[d("WAWebFrontendMsgGetters").getAsRevoked]);H=H[0];H&&d("WAWebCmd").Cmd.refreshMessages();var I=function(a){G.current&&c("WAWebFocusTracer").focus(G.current,a)},J=c("useWAWebStableCallback")(function(){I({preventScroll:!0})}),K=c("useWAWebDebouncedCallback")(j,s.REACTION_BUTTON);n(function(){K(z||B!=null||t)},[z,B,K,t]);var L=function(a){A(!0)},M=function(){A(!1)};H=function(){K(z||B!=null||t)};var N=function(){if(!v.current)return;return v.current.getContext()},O=function(){d("WAWebCmd").Cmd.msgInfoDrawer(d("WAWebStateUtils").unproxy(f.unsafe()))},P=function(){var a=d("WAWebStateUtils").unproxy(f.unsafe()),b=d("WAWebFrontendMsgGetters").getChat(a);b.composeQuotedMsg=a;d("WAWebComposeBoxActions").ComposeBoxActions.focus(b)},Q=function(){var a=d("WAWebStateUtils").unproxy(f.unsafe());c("WAWebReplyToMsgChatAction")(a)},R=function(){var a=d("WAWebStateUtils").unproxy(f.unsafe());d("WAWebCmd").Cmd.sendStarMsgs(d("WAWebFrontendMsgGetters").getChat(a),[a])},aa=function(){var a=d("WAWebStateUtils").unproxy(f.unsafe());d("WAWebCmd").Cmd.sendUnstarMsgs(d("WAWebFrontendMsgGetters").getChat(a),[a])},ba=function(){d("WAWebFavoriteStickerAction").addStickerMsgsToFavorites([d("WAWebStateUtils").unproxy(f.unsafe())])},ca=function(){d("WAWebFavoriteStickerAction").removeStickerMsgFromFavorites(d("WAWebStateUtils").unproxy(f.unsafe()))},da=function(){i(!0,f.unsafe()),d("WAWebRevokeMetricUtils").UiRevokeActionHelper.startSession(),d("WAWebRevokeMetricUtils").UiRevokeActionHelper.messageSelected()},ea=function(){d("WAWebFindChatAction").findOrCreateLatestChat(f.author,"messageGroupedSticker").then(function(a){d("WAWebCmd").Cmd.openChatFromUnread(a).then(function(b){b&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(a)})})},S=function(){u==null?void 0:u(),C(null),J()},T=function(){u==null?void 0:u(),E(null),J()},fa=c("useWAWebStableCallback")(function(a){if(!d("WAWebReactionsUtils").canReactToMessage(a))return;var b=function(b){d("WAWebSendReactionMsgAction").sendReactionToMsg(a,b)["catch"](function(a){d("WALogger").DEV(l(),a)}),T()};E({dirY:d("WAWebDropdown.react").DirY.BOTTOM,dirX:d("WAWebMsgGetters").getIsSentByMe(a)?d("WAWebDropdown.react").DirX.LEFT:d("WAWebDropdown.react").DirX.RIGHT,type:d("WAWebDropdown.react").MenuType.ReactionPicker,menu:m.jsx(d("WAWebReactionsPanel.react").ReactionsPanel,{msgId:a.id.toString(),onSelection:b}),flipOnRTL:!0,anchor:w.current})}),U=function(a){if(!d("WAWebReactionsUtils").canReactToMessage(a))return;var b=function(b){b!==d("WAWebSendReactionsTray.react").MORE_REACTIONS?d("WAWebSendReactionMsgAction").sendReactionToMsg(a,b)["catch"](function(a){d("WALogger").DEV(k(),a)}):self.setTimeout(function(){fa(a)},150),S()};b={dirY:d("WAWebDropdown.react").DirY.TOP,dirX:d("WAWebDropdown.react").DirX.CENTER,type:d("WAWebDropdown.react").MenuType.ReactionSendTray,menu:m.jsx(d("WAWebSendReactionsTrayContainer.react").SendReactionsTrayContainer,{msg:f.unsafe(),selectedCallback:b,onMouseEnter:L,onMouseOver:L,onMouseLeave:M}),flipOnRTL:!1,anchor:w.current};C(b)},ga=function(b,e){if(e&&x){y(null);return}e=e?N():b;b=d("WAWebStateUtils").unproxy(f);var a=[];d("WAWebMsgGetters").getIsSentByMe(b)&&!d("WAWebFrontendMsgGetters").getAsRevoked(b)&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:O,children:h._("__JHASH__6ZxqC6H3okB__JHASH__")},"info"));d("WAWebMsgReply").canReplyMsg(b.unsafe())&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:P,children:h._("__JHASH__9qwPCOZrFoa__JHASH__")},"reply"));(d("WAWebMsgReply").canPrivateReply(b.unsafe())||d("WAWebMsgReply").canPrivateReplyInRestrictedGrp(b.unsafe()))&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:Q,children:h._("__JHASH__dS67_Denh_O__JHASH__")},"private_reply"));d("WAWebReactionsUtils").canReactToMessage(f.unsafe())&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){U(f.unsafe())},children:h._("__JHASH__AxiUt4Efrtn__JHASH__")},"sendReaction"));d("WAWebMsgActionCapability").canForwardMsg(b.unsafe())&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){g(!0,f.unsafe())},children:h._("__JHASH__jYHCjlR6HcL__JHASH__",[h._plural(1)])},"forward"));d("WAWebMsgActionCapability").canStarMsg(b.unsafe())&&(b.star?a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:aa,children:h._("__JHASH__X3QIRH8IFsq__JHASH__",[h._plural(1)])},"star")):a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:R,children:h._("__JHASH__TWFJFniUvZ8__JHASH__",[h._plural(1)])},"star")));d("WAWebMiscGatingUtils").isFavoriteStickersEnabled()&&(d("WAWebFavoriteStickerAction").isStickerFilehashFavorited(f.filehash)?a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:ca,children:h._("__JHASH__10aUrzJv-aW__JHASH__")},"remove-favorite-sticker")):a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:ba,children:h._("__JHASH__H-tHYVLT5WO__JHASH__")},"favorite-sticker")));b=f.mediaData;var i=b.stickerPackId;b=b.isFirstParty;i&&b===!0&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.openStickerPack(i)},children:h._("__JHASH__Hd-aIQawmmJ__JHASH__")},"open-sticker-pack"));var j=d("WAWebMediaInMemoryBlobCache").InMemoryMediaBlobCache.get(f.filehash);if(d("WAWebStickerUtils").getStickerFileType(f.mediaData.mimetype)===d("WAWebStickerUtils").StickerFileType.LOTTIE){var k=d("WAWebInMemoryLottieStickerCache").InMemoryLottieStickerCache.get(f.filehash);k!=null&&d("WAWebCopyToClipboard").supportsCopyImageToClipboard()&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){void d("WAWebCopyStickerToClipboard").copyLottieStickerToClipboard(k)},children:h._("__JHASH__OLGkra74hh4__JHASH__")},"copy-favorite-sticker"))}else j!=null&&d("WAWebCopyToClipboard").supportsCopyImageToClipboard()&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){void d("WAWebCopyToClipboard").copyImageToClipboard(j)},children:h._("__JHASH__OLGkra74hh4__JHASH__")},"copy-favorite-sticker"));a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:da,children:h._("__JHASH__bihMRyAdtz8__JHASH__",[h._plural(1)])},"delete"));d("WAWebMsgGetters").getIsGroupMsg(f)&&!!f.author&&!d("WAWebMsgGetters").getIsSentByMe(f)&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:ea,children:h._("__JHASH__eKdD9YzdLgN__JHASH__",[h._param("author",f.displayName())])},"author"));c("gkx")("26258")||(a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){void d("WAWebCopyToClipboard").copyTextToClipboard(f.id.toString())},children:m.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Copy Msg ID"})},"copy-id")),d("WAWebFrontendMsgGetters").getAsMms(f)&&(f.deprecatedMms3Url!=null&&a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){void d("WAWebCopyToClipboard").copyTextToClipboard(f.deprecatedMms3Url||"")},children:m.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Copy Mms3 Url"})},"copy-mms3-url")),a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){void d("WAWebCopyToClipboard").copyTextToClipboard(f.filehash||"")},children:m.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Copy Media filehash"})},"copy-filehash"))),a.push(m.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){c("WAWebRequestMediaReuploadBridge")(f.unsafe())},children:m.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Trigger RMR"})},"trigger-rmr")));y({menu:a,anchor:e,theme:d("WAWebDropdownItem.react").ThemeOptions.COMPACT})};j=function(){u==null?void 0:u(),y(null)};var V=function(a,b){e.scrollMsg(a,b)},W={scrollMsg:V};o(b,function(){return W});var X;(z||x||t)&&(X=m.jsx(c("WAWebMessageMenu.react"),{msg:f.unsafe(),hasAuthor:!1,displayType:e.displayType,position:d("WAWebMessagePosition").MsgPosition.SINGLE,ref:v,onToggle:function(a){ga(a)},isGroupedSticker:!0,role:"button",ariaLabel:h._("__JHASH__YjpyvfIbeIH__JHASH__"),isMenuOpen:Boolean(x),tabIndex:0,contextOwnerIsKeyboardFocused:t},"icon-context"));var Y;e.isFocused&&(Y=m.jsx(d("WAWebWrapperListeners.react").WhileFocusedListener,{parent:W}));var Z;x&&(Z=m.jsx(d("WAWebUimUie.react").UIE,{displayName:"MsgContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:j,children:m.jsx(c("WAWebUimUieMenu.react"),{contextMenu:x})}));var $;B?$=m.jsx(d("WAWebUimUie.react").UIE,{displayName:"MsgReaction",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:S,children:m.jsx(c("WAWebUimUieMenu.react"),{contextMenu:B})}):D&&($=m.jsx(d("WAWebUimUie.react").UIE,{displayName:"MsgReactionPicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:T,children:m.jsx(c("WAWebUimUieMenu.react"),{contextMenu:D})}));V=m.jsx(c("WAWebMessageStickerBubble.react"),{mediaData:f.mediaData,msg:f,displayAuthor:!1,forwardRef:e.forwardRef,animateOnView:!0,displayType:e.displayType,onDetailsPaneClosed:u,isGroupedSticker:!0},"sticker-bubble");var ha=function(){B?S():U(f.unsafe())};b=[V];if(d("WAWebReactionsUtils").canReactToMessage(f.unsafe())){j=null;F&&(j=m.jsx(c("WAWebFlexItem.react"),{children:m.jsx(d("WAWebRound.react").Round,{testid:void 0,label:h._("__JHASH__Nd9Nqs7s_UX__JHASH__"),theme:d("WAWebRound.react").RoundTheme.QuickAction,onClick:function(){return ha(f.unsafe())},small:!0,children:m.jsx(d("WAWebReactIcon").ReactIcon,{xstyle:r.entryPointColor,width:15})})}));D=m.jsx("div",{ref:w,className:"x1n2onr6 xzi7r1p xezl2tj",children:j},"reaction-entry-point");d("WAWebMsgGetters").getIsSentByMe(f)?b.unshift(D):b.push(D)}return m.jsxs("div",{className:"x78zum5",onMouseEnter:L,onFocus:H,onBlur:H,ref:G,onMouseLeave:M,children:[m.jsx(d("WAWebFlex.react").FlexRow,{children:b}),m.jsx("div",{className:"x1n2onr6 x1sln4lm",children:m.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:a,children:X})}),Z,$,Y]})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),226);
__d("WAWebMessageGroupedStickerCheckbox.react",["WAWebCheckBox.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");b=i.forwardRef(a);function a(a,b){var c=a.checked;a=a.onClick;return i.jsx("div",{ref:b,className:"x10l6tqk x1rozsjd xh8yej3 x5yr21d x1ypdohk",onClick:a,children:i.jsx("div",{className:"x10l6tqk xxk6nc9 x1f1mv5i",onClick:function(a){return a.stopPropagation()},children:i.jsx(d("WAWebCheckBox.react").CheckBox,{onChange:a,checked:c})})})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WAWebReactionsListeners.react",["useWAWebReactions"],(function(a,b,c,d,e,f,g){function a(a){var b=a.msgIds;a=a.onReactionChange;c("useWAWebReactions")(b,a);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMessageAlbumWrapper.react",["fbt","invariant","WALogger","WANullthrows","WAWebABProps","WAWebAddOnBubblesContainer.react","WAWebCheckBox.react","WAWebClassnames","WAWebClientFeatureFlags","WAWebCmd","WAWebConfirmPopup.react","WAWebDeleteRefreshedIcon","WAWebDeleteRevokeMsgFlow.react","WAWebDisplayType","WAWebDomScroll","WAWebDownloadRefreshedIcon","WAWebDropdownItem.react","WAWebFbtCommon","WAWebFileSaver","WAWebFocusIndicator","WAWebFocusTracer","WAWebForwardChatIcon","WAWebForwardMessageModalLoadable","WAWebForwardRefreshedIcon","WAWebForwardedNewsletterMessageInfoActionButton.react","WAWebFrontendMsgGetters","WAWebGroupChatProfilePicture.react","WAWebKeyboardListHotKeys.react","WAWebKeyboardRotateFocusArrows.react","WAWebMedia","WAWebMediaAlbumGrid.react","WAWebMediaAlbumGridConstants","WAWebMessageAuthor.react","WAWebMessageCheckbox.react","WAWebMessageForwardedIndicator.react","WAWebMessageGroupedSticker.react","WAWebMessageGroupedStickerCheckbox.react","WAWebMessageListAlbums","WAWebMessageMenu.react","WAWebMessagePosition","WAWebMessageUiUtils","WAWebMiscGatingUtils","WAWebModalManager","WAWebMsgActionCapability","WAWebMsgGetters","WAWebMsgSelectors","WAWebMsgSendFailIcon.react","WAWebMultiSelectBar.react","WAWebReactionsListeners.react","WAWebReactionsUtils","WAWebRevokeMetricUtils","WAWebRound.react","WAWebStarRefreshedIcon","WAWebStateUtils","WAWebTypesMedia","WAWebUIRefreshGatingUtils","WAWebUimUie.react","WAWebUimUieMenu.react","WAWebUnstarRefreshedIcon","WAWebUseIsKeyboardUser","WAWebVelocityTransitionGroup","WAWebWrapper.scss","WAWebWrapperGetTailIcon","WAWebWrapperListeners.react","WAWebWrapperMessageActionButtonsRow","react"],(function(a,b,c,d,e,f,g,h,aa){var i,j;function ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["Only ","/"," were valid album messages"]);ba=function(){return a};return a}function ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["[A11y] Failed promised from getAlbumRowAriaLabel"]);ca=function(){return a};return a}function da(){var a=babelHelpers.taggedTemplateLiteralLoose(["[A11y] Failed promised from getAlbumRowAriaLabel"]);da=function(){return a};return a}b=j||d("react");var k=i||(i=c("react")),l=b.useCallback,ea=b.useEffect,fa=b.useImperativeHandle,m=b.useRef,n=b.useState,ga={svgColor:{color:"x10b7xu",$$css:!0}};e=k.forwardRef(a);function a(a,b){var e,f,g=babelHelpers["extends"]({},a),i=g.msgs;a=g.position;var j=g.isMsgVisible,o=g.selectable,p=g.selectedMessages,q=g.onMessageSelect,r=g.albumId,s=g.isFocusedAlbum,t=g.focusedMsgIndex,u=g.isFocusable,v=g.displayType,w=d("WAWebUIRefreshGatingUtils").listRefreshEnabled(),x=n(),y=x[0],z=x[1];x=n(!1);var A=x[0],B=x[1];x=n(i.filter(function(a){return p.isSelected(d("WAWebStateUtils").unproxy(a.unsafe()))}).length);var C=x[0],ha=x[1];x=n();var ia=x[0],ja=x[1];x=c("WAWebUseIsKeyboardUser")();var D=x.isKeyboardUser,ka=m(new Set()),la=m(!0),E=m(),F=m({}),G=m(),ma=m(),na=m(null),oa=m(),pa=m(),qa=m(null),ra=m(null),H=l(function(a){ja(a)},[]);ea(function(){d("WAWebClientFeatureFlags").isFeatureEnabled("media_existence_check")&&i.map(function(a){return d("WAWebFrontendMsgGetters").getAsAlbumAsset(a.unsafe())}).filter(Boolean).forEach(function(a){ka.current.has(a.id.toString())||(void d("WAWebMedia").checkMediaExistence(a),ka.current=new Set(ka.current).add(a.id.toString()))}),d("WAWebMiscGatingUtils").messageCustomAriaLabelEnabled()&&!la.current&&d("WAWebMessageUiUtils").getLegacyAlbumRowAriaLabel(i).then(H)["catch"](function(){d("WALogger").DEV(da())}),la.current=!1},[H,i]);x=l(function(a){!a.buttons&&!A&&B(!0)},[A]);var sa=l(function(){A&&B(!1)},[A]),ta=l(function(a){a.stopPropagation()},[]),I=l(function(a){E.current&&c("WAWebFocusTracer").focus(E.current,a)},[E]),J=l(function(a){var b=a.selectedMsg,c=a.mode,e=a.event;d("WAWebRevokeMetricUtils").UiRevokeActionHelper.startSession();e&&e.stopPropagation();if(b){q(d("WAWebStateUtils").unproxy(b.unsafe()),!p.isSelected(d("WAWebStateUtils").unproxy(b)),c,e);return}var f=C===0;i.forEach(function(a){q(d("WAWebStateUtils").unproxy(a.unsafe()),f,c,e)})},[i,C,p,q]),K=l(function(a,b){for(var e=0;e<i.length;e++)if(d("WAWebFrontendMsgGetters").getIsUnsentMedia(i[e])){var f=h._("__JHASH__eMwcRvhni12__JHASH__",[h._plural(1)]);d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._("__JHASH__3jedy_AkFol__JHASH__"),onOK:function(){return d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:f}));return}a?J({mode:d("WAWebMultiSelectBar.react").MultiSelectMode.FORWARD,selectedMsg:b}):d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebForwardMessageModalLoadable").ForwardMessageModalLoadable,{msgs:i.map(function(a){return a.unsafe()}),onClose:function(){return d("WAWebModalManager").ModalManager.close()}}),{transition:"modal-flow"})},[J,i]),ua=l(function(){d("WAWebCmd").Cmd.sendStarMsgs(d("WAWebFrontendMsgGetters").getChat(i[0].unsafe()),i.map(function(a){return a.unsafe()}))},[i]),va=l(function(){d("WAWebCmd").Cmd.sendUnstarMsgs(d("WAWebFrontendMsgGetters").getChat(i[0].unsafe()),i.map(function(a){return a.unsafe()}))},[i]),wa=l(function(){d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled()&&I({preventScroll:!0})},[I]),L=l(function(){wa()},[wa]),xa=l(function(){var a=0;i.forEach(function(b){p.isSelected(d("WAWebStateUtils").unproxy(b.unsafe()))&&a++});return a},[i,p]),M=l(function(){var a=i[0],b=i[1];return d("WAWebFrontendMsgGetters").getAsGroupedSticker(a.unsafe())!=null&&d("WAWebFrontendMsgGetters").getAsGroupedSticker(b.unsafe())!=null},[i]),ya=l(function(a){var b;M()?b=xa():b=a?i.length:0;C!==b&&ha(b)},[xa,M,i.length,C]),za=l(function(){d("WAWebFileSaver").FileSaver.initDownload(i.map(function(a){return a.unsafe()}))},[i]),N=l(function(a,b){a?J({mode:d("WAWebMultiSelectBar.react").MultiSelectMode.DELETE,selectedMsg:b}):d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebDeleteRevokeMsgFlow.react"),{chat:d("WAWebFrontendMsgGetters").getChat(i[0].unsafe()),msgList:i.map(function(a){return a.unsafe()}),isMsgVisible:j})),d("WAWebRevokeMetricUtils").UiRevokeActionHelper.startSession(),d("WAWebRevokeMetricUtils").UiRevokeActionHelper.messageSelected()},[J,i,j]),Aa=l(function(){if(!G.current)return;return G.current.getContext()},[G]),Ba=l(function(a,b){if(b&&y){z(null);return}b=b?Aa():a;a=[];var c=i.every(function(a){return d("WAWebMsgActionCapability").canDownloadMsg(a.unsafe())});c&&a.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:za,icon:w?k.jsx(d("WAWebDownloadRefreshedIcon").DownloadRefreshedIcon,{}):null,children:h._("__JHASH__4H4cb6R4DXe__JHASH__")},"download"));c=i.every(function(a){return d("WAWebMsgActionCapability").canForwardMsg(a.unsafe())});c&&a.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){K(!0)},icon:w?k.jsx(d("WAWebForwardRefreshedIcon").ForwardRefreshedIcon,{}):null,children:h._("__JHASH__q9fMh-WcO3H__JHASH__")},"forward"));c=i.every(function(a){return d("WAWebMsgActionCapability").canStarMsg(a.unsafe())});if(c){c=i.every(function(a){return a.star});c?a.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){va()},icon:w?k.jsx(d("WAWebUnstarRefreshedIcon").UnstarRefreshedIcon,{}):null,children:h._("__JHASH__TnSW5en7OI-__JHASH__")},"star")):a.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){ua()},icon:w?k.jsx(d("WAWebStarRefreshedIcon").StarRefreshedIcon,{}):null,children:h._("__JHASH__4at6h4PHw6h__JHASH__")},"star"))}a.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,icon:w?k.jsx(d("WAWebDeleteRefreshedIcon").DeleteRefreshedIcon,{}):null,action:function(){N(!0)},children:h._("__JHASH__E7QholNynqe__JHASH__")},"delete"));z({menu:a,anchor:b,theme:d("WAWebDropdownItem.react").ThemeOptions.COMPACT})},[y,Aa,i,N,w,za,K,va,ua]),Ca=l(function(){L(),D&&B(!1),z(null)},[L,D]),O=l(function(){var a;a=(a=(a=E.current)==null?void 0:a.contains(document.activeElement))!=null?a:!1;return D&&a},[D,E]),Da=l(function(a,b){a?F.current[b.id.toString()]=a:delete F.current[b.id.toString()]},[F]),P=l(function(a,b){var c=E.current;if(!c)return;var e=c.offsetParent;if(!e)return;e instanceof HTMLElement||aa(0,56542);void d("WAWebDomScroll").scrollAt(c,e,b).then(a)},[E]),Q=l(function(){var a=na.current,b;M()?t===0?b=oa:t===1&&(b=pa):b=ma;if(!b)return;c("WAWebFocusIndicator").indicateFocus(b.current,c("WAWebWrapper.scss").highlightAnimation);c("WAWebFocusIndicator").indicateFocus(a,c("WAWebWrapper.scss").highlightAnimation);u&&I({preventScroll:!0})},[M,u,t,I]),Ea=l(function(){var a=i.map(function(a){return a.id.toString()});d("WAWebReactionsUtils").lastMessageReactionChange(a);d("WAWebMiscGatingUtils").messageCustomAriaLabelEnabled()&&d("WAWebMessageUiUtils").getLegacyAlbumRowAriaLabel(i).then(H)["catch"](function(){d("WALogger").DEV(ca())})},[i,H]);fa(b,function(){return{getContainerElement:function(){return E.current},props:g,refAlbumComponents:F.current,isGroupedSticker:M}});var R=i[0],Fa=i[1];b=d("WAWebMsgGetters").getIsSentByMe(R);var S=d("WAWebMsgGetters").getIsGroupMsg(R);O=d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled()&&O();var Ga=i.length>d("WAWebMessageListAlbums").ALBUM_MIN_SIZE?i.length-d("WAWebMessageListAlbums").ALBUM_MIN_SIZE+1:null,T=d("WAWebDisplayType").isWideDisplay(v),U=M(),V=!T&&(a===d("WAWebMessagePosition").MsgPosition.FRONT||a===d("WAWebMessagePosition").MsgPosition.SINGLE||U);e=S&&!b&&!!V&&v===d("WAWebDisplayType").DISPLAY_TYPE.CONVERSATION&&!o&&((e=R.senderObj)==null?void 0:e.id)!=null;e=e?k.jsx(d("WAWebGroupChatProfilePicture.react").GroupChatProfilePicture,{userContact:R.senderObj,chatWid:d("WAWebFrontendMsgGetters").getChat(R.unsafe()).id}):null;var W=U&&V&&(b||!S);f=d("WAWebClassnames").classnamesConvertMeToStylexPlease((f={},f[c("WAWebWrapper.scss").msgContinuation]=(a===d("WAWebMessagePosition").MsgPosition.FRONT||a===d("WAWebMessagePosition").MsgPosition.MID)&&!T,f["message-out"]=b,f["message-in"]=!b,f[d("WAWebKeyboardListHotKeys.react").LIST_FOCUSABLE_ITEM_CLASS_NAME]=u,f[c("WAWebWrapper.scss").wrapperProfilePictureDisplayed]=v!==d("WAWebDisplayType").DISPLAY_TYPE.ANNOUNCEMENT,f[c("WAWebWrapper.scss").wrapperAdjustedOneOnOneChat]=!d("WAWebFrontendMsgGetters").getChat(R.unsafe()).isGroup,f[c("WAWebWrapper.scss").row]=!0,f[c("WAWebWrapper.scss").msgBottomMargin]=!0,f[c("WAWebWrapper.scss").msg]=!0,f[c("WAWebWrapper.scss").animateMsg]=d("WAWebABProps").getABPropConfigValue("web_animate_messages"),f[c("WAWebWrapper.scss").msgAnnouncement]=T,f));S=(!b||T)&&S;var Ha;if(S){var X,Y;Y=d("WAWebClassnames").classnamesConvertMeToStylexPlease((X={},X[(Y=c("WAWebWrapper.scss")).groupStickerAuthor]=U,X[Y.groupStickerAuthorAnnouncement]=T,X[Y.author]=!0,X[Y.groupStickerAuthorOutgoing]=b,X));Ha=k.jsx("div",{className:Y,children:k.jsx(c("WAWebMessageAuthor.react"),{msg:i[0],contact:i[0].senderObj,albumId:r,displayType:v})})}Y=d("WAWebClassnames").classnamesConvertMeToStylexPlease((X={},X[c("WAWebWrapper.scss").messageTransparent]=U,X[c("WAWebWrapper.scss").hasTail]=V,X[c("WAWebWrapper.scss").tailOverrideHide]=W,X[c("WAWebWrapper.scss").hasAuthor]=!U&&S,X[c("WAWebWrapper.scss").forwarded]=!U&&d("WAWebMsgSelectors").showForwarded(i[0]),X[c("WAWebWrapper.scss").message]=!0,X));X=d("WAWebClassnames").classnamesConvertMeToStylexPlease((W={},W[c("WAWebWrapper.scss").messageBackground]=!U,W[c("WAWebWrapper.scss").hasBorderBox]=!U,W[c("WAWebWrapper.scss").albumBubbleContainer]=!0,W[c("WAWebWrapper.scss").albumAnnouncementBubbleContainer]=T,W));var Ia;if(V){W=d("WAWebWrapperGetTailIcon").getTailIcon(b);Ia=k.jsx(W,{className_DONOTUSE:c("WAWebWrapper.scss").tail,containerRef:na,"aria-hidden":!0})}V=[];if(d("WAWebMsgActionCapability").canQuickForwardMsg(R.unsafe())){W=k.jsx(d("WAWebRound.react").Round,{label:h._("__JHASH___1iXL2x6FDv__JHASH__"),theme:d("WAWebRound.react").RoundTheme.QuickAction,className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((W={},W[c("WAWebWrapper.scss").authorForward]=S,W[c("WAWebWrapper.scss").quickActionButton]=!0,W)),onClick:function(){K(!1)},children:k.jsx(d("WAWebForwardChatIcon").ForwardChatIcon,{xstyle:ga.svgColor})});V.push(W)}var Z=i.map(function(a){return d("WAWebFrontendMsgGetters").getAsAlbumAsset(a.unsafe())}).filter(Boolean);W=Z.some(function(a){return a.hasReaction===!0});var Ja;(A||y||O)&&(Ja=k.jsx(c("WAWebMessageMenu.react"),{msg:R.unsafe(),hasAuthor:S,position:a,ref:G,onToggle:function(a){Ba(a)},role:"button",ariaLabel:h._("__JHASH__YjpyvfIbeIH__JHASH__"),tabIndex:0,displayType:v,isMenuOpen:Boolean(y)},"icon-context"));y?S="none":d("WAWebFrontendMsgGetters").getIsRTL(R)?S="pop-fast-reverse":S="pop-fast";var Ka;y&&(Ka=k.jsx(d("WAWebUimUie.react").UIE,{displayName:"MsgContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:Ca,children:k.jsx(c("WAWebUimUieMenu.react"),{contextMenu:y})}));a=o?k.jsx(c("WAWebMessageCheckbox.react"),{checked:C>0,theme:C>0&&C<i.length?d("WAWebCheckBox.react").CheckboxTheme.PARTIAL:void 0,onClick:function(a){J({event:a})}}):null;var La;s&&(La=k.jsx(d("WAWebWrapperListeners.react").WhileFocusedListener,{parent:{scrollMsg:P,highlight:Q}}));if(U){var $;Ca=i.map(function(a){return k.jsx(d("WAWebWrapperListeners.react").SelectionListener,{parent:{onSelectChange:ya},msgId:a.id.toString(),selectedMessages:p},a.id.toString())});U=o?k.jsx(c("WAWebMessageGroupedStickerCheckbox.react"),{checked:p.isSelected(d("WAWebStateUtils").unproxy(R.unsafe())),onClick:function(a){J({selectedMsg:R.unsafe()})}}):null;o=o?k.jsx(c("WAWebMessageGroupedStickerCheckbox.react"),{checked:p.isSelected(d("WAWebStateUtils").unproxy(Fa.unsafe())),onClick:function(a){J({selectedMsg:Fa.unsafe()})}}):null;var Ma=i.some(function(a){return d("WAWebReactionsUtils").canReactToMessage(a.unsafe())})?k.jsx(d("WAWebMsgSendFailIcon.react").MsgSendFailIcon,{msgs:i,showForMessages:!1,showForAddOns:!0,displayType:d("WAWebDisplayType").DISPLAY_TYPE.CONVERSATION}):null;$=d("WAWebClassnames").classnamesConvertMeToStylexPlease(($={},$[c("WAWebWrapper.scss").groupStickerContainer]=!0,$[c("WAWebWrapper.scss").groupStickerAnnouncementContainer]=T,$));$=k.jsxs("div",{className:f,"data-id":r,ref:E,tabIndex:-1,children:[k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"delay-leave",children:a}),k.jsxs("div",{className:Y,role:"group",onContextMenu:ta,children:[Ia,e,Ha,k.jsxs("div",{className:$,children:[k.jsxs("div",{onMouseEnter:function(){var a;return(a=qa.current)==null?void 0:a.startAnimation()},role:"img",className:c("WAWebWrapper.scss").singleGroupedStickerContainer,ref:oa,children:[k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"delay-leave",children:U}),k.jsx(c("WAWebMessageGroupedSticker.react"),{msg:c("WANullthrows")(d("WAWebFrontendMsgGetters").getAsGroupedSticker(R.unsafe())),menuTransition:S,onOpenForwardFlow:K,onOpenDeleteFlow:N,scrollMsg:P,highlight:Q,isFocused:s&&t===0,forwardRef:qa,displayType:v,rowIsKeyboardFocused:O,onModalClosed:L})]}),k.jsxs("div",{onMouseEnter:function(){var a;return(a=ra.current)==null?void 0:a.startAnimation()},role:"img",className:c("WAWebWrapper.scss").singleGroupedStickerContainer,ref:pa,children:[k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"delay-leave",children:o}),k.jsx(c("WAWebMessageGroupedSticker.react"),{msg:c("WANullthrows")(d("WAWebFrontendMsgGetters").getAsGroupedSticker(Fa.unsafe())),menuTransition:S,onOpenForwardFlow:K,onOpenDeleteFlow:N,scrollMsg:P,highlight:Q,isFocused:s&&t===1,forwardRef:ra,displayType:v,rowIsKeyboardFocused:O,onModalClosed:L})]}),k.jsx(c("WAWebReactionsListeners.react"),{msgIds:i.map(function(a){return a.id.toString()}),onReactionChange:Ea})]}),Ma]}),Ca]});return d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled()?k.jsx(c("WAWebKeyboardRotateFocusArrows.react"),{role:"row",children:$}):$}Z.length!==i.length&&d("WALogger").ERROR(ba(),Z.length,i.length).sendLogs("invalid-album-grid");U=null;if(Z.length>0){o=Z.map(function(a){return a.id.toString()});U=k.jsx(c("WAWebAddOnBubblesContainer.react"),{isOutgoingMsg:b,displayType:v,hasReaction:W,onDetailsPaneClosed:L,parentIds:o})}P=Z.length>0?k.jsx(d("WAWebMsgSendFailIcon.react").MsgSendFailIcon,{msgs:Z,showForMessages:!1,showForAddOns:!0,displayType:d("WAWebDisplayType").DISPLAY_TYPE.CONVERSATION}):null;var Na=Z.length>d("WAWebMessageListAlbums").ALBUM_MIN_SIZE?Z[0]:null;Q=d("WAWebMsgSelectors").showForwarded(i[0])?k.jsx(c("WAWebMessageForwardedIndicator.react"),{msg:i[0].unsafe(),className:c("WAWebWrapper.scss").forwardedIndicator}):null;O=k.jsxs("div",{className:f,"data-id":r,"data-testid":void 0,ref:E,"aria-label":ia,tabIndex:-1,children:[k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"delay-leave",children:a}),k.jsxs("div",{className:Y,role:"group",onContextMenu:ta,onMouseOver:x,onFocus:x,onMouseDown:sa,onMouseUp:x,onMouseLeave:sa,children:[Ia,e,k.jsxs("div",{className:X,ref:ma,children:[Ha,Q,k.jsx("div",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((s={},s[c("WAWebWrapper.scss").gridContainer]=!0,s[c("WAWebWrapper.scss").gridAnnouncementContainer]=T,s)),children:i.slice(0,d("WAWebMediaAlbumGridConstants").ALBUM_GRID_MAX_THUMBNAIL).map(function(a,b){var e=b===d("WAWebMediaAlbumGridConstants").ALBUM_GRID_MAX_THUMBNAIL-1?{numAdditionalMedia:Ga,zoomMsg:Na}:null;return k.jsx(c("WAWebMediaAlbumGrid.react"),babelHelpers["extends"]({msg:c("WANullthrows")(d("WAWebFrontendMsgGetters").getAsAlbumAsset(a.unsafe())),albumMsgs:Z,albumPosition:d("WAWebMediaAlbumGridConstants").ALBUM_GRID_POSITIONS[b%d("WAWebMediaAlbumGridConstants").ALBUM_GRID_MAX_THUMBNAIL],isMsgVisible:j,displayType:v,ref:function(b){Da(b,a)},albumTheme:d("WAWebTypesMedia").DisplayTheme.Album,currentAlbumMessageIndex:b},e),a.id.toString())})}),k.jsx(d("WAWebForwardedNewsletterMessageInfoActionButton.react").ForwardedNewsletterMessageInfoActionButton,{msg:i[0].unsafe(),isAlbum:!0})]}),k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:S,children:Ja}),P,k.jsx(d("WAWebWrapperMessageActionButtonsRow").MessageActionButtonsRow,{isOutgoingMsg:b,isMsgGallery:!1,hasReaction:W,messageActionButtons:V})]}),U,d("WAWebMiscGatingUtils").messageCustomAriaLabelEnabled()?k.jsx(c("WAWebReactionsListeners.react"),{msgIds:i.map(function(a){return a.id.toString()}),onReactionChange:Ea}):null,Ka,La,k.jsx(d("WAWebWrapperListeners.react").SelectionListener,{parent:{onSelectChange:ya},msgId:i[0].id.toString(),selectedMessages:p})]});return d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled()?k.jsx(c("WAWebKeyboardRotateFocusArrows.react"),{role:"row",children:O}):O}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),226);
__d("WAWebMessageListBotCarousel",["WAWebABProps"],(function(a,b,c,d,e,f,g){function a(a,b){return d("WAWebABProps").getABPropConfigValue("bonsai_carousel_enabled")===!0&&b.botResponseTargetId===a.botResponseTargetId}g.canBeGroupedAsBotCarousel=a}),98);
__d("WAWebMessageListGenerateMsgListRows",["WAWebFrontendMsgGetters","WAWebMessageListAlbums","WAWebMessageListBotCarousel","WAWebMessageListDayOfMsg"],(function(a,b,c,d,e,f,g){var h=10;function a(a,b,e,f,g,k){var l=a.msg,m=a.date,n=a.unread,o=a.album;a=a.botPluginCarousel;var p=[],q=0,r;for(q=0;!r&&q<b.length;q++)r=b[q];q--;var s=!1,t=!1,u=r?c("WAWebMessageListDayOfMsg")(r):0,v=0,w=q;while(r){var x=r;t||p.push(m(x,v++));x===f&&n&&p.push(n(g));var y=void 0,z=q+1;for(;!y&&z<b.length;z++)y=b[z];z=void 0;var A=void 0,B=void 0,C=[],D=[],E=!1,F=!1,G=void 0,H=!1,I=null,J=d("WAWebFrontendMsgGetters").getAsGroupedSticker(x.unsafe());if(J&&!i(x,k)){C.push(J);H=x===e;I=0;w=q+1;J=b[w];var K=J!=null?d("WAWebFrontendMsgGetters").getAsGroupedSticker(J.unsafe()):null;K&&d("WAWebMessageListAlbums").canBeGroupedAsAlbum(x,J)&&J!==f&&!i(J,k)&&(C.push(K),y=b[w+1],F=!0,G=!0,J===e&&(H=!0,I=1))}K=d("WAWebFrontendMsgGetters").getAsBotPluginCarouselMsg(x.unsafe());if(K){D.push(K);J=r;K=void 0;w=q;for(;w<b.length-1&&D.length<h;w++){J=b[w];K=b[w+1];var L=K!=null?d("WAWebFrontendMsgGetters").getAsBotPluginCarouselMsg(K.unsafe()):null;if(L&&d("WAWebMessageListBotCarousel").canBeGroupedAsBotCarousel(J,K))D.push(K);else break}D.length>=1&&(E=!0,y=b[w+1])}if(E){p.push(a(D,(L=D[0].id)==null?void 0:L.id));q=w+1;r=b[q];s=!1;continue}J=d("WAWebFrontendMsgGetters").getAsAlbumAsset(x.unsafe());if(J&&!i(x,k)){C.push(J);K=r;E=void 0;H=r===e;w=q;for(;w<b.length-1&&C.length<d("WAWebMessageListAlbums").ALBUM_MAX_SIZE;w++){K=b[w];E=b[w+1];D=E!=null?d("WAWebFrontendMsgGetters").getAsAlbumAsset(E.unsafe()):null;if(D&&d("WAWebMessageListAlbums").canBeGroupedAsAlbum(K,E)&&E!==f&&!i(E,k))C.push(D),E===e&&(H=!0);else break}C.length>=d("WAWebMessageListAlbums").ALBUM_MIN_SIZE&&(F=!0,G=!1,y=b[w+1])}if(y){L=y;B=c("WAWebMessageListDayOfMsg")(y);A=B===u;z=A&&d("WAWebMessageListAlbums").canBeGroupedWithNext(x,L)&&y!==f}else z=!1,A=!1,B=0;if(F){G===!0?J=C.reduce(function(a,b){return a+"-"+b.id.toString()},"grouped-sticker-"):J=j(C);p.push(o(C,J,s,z,H,I));q=w+1;r=b[q];s=z;t=A;u=B;continue}p.push(l(x,x===e,s,z));q++;s=z;t=A;u=B;r=y}return p}function i(a,b){return b==null?!0:a.t>b.t}function j(a){var b=a.length,c=a[0]?a[0].id.toString():"";a=a[b-1]?a[b-1].id.toString():"";return"album-"+c+"-"+a+"-"+b}g["default"]=a}),98);
__d("WAWebMessageUnread.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={msgUnread:"_agtb",msgUnreadBody:"_agtk"};b=a;g["default"]=b}),98);
__d("WAWebMessageUnread.react",["fbt","WAWebClassnames","WAWebKeyboardListHotKeys.react","WAWebMessageUnread.scss","WAWebUIRefreshGatingUtils","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={msgUnread:{width:"xh8yej3",marginStart:"x1d1ct2s",fontSize:"x13a8xbf",color:"xy9n6vp",textAlign:"x2b8uid",textTransform:"xtvhhri",backgroundColor:"xy4wh6y",borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xdvm3u5",borderBottomWidth:"xso031l",borderBottomStyle:"x1q0q8m5",borderBottomColor:"x11s3hvy",$$css:!0},msgUnreadRefresh:{borderBottomWidth:"x1qhh985",maxWidth:"x1wti20i",borderTopStartRadius:"x1ewi3t5",borderTopEndRadius:"x1hz6igj",borderBottomEndRadius:"x10g8x2y",borderBottomStartRadius:"x1x8elzp",$$css:!0}};function a(a){var b=a.count;a=a.textContainerRef;var e=d("WAWebUIRefreshGatingUtils").conversationPanelRefreshEnabled();b=h._("__JHASH__OY_D1wJkxBD__JHASH__",[h._plural(b,"count")]);e=e?d("WAWebClassnames").classnamesConvertMeToStylexPlease([c("WAWebMessageUnread.scss").msgUnread,d("WAWebKeyboardListHotKeys.react").LIST_FOCUSABLE_ITEM_CLASS_NAME,(j||(j=c("stylex")))(l.msgUnread,l.msgUnreadRefresh,d("WAWebUISpacing").uiPadding.vert5,d("WAWebUISpacing").uiMargin.horizAuto,d("WAWebUISpacing").uiMargin.bottom12)]):d("WAWebClassnames").classnamesConvertMeToStylexPlease([c("WAWebMessageUnread.scss").msgUnread,d("WAWebKeyboardListHotKeys.react").LIST_FOCUSABLE_ITEM_CLASS_NAME,(j||(j=c("stylex")))(l.msgUnread,d("WAWebUISpacing").uiPadding.vert5,d("WAWebUISpacing").uiPadding.start40,d("WAWebUISpacing").uiMargin.bottom12)]);var f=d("WAWebClassnames").classnamesConvertMeToStylexPlease([c("WAWebMessageUnread.scss").msgUnreadBody,"x9f619 x1rg5ohu xq8v1hd xojvqvm x6ikm8r x10wlt62 xk50ysn x1mnlqng xlyipyv xuxw1ft x16dsc37 xs5mgot xfh8nwu xoqspk4 x12v9rci x138vmkv xexx8yu xe53cfu x18d9i69 x1g8yoln"]);return k.jsx("div",{className:e,ref:a,tabIndex:-1,children:k.jsx("span",{className:f,"aria-live":"polite",children:b})})}a.displayName=a.name+" [from "+f.id+"]";g.MessageUnread=a}),226);
__d("WAWebMessageList.react",["fbt","WAArraysShallowEqual","WALogger","WANullthrows","WAWebBotPluginCarouselWrapper.react","WAWebCmd","WAWebGetDisplayType","WAWebKeyboardListHotKeys.react","WAWebL10N","WAWebListenerHoc_DEPRECATED","WAWebMessageAlbumWrapper.react","WAWebMessageAssociation.flow","WAWebMessageAssociationUIUtils","WAWebMessageDateMarker.react","WAWebMessageListGenerateMsgListRows","WAWebMessagePosition","WAWebMessageUnread.react","WAWebMiscGatingUtils","WAWebMsgCollection","WAWebMsgType","WAWebNoop","WAWebTabOrder","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebViewMode.flow","WAWebViewModeUtils","WAWebWrapper.react","asyncToGeneratorRuntime","react","shallowEqual","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["getMsgVisibility on invalid ref: ",""]);l=function(){return a};return a}a=k||d("react");var m=i||(i=c("react"));e=a.Component;var n=a.createRef,o={messageList:{flex:"x3psx0u",paddingBottom:"xwib8y2",paddingStart:"xkhd6sd",transition:"xrmvbpv",$$css:!0},maxWidth:{width:"xh8yej3",maxWidth:"x1wti20i",$$css:!0},messageListSelectable:{paddingStart:"xo0ujly",transition:"xdi6fk3",$$css:!0}};f=function(a){babelHelpers.inheritsLoose(e,a);function e(e){var f;f=a.call(this,e)||this;f.$1={};f.$2={};f.$3={};f.$4={};f.$5={};f.$7=n();f.$8=function(){return f.$7.current};f.$10=function(){f.forceUpdate()};f.$11=function(a){var b=null;a.parentMsgKey&&(a==null?void 0:a.associationType)===d("WAWebMessageAssociation.flow").MessageAssociationType.MEDIA_ALBUM&&!d("WAWebViewModeUtils").isViewModeVisibleInSurface(d("WAWebViewMode.flow").ViewModeSurface.CHAT,a==null?void 0:a.viewMode)&&(b=d("WAWebMsgCollection").MsgCollection.get(c("WANullthrows")(a.parentMsgKey)));var e=f.$5[a.id.toString()];if(!e&&!b)return;var g=!b&&e.isGroupedSticker();if(g)return;g=b?d("WAWebMessageAssociationUIUtils").getHiddenAssociatedMessages(b.id,d("WAWebViewMode.flow").ViewModeSurface.CHAT):e.props.msgs;g=new Set(g.map(function(a){return a.id.toString()}));var h=function(){var c=b?f.getMsgWrapperRef(b.id.toString()):e.refAlbumComponents[a.id.toString()];return c==null?void 0:c.getContainerElement()};(b||f.$5[a.id.toString()])&&d("WAWebCmd").Cmd.mediaViewerModal({msg:a,getZoomNode:h,highlightedMsgIds:g})};f.$9=function(a){var b=a.newKey;a=a.oldKey;b=b.toString();a=a.toString();var c=f.$1[a];c&&(delete f.$1[a],f.$1[b]=c)};f.$12=function(a,b){a?f.$1[b]=a:delete f.$1[b]};f.$16={msg:function(a){function b(b,c,d,e){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(a,b,e,g){var h=f.props,i;g&&!e?i=d("WAWebMessagePosition").MsgPosition.FRONT:g&&e?i=d("WAWebMessagePosition").MsgPosition.MID:!g&&e?i=d("WAWebMessagePosition").MsgPosition.END:i=d("WAWebMessagePosition").MsgPosition.SINGLE;g=a.type===d("WAWebMsgType").MSG_TYPE.IMAGE||a.type===d("WAWebMsgType").MSG_TYPE.VIDEO||a.type===d("WAWebMsgType").MSG_TYPE.AUDIO||a.carouselCards!=null;return m.jsx(d("WAWebWrapper.react").Wrapper,{ref:function(b){f.$12(b,a.id.toString())},msg:a.unsafe(),displayType:(e=h.displayType)!=null?e:d("WAWebGetDisplayType").getDisplayType(a.unsafe()),isMsgVisible:g||a.selectedCarouselCardIndex!=null?h.isMsgVisible:c("WAWebNoop"),selectable:h.selectable,selectedMessages:h.selectedMessages,onMessageSelect:h.onMessageSelect,position:i,isFocusedMsg:b,getSequentialMsg:f.props.getSequentialMsg,isFocusable:!0},"msg-"+a.id.toString())}),album:function(a,b,e,g,h,i){var j=f.props,k;g&&!e?k=d("WAWebMessagePosition").MsgPosition.FRONT:g&&e?k=d("WAWebMessagePosition").MsgPosition.MID:!g&&e?k=d("WAWebMessagePosition").MsgPosition.END:k=d("WAWebMessagePosition").MsgPosition.SINGLE;g=a[0];return m.jsx(c("WAWebMessageAlbumWrapper.react"),{msgs:a,ref:function(c){f.$14(c,b,a)},position:k,isMsgVisible:j.isMsgVisible,selectable:j.selectable,selectedMessages:j.selectedMessages,onMessageSelect:j.onMessageSelect,albumId:b,isFocusedAlbum:h,focusedMsgIndex:i,displayType:d("WAWebGetDisplayType").getDisplayType(g==null?void 0:g.unsafe()),isFocusable:!0},"album-"+b)},date:function(a,b){var d=f.props.isLoadingEarlierMsgs;d=!d||b!==0;return m.jsx(c("WAWebMessageDateMarker.react"),{ref:function(a){return void f.$13(b,a)},timestamp:a.t,isFocusable:d},"msg-"+a.id.toString()+"-date")},unread:function(){return m.jsx(d("WAWebMessageUnread.react").MessageUnread,{count:f.props.unreadCount,textContainerRef:f.$7},"msg-unread")},botPluginCarousel:function(a,b){return m.jsx(c("WAWebBotPluginCarouselWrapper.react"),{msgs:a,ref:function(b){return f.$15(b,a)},botPluginCarouselId:b},"botCarousel-"+b)}};f.$17=function(a){if(a.target instanceof HTMLElement){a=(a=a.target.dataset)==null?void 0:a.id;a=f.$1[a]||f.$3[a];a==null?void 0:a.openContextMenu==null?void 0:a.openContextMenu()}};f.$18=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebCmd").Cmd.openChatBottom(f.props.chat)});e=e.msgs;f.$6=e.length>0?e[e.length-1]:null;return f}var f=e.prototype;f.shouldComponentUpdate=function(a){var b=a.msgs;a=babelHelpers.objectWithoutPropertiesLoose(a,["msgs"]);var d=this.props,e=d.msgs;d=babelHelpers.objectWithoutPropertiesLoose(d,["msgs"]);return!c("shallowEqual")(a,d)||!c("WAArraysShallowEqual")(b,e)};f.getSnapshotBeforeUpdate=function(a){var b=this,d;a=this.props.getScrollContainer();var e=this.props.msgs.find(function(a){return Object.prototype.hasOwnProperty.call(b.$1,a.id)});if(e==null)return null;e=e.id.toString();d=c("WANullthrows")((d=this.getMsgWrapperRef(e))==null?void 0:d.getContainerElement());return{commonMessageId:e,commonMessageTop:d.offsetTop-a.scrollTop}};f.componentDidMount=function(){this.props.listeners.add(d("WAWebMsgCollection").MsgCollection,"change:msgKey",this.$9),this.props.listeners.add(d("WAWebCmd").Cmd,"refresh_messages",this.$10),this.props.listeners.add(d("WAWebCmd").Cmd,"open_media_viewer_for_album_media",this.$11)};f.componentDidUpdate=function(a,b,d){a=this.props.getScrollContainer();if(d!=null){b=d.commonMessageId;d=d.commonMessageTop;b=c("WANullthrows")((b=this.getMsgWrapperRef(b))==null?void 0:b.getContainerElement());a.scrollTop=b.offsetTop-d}};f.getMsgVisibility=function(a){var b=this.props.getScrollContainer(),c=b.scrollTop;b=c+b.clientHeight;var e=a==null?void 0:a.getContainerElement();if(!e){d("WALogger").WARN(l(),a);return{visibility:d("WAWebMessagePosition").MSG_VISIBILITY.VISIBLE,offset:0}}if(e.offsetTop+e.clientHeight<=c)return{visibility:d("WAWebMessagePosition").MSG_VISIBILITY.ABOVE,offset:e.offsetTop-c};else if(e.offsetTop>=b)return{visibility:d("WAWebMessagePosition").MSG_VISIBILITY.BELOW,offset:e.offsetTop-c};return{visibility:d("WAWebMessagePosition").MSG_VISIBILITY.VISIBLE,offset:e.offsetTop-c}};f.getMsgWrapperRef=function(a){return this.$1[a]||this.$5[a]||this.$4[a]};f.getMsgComponentRef=function(a){if(this.$1[a])return this.$1[a].getMsgComponentRef();else if(this.$5[a])return this.$5[a].refAlbumComponents[a]&&this.$5[a].refAlbumComponents[a].getRef()};f.getDateMarkerRef=function(a){return this.$2[a]};f.$13=function(a,b){b?this.$2[a]=b:delete this.$2[a]};f.getRenderedDateMarkers=function(){return this.$2};f.$14=function(a,b,c){var d=this;a?(this.$3[b]=a,c.forEach(function(b){d.$5[b.id.toString()]=a})):delete this.$3[b]};f.$15=function(a,b){var c=this;a&&b.forEach(function(b){c.$4[b.id.toString()]=a})};f.render=function(){var a=this.props,b=a.msgs,e=a.focusedMsgCtx;a=a.unreadCount;var f,g;e&&(f=e.msg,e.isUnreadDivider&&(a>0&&(g=e.msg)));e=d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled()?null:(e={},e[""+c("WAWebL10N").LR("right","left")]=this.$17,e);var i=d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled()?null:c("WAWebL10N").LR(h._("__JHASH__fNz5NCzT4Nm__JHASH__"),h._("__JHASH__8fQBKGdV_ws__JHASH__"));return m.jsx(d("WAWebKeyboardListHotKeys.react").ListHotKeys,{dataTab:d("WAWebTabOrder").TAB_ORDER.MESSAGE_LIST,className:(j||(j=c("stylex")))(o.messageList,d("WAWebUIRefreshGatingUtils").conversationPanelRefreshEnabled()&&[o.maxWidth,d("WAWebUISpacing").uiMargin.horizAuto],this.props.selectable&&o.messageListSelectable),getPriorityFocusItem:this.$8,onBeforeEnd:this.$18,handlers:e,role:"application",removeTabIndexFocusInside:d("WAWebMiscGatingUtils").messageListA11yRedesignEnabled(),"aria-label":i,children:c("WAWebMessageListGenerateMsgListRows")(this.$16,b,(e=f)==null?void 0:e.safe(),(i=g)==null?void 0:i.safe(),a,this.$6)})};return e}(e);a=d("WAWebListenerHoc_DEPRECATED").ListenerHOC(f);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getDateMarkerRef=function(a){return this.getComponent().getDateMarkerRef(a)};c.getMsgComponentRef=function(a){return this.getComponent().getMsgComponentRef(a)};c.getMsgWrapperRef=function(a){return this.getComponent().getMsgWrapperRef(a)};c.getMsgVisibility=function(a){return this.getComponent().getMsgVisibility(a)};c.getRenderedDateMarkers=function(){return this.getComponent().getRenderedDateMarkers()};return b}(a);g["default"]=e}),226);
__d("WAWebUpdateEditedMessagesAction",["WALogger","WATimeUtils","WAWebBotGating","WAWebBotTypes","WAWebChatMessageSearch","WAWebDBProcessEditProtocolMsgs","WAWebFrontendMsgGetters","WAWebGroupUnreadMessageType","WAWebMessageEditGatingUtils","WAWebMsgCollection","WAWebMsgGetters","WAWebMsgInfoCollection","WAWebMsgType","WAWebMuteGetters","WAWebNotificationController","WAWebNotificationsMsgNotification","WAWebUnreadMentionModel"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[message-edit] updated Msg model"]);h=function(){return a};return a}function a(a){for(var b=0;b<a.length;b++){var c=a[b],e=c.parentMsg,f=c.editedMsgData,g=c.protocolMsg;c=c.mentionOfMe;e=d("WAWebMsgCollection").MsgCollection.get(e.id);if(!e)return;var k=f.mediaKey!==e.mediaKey;k&&(e.thumbnailHQ="");if(d("WAWebBotGating").shouldAnimateAsBotStream(e)||e.botEditType!=null){f.lastBotEditBodyLength=(k=e.body)==null?void 0:k.length}k=new(d("WAWebNotificationsMsgNotification").WAMsgNotification)({msg:e}).buildKey();e.set(f);d("WAWebChatMessageSearch").clearFtsCache(d("WAWebFrontendMsgGetters").getChat(e));i(e,k,c);d("WAWebMsgGetters").getIsSentByMe(g)||(d("WAWebFrontendMsgGetters").getChat(e).unreadEditTimestampMs=d("WATimeUtils").unixTimeMs());c&&j(e,c);e.clearRawLinks();e.clearRawPhoneNumbers();f=d("WAWebMsgCollection").MsgCollection.get(g.id);f&&f.type===d("WAWebMsgType").MSG_TYPE.CIPHERTEXT&&f["delete"]();d("WAWebMsgInfoCollection").MsgInfoCollection.remove(e.id);d("WALogger").DEV(h()).devConsole({msg:e})}d("WAWebMsgCollection").MsgCollection.processEditedMessages(a.map(function(a){a=a.parentMsg;return d("WAWebMsgCollection").MsgCollection.get(a.id)}))}function i(a,b,c){b=d("WAWebNotificationController").WANotificationController.getNotification(b);var e=new(d("WAWebNotificationsMsgNotification").WAMsgNotification)({msg:a});if(d("WAWebBotGating").isBotReceiveEnabled()&&b&&d("WAWebMsgGetters").getIsMetaBotResponse(a)){a.botEditType===d("WAWebBotTypes").BotMsgEditType.LAST&&void d("WAWebNotificationController").WANotificationController.triggerNotification(e);return}b&&d("WAWebNotificationController").WANotificationController.triggerNotification(e);var f=d("WAWebFrontendMsgGetters").getChat(a);if(d("WAWebMuteGetters").getIsMuted(f.mute)&&c)switch(c){case d("WAWebDBProcessEditProtocolMsgs").EditedMentionOfMe.Added:f.isUnreadMsg(a)&&d("WAWebNotificationController").WANotificationController.triggerNotification(e);break;case d("WAWebDBProcessEditProtocolMsgs").EditedMentionOfMe.Removed:b==null?void 0:b.closeBanner();break}}function j(a,b){if(!d("WAWebMessageEditGatingUtils").receiveCaptionEditEnabled())return;var e=d("WAWebFrontendMsgGetters").getChat(a);switch(b){case d("WAWebDBProcessEditProtocolMsgs").EditedMentionOfMe.Added:if(e.isUnreadMsg(a)){var f;b=new(c("WAWebUnreadMentionModel"))({id:a.id,timestamp:a.latestEditSenderTimestampMs});(f=e.groupMetadata)==null?void 0:f.unreadMentionMetadata.addUnreadMentions([b],d("WAWebGroupUnreadMessageType").UnreadMessageType.NEW_MESSAGE)}break;case d("WAWebDBProcessEditProtocolMsgs").EditedMentionOfMe.Removed:(f=e.groupMetadata)==null?void 0:f.unreadMentionMetadata.removeUnreadMentions(a.id.toString());break}}g.updateEditedMessagesAction=a}),98);
__d("WAWebUpdateMessageUIAction",["WALogger","WAWebABProps","WAWebBackendErrors","WAWebCommonMsgUtils","WAWebDBProcessMessage","WAWebHandleForMessageRange","WAWebHandleForMessageRangeEnums","WAWebHandleMsgTypes.flow","WAWebMsgCollection","WAWebStatusCollection","WAWebWid","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Msg: "," chat: "," Error: ",", message: ",", stack: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Msg: "," chat: "," Error: ",", message: ",", stack: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Msg: "," chat: "," Error: PreviousMsgNotUpdatableError"]);j=function(){return a};return a}function a(a,b,c,d,e){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){e===void 0&&(e=d("WAWebHandleMsgTypes.flow").MessageOverwriteOption.NO_OVERWRITE);f===void 0&&(f=!0);g===void 0&&(g=!1);e={add:"after",update:e!==d("WAWebHandleMsgTypes.flow").MessageOverwriteOption.NO_OVERWRITE,isHistory:!1};var k=!0;g&&(k=!d("WAWebABProps").getABPropConfigValue("web_optimize_active_msg_range_offline_resume_enabled"));g=(yield d("WAWebHandleForMessageRange").handleForActiveMessageRange(a,b,k));if(g.has(d("WAWebHandleForMessageRangeEnums").ActiveRangeHandlerAction.DropMessage))return;k=g.has(d("WAWebHandleForMessageRangeEnums").ActiveRangeHandlerAction.SkipUI);g=d("WAWebMsgCollection").MsgCollection.get(b.id);g&&((d("WAWebCommonMsgUtils").isPlaceholderMsg(g.type)||d("WAWebCommonMsgUtils").isFutureproofMsg(g.type))&&!(d("WAWebCommonMsgUtils").isPlaceholderMsg(b.type)||d("WAWebCommonMsgUtils").isFutureproofMsg(b.type))?e.update=!0:g.fromQuotedMsg?d("WAWebMsgCollection").MsgCollection.remove(g):k=!0);try{c("WAWebWid").isStatus(a)&&d("WAWebStatusCollection").StatusCollection.handleUpdate(b,null,!1),k||(yield d("WAWebMsgCollection").MsgCollection.processMultipleMessages(a,[babelHelpers["extends"]({},b,{recvFresh:!0,isNewMsg:!0})],e,"updateMessageUIAction",null,f))}catch(e){if(e instanceof d("WAWebBackendErrors").LogoutDrop)return;if(e instanceof d("WAWebDBProcessMessage").PreviousMsgNotUpdatableError){d("WALogger").WARN(j(),String(b.id),String(a));return}!c("gkx")("26258")?d("WALogger").WARN(i(),String(b.id),String(a),e.name,e.message,e.stack).tags("messaging").devConsole(e).sendLogs("msg_handler for MD: error storing/processing single message"):d("WALogger").WARN(h(),String(b.id),String(a),e.name,e.message,e.stack).tags("messaging").devConsole(e)}});return k.apply(this,arguments)}function e(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WAWebMsgCollection").MsgCollection.get(a.id);a!=null&&a["delete"]()});return l.apply(this,arguments)}g.updateUI=a;g.removePlaceholder=e}),98);
__d("WAWebUpdateMsgAcksAction",["Promise","WALogger","WAWebAckMsgAction","WAWebApiChat","WAWebHandleMsgReceiptCommon","WAWebMsgCollection","WAWebMsgKey","WAWebPnhGatingUtils","WAWebWid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["updateMsgPeerAcks: no message found for incoming ack, with msgKey: ",""]);i=function(){return a};return a}function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=[];a.forEach(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield l(a));b&&f.push(d("WAWebAckMsgAction").updateMsgAck(a,b,{from:b.from,to:b.to,ack:c,t:e}))});return function(b){return a.apply(this,arguments)}}());yield (h||(h=b("Promise"))).all(f)});return j.apply(this,arguments)}function e(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=[],g=[];a.forEach(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield l(a));b?g.push(d("WAWebAckMsgAction").updateMsgAck(a,b,{from:b.from,to:b.to,ack:c,t:e})):(d("WALogger").LOG(i(),a),a.fromMe||f.push(a))});return function(b){return a.apply(this,arguments)}}());f.length>0&&d("WAWebHandleMsgReceiptCommon").updateOrphanPeerReceipt(f,c,e);yield (h||(h=b("Promise"))).all(g)});return k.apply(this,arguments)}function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(b=d("WAWebMsgCollection").MsgCollection.get(a))!=null?b:d("WAWebMsgCollection").MsgCollection.getByEditMsgKey(a);if(!b&&d("WAWebPnhGatingUtils").isMatFullyEnabled()&&a.remote.isUser()){var e=(yield d("WAWebApiChat").getMatChat_DEPRECATED(a.remote));if(!c("WAWebWid").equals(e,a.remote)){e=new(c("WAWebMsgKey"))({fromMe:a.fromMe,remote:e,id:a.id});b=d("WAWebMsgCollection").MsgCollection.get(e)}}return b});return m.apply(this,arguments)}g.updateMsgOtherAcks=a;g.updateMsgPeerAcks=e}),98);
__d("WAWebUpdateReactionMessageUIAction",["Promise","WALogger","WAWebAck","WAWebDBGetReactions","WAWebFlattenedReactionCollection","WAWebReactionDataUtils","WAWebReactionGatingUtils","WAWebReactionTypeConversion","WAWebReactionsCollection","WAWebReactionsMsgAction","WAWebReactionsUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["processReactionMsg: ",""]);i=function(){return a};return a}function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("WAWebReactionsUtils").createReactionsRow(a));if(c==null)return;b=!b;a="reaction "+String(a.id)+" received to: "+String(a.reactionParentKey);d("WALogger").DEV(i(),a).tags("messaging");a=(yield d("WAWebDBGetReactions").existsReactionAddressingModeInsensitive({parentMsgKey:c.parentMsgKey,senderUserJid:c.senderUserJid}));if(a&&a.msgKey===c.msgKey){c=a;yield d("WAWebReactionsMsgAction").addOrUpdateReactionsModelCollection(c,{allowNotify:b})}});return j.apply(this,arguments)}function k(a){if(d("WAWebReactionGatingUtils").isFlattenedReactionsEnabled()){d("WAWebFlattenedReactionCollection").FlattenedReactionsCollection.remove(a);return}a=new Set(a);for(var b of d("WAWebReactionsCollection").ReactionsCollection.toArray())for(var c of b.reactions.toArray())for(var e of a){var f=c.senders.get(e);if(f!=null){c.senders.remove(e);a["delete"](e);if(a.size===0)return}}}function c(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){yield (h||(h=b("Promise"))).all(a.map(function(a){return d("WAWebReactionsMsgAction").addOrUpdateReactionsModelCollection(d("WAWebReactionDataUtils").reactionMsgDataToReactionRow(a),e)})),c.length>0&&k(c)});return l.apply(this,arguments)}function e(a){var b=[];for(var c of a.add)b.push(d("WAWebReactionTypeConversion").convertReactionRowToFlattenedReaction(d("WAWebReactionDataUtils").reactionMsgDataToReactionRow(c),c.ack!=null&&c.ack<d("WAWebAck").ACK.CLOCK));d("WAWebFlattenedReactionCollection").FlattenedReactionsCollection.addOrUpdateReaction(b);k(a.remove)}g.updateReactionUI=a;g.updateReactionCollection=c;g.updateFlattenedReactionCollection=e}),98);
__d("WAWebUpdateReplyApi",["WAWebMsgCollection","WAWebMsgKey","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){for(a of a.entries()){var b=a[0],e=a[1];b=d("WAWebMsgCollection").MsgCollection.get(c("WAWebMsgKey").fromString(b));b!=null&&(b.replyCount=b.replyCount!=null?b.replyCount+e:e)}});return h.apply(this,arguments)}g.updateReplyCount=a}),98);
__d("WAWebMsgBridgeApi",["WAWebAckMsgAction","WAWebBizAgentAction","WAWebEphemeralSyncResponse","WAWebExternalBetaEvents","WAWebHandleDeferredMessages","WAWebHistorySyncOnDemandAction","WAWebKeepInChatMsgAction","WAWebLinkDeviceAction","WAWebMsgCollection","WAWebUpdateEditedMessagesAction","WAWebUpdateMessageUIAction","WAWebUpdateMsgAcksAction","WAWebUpdateReactionMessageUIAction","WAWebUpdateReplyApi"],(function(a,b,c,d,e,f,g){a={processMultipleMessages:function(a){var b=a.chatId,c=a.msgObjs,e=a.meta,f=a.processMessagesOrigin,g=a.chatMsgsCollection;a=a.preserveOrder;return d("WAWebMsgCollection").MsgCollection.processMultipleMessages(b,c,e,f,g,a)},addInitialBotTypingIndicatorToChat:function(a){var b=a.chatId;a=a.msgKey;return d("WAWebMsgCollection").MsgCollection.addInitialBotTypingIndicatorToChat(b,a)},msgCollectionTrigger:function(a){a=a.name;d("WAWebMsgCollection").MsgCollection.trigger(a)},processKeepInChatMessages:function(a){var b=a.keepInChatMessages;a=a.allowNotification;return d("WAWebKeepInChatMsgAction").processKeepInChatMessages(b,a)},updateUnattributedMessages:function(a){var b=a.messageInfo;a=a.messages;return d("WAWebBizAgentAction").updateUnattributedMessages(b,a)},processKeepInChatMessage:function(a){var b=a.keepInChatMessage;a=a.allowNotification;return d("WAWebKeepInChatMsgAction").processKeepInChatMessage(b,{allowNotification:a})},updateEditedMessagesAction:function(a){a=a.messageEdits;d("WAWebUpdateEditedMessagesAction").updateEditedMessagesAction(a)},updateMessageUI:function(a){var b=a.chatId,c=a.msg,e=a.messageOverwriteOption,f=a.preserveOrder;a=a.isOffline;return d("WAWebUpdateMessageUIAction").updateUI(b,c,e,f,a)},updateMsgModelAcks:function(a){a=a.updates;a.forEach(function(a){var b=d("WAWebMsgCollection").MsgCollection.get(a.id);if(b==null)return;b.ack=a.ack})},updateReactionUI:function(a){var b=a.msg;a=a.reparsing;return d("WAWebUpdateReactionMessageUIAction").updateReactionUI(b,a)},updateReactionCollection:function(a){var b=a.msgs,c=a.removeReactions;a=a.allowNotifications;return d("WAWebUpdateReactionMessageUIAction").updateReactionCollection(b,c,{allowNotify:a})},reactionUIUpdate:function(a){return d("WAWebUpdateReactionMessageUIAction").updateFlattenedReactionCollection(a)},processOrphanReadReceipts:function(a){a=a.msgIds;return d("WAWebAckMsgAction").processOrphanReadReceipts(a)},updateMsgPeerAcks:function(a){var b=a.msgKeys,c=a.ack;a=a.t;return d("WAWebUpdateMsgAcksAction").updateMsgPeerAcks(b,c,a)},updateMsgOtherAcks:function(a){var b=a.msgKeys,c=a.ack;a=a.t;return d("WAWebUpdateMsgAcksAction").updateMsgOtherAcks(b,c,a)},handleDeferredMessages:function(){return c("WAWebHandleDeferredMessages")()},processEphemeralSyncResponse:function(a){a=a.msg;return d("WAWebEphemeralSyncResponse").processEphemeralSyncResponse(a)},refreshAltLinkingCode:function(a){a=a.ref;return d("WAWebLinkDeviceAction").refreshAltLinkingCode(a)},forceManualRefresh:function(a){a=a.ref;return d("WAWebLinkDeviceAction").forceManualRefresh(a)},errorAltLinking:function(){return d("WAWebLinkDeviceAction").errorAltLinking()},primaryHelloReceivedAltLinking:function(){return d("WAWebLinkDeviceAction").primaryHelloReceivedAltLinking()},changeOptInStatusForExternalWebBeta:function(){d("WAWebExternalBetaEvents").WAWebExternalBetaEvents.triggerBetaOptInStatusChanges()},successHistorySyncOd:function(a){a=a.chatId;return d("WAWebHistorySyncOnDemandAction").successHistorySyncOd(a)},errorHistorySyncOd:function(a){a=a.chatId;return d("WAWebHistorySyncOnDemandAction").errorHistorySyncOd(a)},hasMsgsInCollection:function(a){a=a.msgKeys;return a.map(function(a){return Boolean(d("WAWebMsgCollection").MsgCollection.get(a))})},deleteAssociatedBotCarouselMsgs:function(a){a=a.msgKeys;a.forEach(function(a){a=d("WAWebMsgCollection").MsgCollection.get(a);if(!a)return;a["delete"]();d("WAWebMsgCollection").MsgCollection.remove(a)})},removePlaceholder:function(a){a=a.msg;return d("WAWebUpdateMessageUIAction").removePlaceholder(a)},updateReplyCount:function(a){a=a.replyCountMap;return d("WAWebUpdateReplyApi").updateReplyCount(a)},updateMsgModelHostedBizEncStateMismatchFlagToTrue:function(a){a=a.msgId;a=d("WAWebMsgCollection").MsgCollection.get(a);if(a==null)return;a.hostedBizEncStateMismatch=!0},updateViewModeForMsgs:function(a){a=a.msgIdsViewModeMap;a.forEach(function(a,b){b=d("WAWebMsgCollection").MsgCollection.get(b);if(b==null)return;b.set({viewMode:a})})}};g.MsgBridgeApi=a}),98);
__d("WAWebMsgInfoBridgeApi",["WAWebMsgCollection","WAWebMsgInfoAction","WAWebMsgInfoCollection"],(function(a,b,c,d,e,f,g){a={updateMsgInfo:function(a){a=a.updates;for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e,f;if(b){if(c>=a.length)break;f=a[c++]}else{c=a.next();if(c.done)break;f=c.value}f=f;var g=f.msgKey,h=f.ack,i=f.participant;f=f.ts;e=(e=d("WAWebMsgCollection").MsgCollection.get(g))!=null?e:d("WAWebMsgCollection").MsgCollection.getByEditMsgKey(g);if(e==null)continue;g=d("WAWebMsgInfoCollection").MsgInfoCollection.get(e.id);if(g==null)continue;d("WAWebMsgInfoAction").updateMsgInfo(g,h,i,f)}}};g.MsgInfoBridgeApi=a}),98);
__d("WAWebMuteExpirations",["fbt","WAWeb-moment","WAWebClock"],(function(a,b,c,d,e,f,g,h){var i=[{getLabel:function(){return h._("__JHASH__YW0GMyGg5TG__JHASH__")},duration:8,radioId:"8-hours"},{getLabel:function(){return h._("__JHASH__hSf1oX_Xq3Y__JHASH__")},duration:7*24,radioId:"1-week"},{getLabel:function(){return h._("__JHASH__OCt3i8YXKoP__JHASH__")},duration:Number.POSITIVE_INFINITY,radioId:"always"}];function a(){return i[0].duration}function b(a){return a===Number.POSITIVE_INFINITY?d("WAWebClock").MUTE_ALWAYS_EXPIRATION_SENTINEL:a*60*60+c("WAWeb-moment")().unix()}g.ALL_MUTE_DURATIONS=i;g.getDefaultMuteDuration=a;g.calculateMuteExpiration=b}),226);
__d("WAWebMutePopup.react",["fbt","WAWebConfirmPopup.react","WAWebEmojiText.react","WAWebModalManager","WAWebMuteExpirations","WAWebRadio.react","WAWebUserPrefsGeneral","WAWebWDSText.react","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useState;function n(){d("WAWebModalManager").ModalManager.close()}function a(a){var b=a.onMute,c=a.children,e=d("useWAWebModelValues").useModelValues(a.mute,["id","expiration","callExpiration"]),f=m(null),g=f[0],i=f[1],j=function(a){i(a)},o=function(){return g!=null&&g!==0?g:d("WAWebUserPrefsGeneral").getLastChatMuteDuration()||d("WAWebMuteExpirations").getDefaultMuteDuration()};f=function(){d("WAWebModalManager").ModalManager.close();var c=o();d("WAWebUserPrefsGeneral").setLastChatMuteDuration(c);b(d("WAWebMuteExpirations").calculateMuteExpiration(c),c,a.entryPoint==null?0:a.entryPoint)};l(function(){e.expiration!=null&&e.expiration!==0&&e.callExpiration!=null&&e.callExpiration!==0&&n()},[e.callExpiration,e.expiration,a]);var p=a.onCancel||n,q=o();q=k.jsx(d("WAWebRadio.react").RadioGroup,{name:"ractionMuteDuration",theme:d("WAWebRadio.react").RadioWithLabelThemeEnum.LARGE,checkedValue:q,options:d("WAWebMuteExpirations").ALL_MUTE_DURATIONS.map(function(a){var b=a.getLabel,c=a.duration;a=a.radioId;return{value:c,label:b(),testid:a,onChange:function(){return j(c)}}})});return k.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{title:k.jsx(d("WAWebEmojiText.react").EmojiText,{text:a.title}),okText:h._("__JHASH__AySi36Pq4Yv__JHASH__"),onOK:f,onCancel:p,testid:void 0,children:[c!=null&&k.jsx(d("WAWebWDSText.react").WDSTextMuted,{paddingBottom:12,children:c}),q]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebNavBarItem.react",["$InternalEnum","WAWebEmojiText.react","WAWebFlex.react","WAWebPopoverContext.react","WAWebTabOrder","WAWebUISpacing","WAWebUnstyledButton.react","WAWebWDSText.react","WAWebWDSTooltip.react","react","stylex","useMergeRefs","useWAWebFocusState"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=h||(h=c("react")),l=e.useMemo,m=e.useRef,n=b("$InternalEnum")({Counter:"counter",Dot:"dot"}),o={container:{width:"x100vrsf",height:"x1vqgdyp",color:"xhgddhk",borderTopStartRadius:"xdxvlk3",borderTopEndRadius:"x1fglp",borderBottomEndRadius:"x1rp6h8o",borderBottomStartRadius:"xg6i1s1",":hover_cursor":"x1277o0a",":hover_backgroundColor":"x13i9f1t",$$css:!0},fullWidth:{width:"xh8yej3",$$css:!0},active:{color:"xw2npq5",backgroundColor:"xzs022t",$$css:!0},expanded:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},inlineActivityIndicatorContainer:{position:"x1n2onr6",$$css:!0},inlineActivityIndicator:{position:"x10l6tqk",$$css:!0},counterIndicator:{start:"x14ipxcb",left:null,right:null,bottom:"x1oozmrk",$$css:!0},dotIndicator:{start:"x1nc75zl",left:null,right:null,bottom:"xjifam0",$$css:!0}};function a(a){var b=a.icon,e=a.inlineActivityIndicator,f=a.inlineActivityIndicatorType,g=a.isActive,h=a.isExpanded,j=a.onClick,p=a.spacingXstyle;p=p===void 0?d("WAWebUISpacing").uiPadding.all8:p;var q=a.testid;q=a.text;a=a.title;var r=function(a){a.preventDefault(),j==null?void 0:j(a)},s=m(null),t=c("useWAWebFocusState")(),u=t[0];t[1];t=c("useMergeRefs")(u,s);u=l(function(){return k.jsx("div",{children:b})},[b]);q=h&&Boolean(q)&&k.jsx(d("WAWebFlex.react").FlexItem,{xstyle:d("WAWebUISpacing").uiMargin.start10,children:k.jsx(d("WAWebWDSText.react").WDSTextSectionTitle,{color:g?"primary":"secondary",weight:"semibold",textWrap:"ellipsis",textAlign:"start",children:k.jsx(d("WAWebEmojiText.react").EmojiText,{text:q,ellipsify:!0})})});f=!h&&e&&k.jsx(d("WAWebFlex.react").FlexItem,{className:(i||(i=c("stylex")))([o.inlineActivityIndicator,f===n.Counter?o.counterIndicator:o.dotIndicator]),children:e});return k.jsxs(d("WAWebFlex.react").FlexRow,{ref:t,xstyle:[o.container,d("WAWebUISpacing").uiMargin.vert2,g&&o.active,h&&[o.fullWidth,o.expanded]],children:[k.jsx(c("WAWebUnstyledButton.react"),{testid:void 0,"aria-label":a,onClick:r,ref:s,dataTab:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,xstyle:[o.fullWidth,p],children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:o.fullWidth,children:[k.jsxs(d("WAWebFlex.react").FlexRow,{grow:1,align:"center",xstyle:o.inlineActivityIndicatorContainer,children:[u,f,q]}),h&&e&&k.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",grow:0,basis:30,children:e})]})}),!h&&k.jsx(d("WAWebPopoverContext.react").WDSPopoverController,{targetRef:s,popover:k.jsx(d("WAWebWDSTooltip.react").WDSHoverTooltip,{targetRef:"context",alignment:d("WAWebWDSTooltip.react").PopoverAlignment.Center,position:d("WAWebWDSTooltip.react").PopoverPosition.End,enableEnterTransition:!1,children:a})})]})}a.displayName=a.name+" [from "+f.id+"]";g.InlineActivityIndicatorType=n;g.NavBarItem=a}),98);
__d("WAWebNoteBridgeApi",["WAWebNoteAction"],(function(a,b,c,d,e,f,g){a={updateNoteJidAction:function(a){var b=a.oldJid;a=a.newJid;void d("WAWebNoteAction").updateNoteJidAction(b,a)}};g.NoteBridgeApi=a}),98);
__d("WAWebPaymentInfoSyncBridgeApi",["WAWebPaymentInfo"],(function(a,b,c,d,e,f,g){a={setCPIInfo:function(a){a=a.cpiInfo;d("WAWebPaymentInfo").PaymentInfo.setCPIInfo(a)}};g.PaymentInfoSyncBridgeApi=a}),98);
__d("WAWebPipYoutubeVideoPlayer.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={fullscreen:"_ah_a",container:"_ah_b",youtubeContainer:"_ah_c",redesign:"_ah_d",strippedVideoControls:"_ah_e",opacityTransition:"_ah_f",dimmed:"_ah_g"};b=a;g["default"]=b}),98);
__d("WAWebYoutube.react",["Promise","WAWebNoop","WAWebTimeSpentLoggingNavigation","asyncToGeneratorRuntime","lodash","react","youtube-player"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useCallback,m=e.useEffect,n=e.useRef;function o(a,b){if(a.videoId!==b.videoId)return!0;a=((a=a.opts)==null?void 0:a.playerVars)||{};b=((b=b.opts)==null?void 0:b.playerVars)||{};return a.start!==b.start||a.end!==b.end}function p(a){return babelHelpers["extends"]({},a,{playerVars:babelHelpers["extends"]({},a==null?void 0:a.playerVars,{autoplay:0,start:0,end:0})})}function q(a,b){return!c("lodash").isEqual(p(a==null?void 0:a.opts),p(b==null?void 0:b.opts))}function r(a,b){return a.id===b.id||a.className===b.className}var s={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};function a(a){var e=a.onReady,f=e===void 0?c("WAWebNoop"):e;e=a.onError;var g=e===void 0?c("WAWebNoop"):e;e=a.onStateChange;var i=e===void 0?c("WAWebNoop"):e;e=a.onEnd;var j=e===void 0?c("WAWebNoop"):e;e=a.onPlay;var p=e===void 0?c("WAWebNoop"):e;e=a.onPause;var t=e===void 0?c("WAWebNoop"):e;e=a.onPlaybackRateChange;var u=e===void 0?c("WAWebNoop"):e;e=a.onPlaybackQualityChange;var v=e===void 0?c("WAWebNoop"):e;e=a.opts;var w=e===void 0?{playerVars:{}}:e,x=a.videoId;e=a.id;var y=e===void 0?null:e;e=a.className;var z=e===void 0?null:e;e=a.containerClassName;e=e===void 0?"":e;var A=n(null),B=n(null),C=n([]),D=n(a),E=l(function(a){return f(a)},[f]),F=l(function(a){return g(a)},[g]),G=l(function(a){i(a);switch(a.data){case s.ENDED:j(a);break;case s.PLAYING:p(a);break;case s.PAUSED:t(a);break;default:return}},[j,t,p,i]),H=l(function(a){return u(a)},[u]),I=l(function(a){return v(a)},[v]),J=l(function(){var a=babelHelpers["extends"]({},w,{videoId:x});B.current=c("youtube-player")(A.current,a);C.current.push(B.current.on("ready",E),(a=B.current)==null?void 0:a.on("error",F),(a=B.current)==null?void 0:a.on("stateChange",G),(a=B.current)==null?void 0:a.on("playbackRateChange",H),(a=B.current)==null?void 0:a.on("playbackQualityChange",I))},[F,I,H,E,G,w,x]);m(function(){J();return function(){var a;C.current.filter(Boolean).forEach(function(a){var b;(b=B.current)==null?void 0:b.off(a)});(a=B.current)==null?void 0:a.destroy()}},[]);var K=l(function(){var a;return(a=(a=B.current)==null?void 0:a.destroy().then(J))!=null?a:(h||(h=b("Promise"))).resolve()},[J]),L=l(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;a=(yield (a=B.current)==null?void 0:a.getIframe());y?a==null?void 0:a.setAttribute("id",y):a==null?void 0:a.removeAttribute("id");z?a==null?void 0:a.setAttribute("class",z):a==null?void 0:a.removeAttribute("class")}),[z,y]),M=l(function(){if(x==null){var a;(a=B.current)==null?void 0:a.stopVideo();return}a=!1;var b,c;"playerVars"in w&&(a=w.playerVars.autoplay===1,"start"in w.playerVars&&(b=w.playerVars.start),"end"in w.playerVars&&(c=w.playerVars.end));var d={videoId:x,startSeconds:b,endSeconds:c};if(a){(a=B.current)==null?void 0:a.loadVideoById(d);return}(a=B.current)==null?void 0:a.cueVideoById(d)},[w,x]);m(function(){var b=D.current;r(b,a)&&L();q(b,a)&&K();o(b,a)&&M();D.current=a},[a,K,L,M]);d("WAWebTimeSpentLoggingNavigation").useTsNavigation({surface:"youtube-player"});return k.jsx("span",{className:e,children:k.jsx("div",{id:y,className:z,ref:A})})}a.displayName=a.name+" [from "+f.id+"]";g.YouTube=a}),98);
__d("WAWebPipYoutubeVideoTag.react",["WAWebABProps","WAWebPttAudioChannels","WAWebUserPrefsGeneral","WAWebYoutube.react","lodash","react","useLazyRef","useWAWebInterval","useWAWebOnUnmount","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useImperativeHandle,m=b.useRef,n=c("lodash").debounce(function(a){d("WAWebUserPrefsGeneral").setMediaVolumeSetting(a)},500),o=c("lodash").debounce(function(a){d("WAWebUserPrefsGeneral").setMediaMutedSetting(a)},500),p={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},q={width:"100%",height:"100%",playerVars:{cc_load_policy:1,iv_load_policy:3,controls:0,playsinline:1,rel:0,modestbranding:0,autoplay:0}},r="https://whatsapp.com";e=j.forwardRef(a);function a(a,b){var e=babelHelpers["extends"]({},a),f=m(null),g=m(null),h=m(0),i=m(0),s=c("useLazyRef")(function(){return Symbol("audio-channel")}),t=m(null),u=(a=c("useWAWebStableCallback"))(function(){var a;(a=f.current)==null?void 0:a.playVideo()}),v=a(function(){var a;(a=f.current)==null?void 0:a.pauseVideo()}),w=a(function(a){var b;(b=f.current)==null?void 0:b.seekTo(a,!0)}),x=a(function(){var a;return(a=(a=f.current)==null?void 0:a.getCurrentTime())!=null?a:0}),y=a(function(){var a;return((a=(a=f.current)==null?void 0:a.getVolume())!=null?a:0)*.01}),z=a(function(){var a;return(a=(a=f.current)==null?void 0:a.getDuration())!=null?a:0}),A=a(function(){var a;return(a=(a=f.current)==null?void 0:a.isMuted())!=null?a:!1}),B=function(){var a=f.current;if(a){var b=a.getCurrentTime();b!==h.current&&(h.current=b,e.onTimeUpdate(b));b=a.getVideoLoadedFraction();if(b!==i.current){i.current=b;b=g.current?g.current.duration*b:0;e.onProgress([[0,b]])}b=g.current;if(b){var c=a.getVolume()*.01;a=a.isMuted();(c!==b.volume||a!==b.muted)&&(g.current=babelHelpers["extends"]({},b,{volume:c,muted:a}),e.onVolumeChange({volume:c,muted:a}))}}};B=c("useWAWebInterval")(B,250);var C=B[0],D=function(){if(typeof e.startTime==="number"){var a;(a=f.current)==null?void 0:a.seekTo(e.startTime,!0)}},E=a(function(a){var b=f.current;b&&(a?b.mute():b.unMute(),o(a))}),F=a(function(a){f.current&&(f.current.setVolume(a*100),n(a))});B=function(a){f.current=a.target;a=f.current;var b=d("WAWebUserPrefsGeneral").getMediaVolumeSettings(),c=b.volume;b=b.muted;var i=a.getDuration(),j=c!=null?c:a.getVolume()*.01,k=b!=null?b:a.isMuted(),l=a.getIframe().getBoundingClientRect(),m=l.width;l=l.height;g.current={duration:i,volume:j,muted:k,videoWidth:m,videoHeight:l};e.onLoadedMetadata(g.current);h.current=a.getCurrentTime();C();e.startTime!=null&&D();c!=null&&F(c);b!=null&&E(b)};a=function(a){t.current=d("WAWebPttAudioChannels").MainAudioChannel.claim(s.current,v),e.onPlaying()};var G=function(a){t.current==null?void 0:t.current(),e.onPause()},H=function(a){e.onEnded()},I=function(a){a.target.getPlayerState()!==p.PLAYING&&e.onPause()};k(function(){D()},[e.startTime]);c("useWAWebOnUnmount")(function(){t.current==null?void 0:t.current()});l(b,function(){return{play:u,pause:v,setCurrentTime:w,getCurrentTime:x,setVolume:F,setMuted:E,getVolume:y,getDuration:z,getMuted:A}},[u,v,w,x,F,E,y,z,A]);b=e.counterAbuseData;b=c("lodash").merge({},q,{playerVars:{autoplay:e.autoPlay?1:0,widget_referrer:r,origin:window.location.origin}},b!=null&&d("WAWebABProps").getABPropConfigValue("web_youtube_rcat_consumption_enabled")?{playerVars:{rct:b.counterAbuseToken,rctn:b.nonce}}:{});return j.jsx(d("WAWebYoutube.react").YouTube,{videoId:e.youtubeVideoId,opts:b,onReady:B,onPlay:a,onPause:G,onEnd:H,onError:e.onEnded,onStateChange:I})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("WAWebPipYoutubeVideoPlayer.react",["WAWebDomFullscreen","WAWebPipCloseButton.react","WAWebPipFullscreenToggleButton.react","WAWebPipShade.react","WAWebPipSharedVideoPlayer.react","WAWebPipVideoRefControls.react","WAWebPipYoutubeVideoPlayer.scss","WAWebPipYoutubeVideoTag.react","WAWebUA","WAWebVelocityTransitionGroup","lodash","react","useWAWebDebouncedCallback","useWAWebListener","useWAWebPrevious","useWAWebStableCallback"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=h||(h=c("react")),k=e.useEffect,l=e.useRef,m=e.useState,n=j.forwardRef(a);function a(a,b){var e=a.isFullscreenMode,f=a.isVideoPlaying,g=a.mouseDownCoorRef,h=a.mouseMoveRecently,i=a.onClose,k=a.onExposeIframeInPiP,l=a.onFullScreenToggle,m=a.videoMetadata,n=a.videoRef;a=function(a){if(n.current){var b=a;m&&a>=m.duration-1&&m.duration>1&&(b=m.duration-1);n.current.setCurrentTime(b)}};var o=null;if(m){var p,q="x1ey2m1c x78zum5 xvt47uu xtzzx4i xexx8yu x6x52a7 x18d9i69 xxpdul3 x10l6tqk xds687c x1hc1fzr x13dflua x19991ni xwji4o3";o=j.jsx("div",{ref:b,style:(p={},p[c("WAWebPipYoutubeVideoPlayer.scss").dimmed]=!h,p),children:j.jsx(d("WAWebPipVideoRefControls.react").VideoRefControls,{refVideo:n.current,videoMetadata:m,isFullscreenMode:e,isVideoPlaying:f,handleSetCurrentTimeByControls:a,controlsClassName:e?q:void 0,onFullscreenToggle:l,onClose:i,newPiPStyle:!0})});e||(o=j.jsx("div",{ref:b,className:"x5yr21d x10l6tqk xh8yej3",onMouseDown:function(a){g.current={x:a.clientX,y:a.clientY}},onMouseUp:function(a){var b=a.clientX;a=a.clientY;var c=g.current,d=c?c.x:void 0;c=c?c.y:void 0;d!=null&&c!=null&&Math.abs(b-d)+Math.abs(a-c)<4&&k(!0)},children:o}))}return o}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b,e=a.onSetFullscreenToggleCallback,f=a.onRefSet,g=a.onVideoEnded,h=a.onError,i=a.startTime,o=a.onVideoMetadataChange,p=a.onClose,q=l(null),r=l(null),s=l(null),t=l(null),u=m(void 0),v=u[0],w=u[1];u=m(!1);var x=u[0],y=u[1];u=m(!1);var z=u[0],A=u[1];u=m(!1);var B=u[0],C=u[1];u=m(!1);var D=u[0],E=u[1];u=m(!1);var F=u[0],G=u[1],H=c("useWAWebPrevious")(x),I=c("useWAWebPrevious")(v);d("useWAWebListener").useListener(c("WAWebDomFullscreen"),"fullscreen_change",function(){c("WAWebDomFullscreen").isFullscreenMode()&&c("WAWebDomFullscreen").getFullscreenElement()===q.current?E(!0):c("WAWebDomFullscreen").isFullscreenMode()||E(!1)});var J=function(a){a.stopPropagation(),D?c("WAWebDomFullscreen").exitFullscreen():c("WAWebDomFullscreen").requestFullscreen(q.current)},K=c("useWAWebDebouncedCallback")(function(){C(!1)},d("WAWebPipSharedVideoPlayer.react").FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT);k(function(){e==null?void 0:e(J)},[]);u=c("useWAWebStableCallback")(function(a){r.current=a,a!=null&&(f==null?void 0:f(a))});var L=function(){g&&g(),y(!1)},M=function(){h&&h()},N=function(){var a,b=(a=(a=r.current)==null?void 0:a.getCurrentTime())!=null?a:null;w(function(a){return a&&b!=null?babelHelpers["extends"]({},a,{currentTime:b}):a});y(!1);s.current=!0},O=function(){var a,b=(a=(a=r.current)==null?void 0:a.getCurrentTime())!=null?a:null;w(function(a){return a&&b!=null?babelHelpers["extends"]({},a,{currentTime:b}):a});y(!0);s.current=!0},P=function(a){var b=i!=null?i:0;w({duration:a.duration,currentTime:b,volume:a.volume,muted:a.muted,bufferedTime:0})},Q=function(a){w(function(b){return b?babelHelpers["extends"]({},b,{volume:a.volume,muted:a.muted}):b})},R=function(a){if(s.current){s.current=!1;return}w(function(b){return b?babelHelpers["extends"]({},b,{currentTime:a}):b})},S=function(a){a=a[0];var b=a[1];w(function(a){return a?babelHelpers["extends"]({},a,{bufferedTime:b}):a})};k(function(){(H!==x||!c("lodash").isEqual(I,v))&&(o==null?void 0:o(v,x))},[x,H,o,v,I]);var T=a.exposeIframeInPiP||F||D?null:j.jsx("div",{className:"xamhcws xol2nv xlxy82 x19p7ews x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x166i9x0 xku1vgj x1n7ce0x x7hhpp6 x5yr21d x17qophe x10l6tqk x13vifvy xh8yej3"});b=j.jsxs("div",{className:"x10l6tqk x13vifvy xds687c x1ey2m1c x17qophe",style:(b={},b[c("WAWebPipYoutubeVideoPlayer.scss").fullscreen]=D,b),children:[T,j.jsx(c("WAWebPipYoutubeVideoTag.react"),{ref:u,youtubeVideoId:a.youtubeVideoId,startTime:a.startTime,onEnded:L,onError:M,onLoadedMetadata:P,onPause:N,onPlaying:O,onProgress:S,onTimeUpdate:R,onVolumeChange:Q,autoPlay:a.autoPlay,counterAbuseData:a.counterAbuseData})]});T=!a.disablePiPControls||D?j.jsx(n,{videoMetadata:v,videoRef:r,mouseDownCoorRef:t,mouseMoveRecently:B,isVideoPlaying:x,isFullscreenMode:D,onFullScreenToggle:J,onClose:p,onExposeIframeInPiP:G}):null;var U;d("WAWebUA").UA.isSafari||(U=j.jsx(c("WAWebPipFullscreenToggleButton.react"),{isFullscreenMode:D,onClick:J}));u=j.jsx(c("WAWebPipShade.react"),{theme:"full-rounded"});L=D?j.jsxs(j.Fragment,{children:[b,T]}):j.jsxs(j.Fragment,{children:[b,j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"fade-fast",children:z&&B&&!F&&!a.disablePiPControls?[u,T,U,j.jsx(c("WAWebPipCloseButton.react"),{isFullscreenMode:D,onClick:function(b){b.stopPropagation(),a.onClose()}},"close")]:null})]});return j.jsx("div",{ref:q,className:"xums3t4 x5yr21d xh8yej3",style:(M={},M[c("WAWebPipYoutubeVideoPlayer.scss").fullscreen]=D,M[c("WAWebPipYoutubeVideoPlayer.scss").redesign]=!0,M),onMouseEnter:function(a){if(F){if(d("WAWebUA").UA.isGecko&&z)return;G(!1)}A(!0)},onMouseLeave:function(a){A(!1)},onMouseDown:function(a){D&&a.stopPropagation()},onMouseMove:function(a){z||A(!0),B||C(!0),K()},children:L},"elementsWrapped")}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),98);
__d("WAWebPnhCtwaDailyStatsUtils",["WALogger","WAWebChatThreadLogging","WAWebDailyAggregatedStatsCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Wam:IncrementPnhCtwaDailyCount"]);h=function(){return a};return a}function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebDailyAggregatedStatsCollection").DailyAggregatedStatsCollection.gaddForToday();d("WALogger").DEV(h()).devConsole(a);a=(yield d("WAWebChatThreadLogging").getChatThreadID(a.toJid()));if(a!=null){var c=b.pnhCtwaActions[a];b.pnhCtwaActions[a]=c!=null?c+1:1}});return i.apply(this,arguments)}g.incrementPnhCtwaDailyCount=a}),98);
__d("WAWebPrimaryFeaturesBridgeApi",["WAWebPrimaryFeaturesModel"],(function(a,b,c,d,e,f,g){a={setPrimaryFeatures:function(a){a=a.primaryFeatures;d("WAWebPrimaryFeaturesModel").PrimaryFeatures.setPrimaryFeatures(a)}};g.PrimaryFeaturesBridgeApi=a}),98);
__d("WAWebPrivacyBridgeApi",["WAWebUserDisclosureCollection","WAWebUserDisclosureModel"],(function(a,b,c,d,e,f,g){a={updateUserDisclosures:function(a){a=a.userDisclosures;var b=[];a.map(function(a){a=new(c("WAWebUserDisclosureModel"))({id:a.id,accepted:a.accepted,lastUpdated:new Date()});b.push(a)});void d("WAWebUserDisclosureCollection").UserDisclosureCollection.add(b,{merge:!0})}};g.PrivacyBridgeApi=a}),98);
__d("WAWebProfilePicThumbBridgeApi",["WAWebProfilePicThumbCollection"],(function(a,b,c,d,e,f,g){a={removeProfilePicThumb:function(a){a=a.wid;a=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.gadd(a);a.set({tag:void 0,eurl:void 0,previewEurl:void 0,previewDirectPath:void 0,fullDirectPath:void 0,filehash:void 0})},markProfilePicStale:function(a){a=a.profilePicThumbWid;a=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a);if(!a)return;a.markStale()}};g.ProfilePicThumbBridgeApi=a}),98);
__d("WAWebPttCancelButton.react",["fbt","WAWebDeleteIcon","WAWebPttButton.react","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={pttCancelButton:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",width:"x1n7h9c3",height:"x1s1d1n7",color:"xlp4hpx",":hover_color":"x1gddwk9",$$css:!0},pttCancelButtonRefresh:{color:"xzwifym",":hover_color":"x144v4sp",$$css:!0}};b=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var c=a.onConfirm,e=a.confirmOnMouseUp;a=a.disabled;var f=d("WAWebUIRefreshGatingUtils").composeBoxRefreshEnabled(),g=f?j.jsx(d("WAWebDeleteIcon").DeleteIcon,{}):j.jsx(j.Fragment,{children:j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 22",className:"x1kky2od",children:j.jsx("path",{d:"M5,0,3,2H0V4H16V2H13L11,0ZM15,5H1V19.5A2.5,2.5,0,0,0,3.5,22h9A2.5,2.5,0,0,0,15,19.5Z",fill:"currentColor"})})});return j.jsx(d("WAWebPttButton.react").PttButton,{ref:b,xstyle:[k.pttCancelButton,f&&k.pttCancelButtonRefresh],testid:void 0,ariaLabel:h._("__JHASH__q7leJJI5-_X__JHASH__"),confirmOnMouseUp:e,onConfirm:c,disabled:a,children:g})}a.displayName=a.name+" [from "+f.id+"]";g.PttCancelButton=b}),226);
__d("WAWebRecordingSessionStateEnum",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["NOT_STARTED","RECORDING","PAUSED","STOPPED","ERROR"]);f.RecordingSessionState=a}),66);
__d("WAWebPttComposerRecordingSessionGetters",["WAWebGetters","WAWebGettersCaches","WAWebRecordingSessionStateEnum"],(function(a,b,c,d,e,f,g){a=d("WAWebGetters").createGetterFactories({createCache:d("WAWebGettersCaches").createRecordingSessionCache});b=a.field;c=a.computed;e=a.clearCacheFor;f=e;a=b("exceedsMinDuration");e=b("recordingState");b=c(function(a){a=a[0];return a===d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING},[e]);g.clearRecordingSessionGetterCacheFor=f;g.getExceedsMinDuration=a;g.getIsRecording=b}),98);
__d("WAWebPttComposerStreamingEncryptor",["Promise","WACryptoAesCbc","WACryptoHmac","WAMediaCalculateFilehash","WAMediaCrypto","WATypedArraysConcat","WAWebCryptoCreateMediaKeys","WAWebMmsMediaTypes","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i=function(){function a(a){var c=a.mediaKeys,e=a.encKey,f=a.onChunkEncrypted;a=a.onEncryptionCompleted;this.$6=(h||(h=b("Promise"))).resolve();this.$3=c;this.$4=e;this.$5=d("WACryptoAesCbc").getIv(this.$3.iv);this.$2=[this.$5];this.$1=new Uint8Array([]);this.$8=f;this.$9=a;this.$7=!1}var e=a.prototype;e.getMediaKeys=function(){return this.$3};e.encryptChunk=function(a,e){var f=this;if(this.$7)throw c("err")("Encryption was already finalized");e&&(this.$7=!0);var g=this.$10(a,e);if(g==null)return;this.$6=this.$6.then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WACryptoAesCbc").aesCbcEncryptChunk(e,g,f.$5,f.$4));f.$8==null?void 0:f.$8(a.encryptedChunk);f.$11(a,e)}))};e.$11=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){this.$2.push(a.encryptedChunk);this.$5=a.nextIv;if(!b)return;a=d("WATypedArraysConcat").concatTypedArrays(Uint8Array,this.$2,d("WAMediaCrypto").HMAC_LENGTH);b=this.$2[0].byteLength;var c=a.byteLength-d("WAMediaCrypto").HMAC_LENGTH,e=a.subarray(0,c);e=(yield d("WACryptoHmac").hmacSha256(this.$3.macKey,e,d("WAMediaCrypto").HMAC_LENGTH));a.set(new Uint8Array(e),c);c=a.subarray(b);a=(yield d("WAMediaCalculateFilehash").calculateFilehash(c));this.$9==null?void 0:this.$9(e,a)});function c(b,c){return a.apply(this,arguments)}return c}();e.$10=function(a,b){this.$1=d("WATypedArraysConcat").concatTypedArrays(Uint8Array,[this.$1,a]);if(this.$1.length>=d("WACryptoAesCbc").AES_CBC_BLOCK_SIZE||b){a=b?this.$1.length:Math.floor(this.$1.length-this.$1.length%d("WACryptoAesCbc").AES_CBC_BLOCK_SIZE);b=this.$1.slice(0,a);b.subarray();var c=new Uint8Array(this.$1.length-a);c.set(this.$1.slice(a,this.$1.length));this.$1=c;return b}};return a}();function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("WAWebCryptoCreateMediaKeys")(d("WAWebMmsMediaTypes").MEDIA_TYPES.PTT,a.mediaKey)),e=(yield d("WACryptoAesCbc").importRawKey(b.encKey));return new i({mediaKeys:b,encKey:e,onChunkEncrypted:a.onChunkEncrypted,onEncryptionCompleted:a.onEncryptionCompleted})});return j.apply(this,arguments)}g.StreamingEncryptor=i;g.createStreamingEncryptor=a}),98);
__d("WAWebWamEnumPttResultType",[],(function(a,b,c,d,e,f){a=Object.freeze({SENT:1,CANCELLED:2,TOO_SHORT:3});f.PTT_RESULT_TYPE=a}),66);
__d("WAWebWamEnumPttSourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({FROM_CONVERSATION:0,FROM_VOICEMAIL:1});f.PTT_SOURCE_TYPE=a}),66);
__d("WAWebPttWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumPttResultType","WAWebWamEnumPttSourceType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({Ptt:[458,{pttAvgNoiseLoudness:[11,a.TYPES.NUMBER],pttAvgNoiseLoudnessReduction:[12,a.TYPES.NUMBER],pttAvgSpeechLoudness:[13,a.TYPES.NUMBER],pttAvgSpeechLoudnessReduction:[14,a.TYPES.NUMBER],pttDraftPlayCnt:[7,a.TYPES.INTEGER],pttDraftSeekCnt:[8,a.TYPES.INTEGER],pttDuration:[5,a.TYPES.TIMER],pttLock:[4,a.TYPES.BOOLEAN],pttPauseCnt:[9,a.TYPES.INTEGER],pttResult:[1,d("WAWebWamEnumPttResultType").PTT_RESULT_TYPE],pttSize:[3,a.TYPES.NUMBER],pttSource:[2,d("WAWebWamEnumPttSourceType").PTT_SOURCE_TYPE],pttStop:[6,a.TYPES.BOOLEAN],pttStopTapCnt:[10,a.TYPES.INTEGER]},[1,1,1],"regular"]},{Ptt:[]});g.PttWamEvent=b}),98);
__d("WAWebUploadStreamerRefactorGatingUtils",["WAWebABProps"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebABProps").getABPropConfigValue("web_ptt_streamer_upload")}g.isUploadStreamerRefactorEnabled=a}),98);
__d("WAWebPttComposerRecordingSession",["fbt","invariant","$InternalEnum","Promise","WAAbortError","WAHex","WALogger","WAMediaCalculateFilehash","WANullthrows","WAPromiseRaceAbort","WAPttComposerRecorder","WAPttComposerScaleWaveform","WAWebBaseModel","WAWebCallCollection","WAWebConfirmPopup.react","WAWebCreateMediaUploadMetrics","WAWebCryptoRandomMediaKey","WAWebGuidePopup.react","WAWebMedia","WAWebMediaCapture","WAWebMediaGetUploadOriginForChat","WAWebMediaLoad","WAWebMediaOpaqueData","WAWebMiscErrors","WAWebMmsClientUploadStreamer","WAWebMmsMediaTypes","WAWebModalManager","WAWebNoop","WAWebPresenceChatAction","WAWebPresenceCollection","WAWebPttAudioChannels","WAWebPttAudioManager","WAWebPttComposerRecordingSessionGetters","WAWebPttComposerStreamingEncryptor","WAWebPttDailyUtils","WAWebPttWamEvent","WAWebRecordingSessionStateEnum","WAWebSerializeError","WAWebServerPropsModel","WAWebTimeSpentLoggingExternal","WAWebUploadStreamerRefactorGatingUtils","WAWebWamEnumPttResultType","WAWebWamEnumPttSourceType","WAWebWamEnumTsExternalEventSource","WAWebWamMediaMetricUtils","asyncToGeneratorRuntime","err","lodash","react"],(function(a,b,c,d,e,f,g,h,i){var j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error resuming recording session\n",""],["Error resuming recording session\\n",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["PTT Recording Error\n",""],["PTT Recording Error\\n",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["PTT Streaming Upload cancelled due to a problem encrypting"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["PTT Streaming Upload cancelled due to a problem when finalizing upload"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["onEncryptionCompleted: ptt-streaming-upload-error: ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["PTT Streaming Upload cancelled due to a problem uploading"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["onChunkEncrypted: ptt-streaming-upload-error: ",""]);r=function(){return a};return a}var s=k||c("react"),t=b("$InternalEnum").Mirrored(["CANCEL_BUTTON","PTT_TOO_SHORT","SENT","OTHER"]),u=1,v=8.5,w=64;e=function(a){babelHelpers.inheritsLoose(e,a);function e(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.id=d("WAWebBaseModel").prop(),c.duration=d("WAWebBaseModel").prop(0),c.exceedsMinDuration=d("WAWebBaseModel").prop(!1),c.recordingState=d("WAWebBaseModel").prop(d("WAWebRecordingSessionStateEnum").RecordingSessionState.NOT_STARTED),c._hasStreamingUploadFailed=d("WAWebBaseModel").prop(!1),c._draftPreviewSeen=d("WAWebBaseModel").prop(!1),c._draftPlayCount=d("WAWebBaseModel").prop(0),c._draftSeekCount=d("WAWebBaseModel").prop(0),c._pauseCount=d("WAWebBaseModel").prop(0),c._stopTapCount=d("WAWebBaseModel").prop(0),b)||babelHelpers.assertThisInitialized(c)}var f=e.prototype;f.initialize=function(){var b=this;a.prototype.initialize.call(this);var c=null;this.on("change:recordingState",function(){b._endTsExternalEvent==null?void 0:b._endTsExternalEvent();if(b._chat==null)return;d("WAWebPttComposerRecordingSessionGetters").getIsRecording(b)?(c=d("WAWebPttAudioChannels").MainAudioChannel.claim(b,function(){b.pause()}),d("WAWebPresenceChatAction").markRecording(b._chat),b._endTsExternalEvent=d("WAWebTimeSpentLoggingExternal").beginTsExternalEvent(d("WAWebWamEnumTsExternalEventSource").TS_EXTERNAL_EVENT_SOURCE.PTT_RECORD)):(c==null?void 0:c(),d("WAWebPresenceChatAction").markPaused(b._chat))})};f.start=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;switch(this.recordingState){case d("WAWebRecordingSessionStateEnum").RecordingSessionState.NOT_STARTED:break;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING:return!0;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED:return this.resume();case d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED:case d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR:throw c("err")("Can't start recording from state "+this.recordingState)}var e=c("WAWebCreateMediaUploadMetrics")(d("WAWebMmsMediaTypes").MEDIA_TYPES.PTT,c("WAWebMediaGetUploadOriginForChat")(this._chat),0,!1,!1),f=e.handleUploadHostFound,g=e.handleUploadAttemptSuccess,h=e.handleUploadAttemptError,i=e.handleUploadSuccess,k=e.handleUploadError,l=e.handleEncryptionStart,s=e.handleEncryptionSuccess,t=e.handleStreamUploadStart,v=e.handleUploadProgress;e=e.handleSendMessageStart;this._handleSendMessageStart=e;if(d("WAWebUploadStreamerRefactorGatingUtils").isUploadStreamerRefactorEnabled()){var w=c("WAWebCryptoRandomMediaKey")();this._earlyUploadPromise=new(j||(j=b("Promise")))(function(b){a._resolveEarlyUploadPromise=b});e=new AbortController();this._uploaderAbortController=e;var x=(yield d("WAMediaCalculateFilehash").getRandomFilehash()),y=new(d("WAWebMmsClientUploadStreamer").UploadStreamer)({encFilehash:x,token:x,type:d("WAWebMmsMediaTypes").MEDIA_TYPES.PTT,signal:e.signal,byteOffset:0,onUploadHostFound:f,onUploadAttemptSuccess:g,onUploadAttemptError:h,onProgress:function(a,b){v(a.loaded+b)},onStreamUploadStart:t,mediaId:d("WAWebWamMediaMetricUtils").generateMediaEventId()});y.startUploadFromClient();this._encryptor=(yield d("WAWebPttComposerStreamingEncryptor").createStreamingEncryptor({mediaKey:w.key,onChunkEncrypted:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){try{yield y.uploadChunkFromClient(b)}catch(b){a._resolveEarlyUploadPromise==null?void 0:a._resolveEarlyUploadPromise(null);a._hasStreamingUploadFailed=!0;if(b.name===d("WAAbortError").ABORT_ERROR)return;d("WALogger").ERROR(r(),b.message);d("WALogger").ERROR(q()).devConsole(b).sendLogs("ptt-streaming-upload-failed");k(b)}});function e(a){return c.apply(this,arguments)}return e}(),onEncryptionCompleted:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){s();try{yield y.uploadChunkFromClient(new Uint8Array(b));b=(yield y.finalizeUploadFromClient(c));a._resolveEarlyUploadPromise==null?void 0:a._resolveEarlyUploadPromise({directPath:b.directPath,mediaKey:w.key,mediaKeyTimestamp:w.timestamp,encFilehash:c,url:b.url});i()}catch(b){a._resolveEarlyUploadPromise==null?void 0:a._resolveEarlyUploadPromise(null);a._hasStreamingUploadFailed=!0;if(b.name===d("WAAbortError").ABORT_ERROR)return;d("WALogger").ERROR(p(),b.message);d("WALogger").ERROR(o()).devConsole(b).sendLogs("ptt-streaming-upload-failed");k(b)}});function e(a,b){return c.apply(this,arguments)}return e}()}))}try{var A=!0;this._recorder=new(c("WAPttComposerRecorder"))({createStream:z,waveformSampleRate:this.getWaveformSampleRate(),onDuration:function(b){a.duration=b,a.exceedsMinDuration=b>=u},onPage:function(b,c){if(!d("WAWebUploadStreamerRefactorGatingUtils").isUploadStreamerRefactorEnabled()||a._hasStreamingUploadFailed)return;try{var e;A&&(l(),A=!1);(e=a._encryptor)==null?void 0:e.encryptChunk(b,c)}catch(b){d("WALogger").ERROR(n()).devConsole(b),a._resolveEarlyUploadPromise==null?void 0:a._resolveEarlyUploadPromise(null),a._hasStreamingUploadFailed=!0}}});x=(yield this._recorder.start());if(x){this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING;d("WAWebPresenceCollection").PresenceCollection.update(this._chat.presence.id);d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.RECORD,c("WANullthrows")(this._chat.kind));return!0}}catch(a){d("WALogger").ERROR(m(),c("WAWebSerializeError")(a)).devConsole(a)}this._endSession();this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR;return!1});function e(){return a.apply(this,arguments)}return e}();f.getLiveWaveformSamples=function(){var a;return(a=(a=this._recorder)==null?void 0:a.getLiveWaveformSamples())!=null?a:[]};f.getCorrectedWaveformSamples=function(){var a;return(a=(a=this._recorder)==null?void 0:a.getCorrectedWaveformSamples())!=null?a:[]};f.getScaledWaveformSamples=function(){return c("WAPttComposerScaleWaveform")(this.getCorrectedWaveformSamples(),w).map(function(a){return Math.floor(a*100)})};f.getPreciseDuration=function(){var a;return(a=(a=this._recorder)==null?void 0:a.getPreciseDuration())!=null?a:0};f._endSession=function(){var a;(a=this._recorder)==null?void 0:a.stop()};f.pause=function(){if(this.recordingState!==d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING)return;if(!this.exceedsMinDuration){this.stop(t.PTT_TOO_SHORT);return}this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED;var a=c("WANullthrows")(this._recorder);a.pause()};f.resume=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){switch(this.recordingState){case d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING:return!0;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED:break;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.NOT_STARTED:case d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED:case d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR:throw c("err")("Can't resume recording from state "+this.recordingState)}this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING;try{var a=c("WANullthrows")(this._recorder);a=(yield a.resume());if(!a){this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED;return!1}return!0}catch(a){this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR;d("WALogger").ERROR(l(),c("WAWebSerializeError")(a));return!1}});function e(){return a.apply(this,arguments)}return e}();f.stop=function(a){if(this.recordingState===d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED)return;this.recordingState=d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED;this._endSession();if(this._recorder==null)return;a===t.SENT?d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.SEND,c("WANullthrows")(this._chat.kind)):this.duration>u&&d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.CANCEL,c("WANullthrows")(this._chat.kind));a!==t.SENT&&this._uploaderAbortController&&this._uploaderAbortController.abort();a=y(a);a!=null&&this._sendPttWamEvent(a)};f._getDataForSending=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=c("WANullthrows")(this._recorder);a=(yield a.getCompleteRecording());return c("WAWebMediaOpaqueData").createFromData(a,a.type)});function a(){return a.apply(this,arguments)}return a}();f._getDataForPlayback=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=c("WANullthrows")(this._recorder);a=(yield a.getPartialRecording());a=(yield d("WAWebMediaLoad").transcode(a));return c("WAWebMediaOpaqueData").createFromData(a,a.type)});function a(){return a.apply(this,arguments)}return a}();f.getAudioForPlayback=function(){var a=this;return new B(function(){return a._getDataForPlayback()})};f.getWaveformSampleRate=function(){return v};f.send=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;a===void 0&&(a=!1);this._handleSendMessageStart==null?void 0:this._handleSendMessageStart(a);var e=c("WANullthrows")(this._recorder),f=this._chat,g=c("WAPromiseRaceAbort")(this._getDataForSending(),f.deleteSignal);b=((b=f.getComposeContents())==null?void 0:b.ctwaContext)||void 0;e=d("WAWebMedia").prepRawMedia(g,{isPtt:!0,precomputedFields:{duration:Math.floor(e.getDuration()),waveform:new Uint8Array(this.getScaledWaveformSamples())}});e.sendToChat(f,{quotedMsg:f.composeQuotedMsg||void 0,addEvenWhilePreparing:!a,ctwaContext:b,isViewOnce:a},this._earlyUploadPromise);f.composeQuotedMsg=null;this.stop(t.SENT);yield g["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")))});function e(b){return a.apply(this,arguments)}return e}();f._sendPttWamEvent=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("WANullthrows")(this._recorder);b=(yield b.getCompleteRecording());new(d("WAWebPttWamEvent").PttWamEvent)({pttSource:d("WAWebWamEnumPttSourceType").PTT_SOURCE_TYPE.FROM_CONVERSATION,pttResult:a,pttDuration:Math.round(this.duration)*1e3,pttSize:c("lodash").round((a=b.size)!=null?a:0,-3),pttStop:this._draftPreviewSeen,pttDraftPlayCnt:this._draftPlayCount,pttDraftSeekCnt:this._draftSeekCount,pttPauseCnt:this._pauseCount,pttStopTapCnt:this._stopTapCount}).commit()});function a(b){return a.apply(this,arguments)}return a}();f.markDraftPreviewSeen=function(){if(this._draftPreviewSeen)return;this._draftPreviewSeen=!0;d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.DRAFT_REVIEW,c("WANullthrows")(this._chat.kind))};f.incrementDraftPlayCount=function(){this._draftPlayCount++};f.incrementDraftSeekCount=function(){this._draftSeekCount++};f.incrementPauseButtonCount=function(){d("WAWebServerPropsModel").ServerProps.pttPausableEnabled?(this._pauseCount++,this._pauseCount===1&&d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.PAUSED_RECORD,c("WANullthrows")(this._chat.kind))):(this._stopTapCount++,this._stopTapCount===1||i(0,56370),d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.STOP_TAP,c("WANullthrows")(this._chat.kind)))};f["delete"]=function(){a.prototype["delete"].call(this),d("WAWebPttComposerRecordingSessionGetters").clearRecordingSessionGetterCacheFor(this)};return e}(d("WAWebBaseModel").BaseModel);e.Proxy="recordingSession";var x=d("WAWebBaseModel").defineModel(e);function a(a){return new x({id:d("WAHex").randomHex(8),_chat:a.chat})}function y(a){switch(a){case t.SENT:return d("WAWebWamEnumPttResultType").PTT_RESULT_TYPE.SENT;case t.PTT_TOO_SHORT:return d("WAWebWamEnumPttResultType").PTT_RESULT_TYPE.TOO_SHORT;case t.CANCEL_BUTTON:return d("WAWebWamEnumPttResultType").PTT_RESULT_TYPE.CANCELLED;case t.OTHER:return null}}function z(a){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(c("WAWebCallCollection").activeCall){d("WAWebModalManager").ModalManager.open(s.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:h._("__JHASH__4zG1ZkGyzX0__JHASH__")}));return null}var b=d("WAWebMediaCapture").start("microphone"),e=b.disposeStream;b=b.asyncStream;a.addEventListener("abort",function(){e()},{once:!0});try{return yield b}catch(a){if(a instanceof d("WAWebMiscErrors").GetUserMedia.NotAllowedError){d("WAWebModalManager").ModalManager.open(s.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.MIC_FAIL,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_UNBLOCK}));return null}if(a instanceof d("WAWebMiscErrors").GetUserMedia.GetUserMediaError){d("WAWebModalManager").ModalManager.open(s.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.MIC_MISSING,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_NONE}));return null}throw a}});return A.apply(this,arguments)}var B=function(){function a(a){var c=this;this._opaqueDataPromise=a();a=d("WAWebPttAudioManager").AudioManager.createAudioProxy();this._audio=a;this._unregisterFromAudioChannel=d("WAWebPttAudioChannels").MainAudioChannel.registerMedia(a);b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c._opaqueDataPromise),b=c._audio;if(b==null)return;b.src=a.url()})()}var c=a.prototype;c.getAudio=function(){this._audio!=null||i(0,56371);return this._audio};c.dispose=function(){var a=this,c=this._audio;if(c==null)return;this._unregisterFromAudioChannel();this._audio=null;b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield a._opaqueDataPromise);b.autorelease()})()};return a}();g.RecordingSessionStopReason=t;g.RecordingSession=x;g.createRecordingSession=a;g.AudioResource=B}),226);
__d("WAWebPttCustomIcons",["WAWebPauseIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={outlined:{strokeWidth:"x8pzrqk",stroke:"x1b4pc8b",fill:"xbh8q5q",$$css:!0}};function a(a){return i.jsx(d("WAWebPauseIcon").PauseIcon,babelHelpers["extends"]({},a,{innerStyles:{primary:j.outlined}}))}a.displayName=a.name+" [from "+f.id+"]";g.OutlinedPauseCustomIcon=a}),98);
__d("WAWebPttPauseResumeRecordingButton.react",["fbt","WAWebPttButton.react","WAWebPttCustomIcons","WAWebUIRefreshGatingUtils","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={pttPauseAndResumeRecordingButton:{position:"x1n2onr6",width:"x1td3qas",height:"x10w6t97",color:"xz0mkc0",$$css:!0},pttPauseAndResumeRecordingButtonRefresh:{color:"xzwifym",":hover_color":"x144v4sp",$$css:!0},pttPauseIconRefreh:{width:"xvy4d1p",height:"xxk0z11",$$css:!0},pttPauseAndResumeRecordingButtonEnabled:{":hover_color":"xa8l713",$$css:!0},growOnHover:{transition:"x14sdrxx",transformOrigin:"x1g0ag68",$$css:!0},growOnHoverEnabled:{":hover_transform":"x1lcra6a",$$css:!0},icon:{position:"x10l6tqk",top:"x13vifvy",start:"x17qophe",width:"xh8yej3",height:"x5yr21d",opacity:"xg01cxk",transition:"xamds3w",transform:"xziw2gg",$$css:!0},iconRefresh:{position:"x1n2onr6",display:"x78zum5",justifyContent:"xl56j7k",alignItems:"x6s0dn4",$$css:!0},iconActive:{opacity:"x1hc1fzr",transform:"x3oybdh",$$css:!0}};b=k.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.recording,f=a.onConfirm,g=a.confirmOnMouseUp;a=a.disabled;a=a===void 0?!1:a;var i=d("WAWebUIRefreshGatingUtils").composeBoxRefreshEnabled(),m=e?h._("__JHASH__PonpV2tBf4e__JHASH__"):h._("__JHASH__R5tVbhjVHz8__JHASH__"),n=(j||(j=c("stylex")))(l.growOnHover,!a&&l.growOnHoverEnabled),o=i?k.jsx(d("WAWebPttCustomIcons").OutlinedPauseCustomIcon,{xstyle:l.pttPauseIconRefreh}):k.jsx(k.Fragment,{children:k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[k.jsx("circle",{cx:"16",cy:"16",r:"14.75",fill:"none",stroke:"currentColor",strokeWidth:"2.5"}),k.jsx("path",{className:n,d:"M20.65,21.69V10.25H17.31V21.69Zm-9.3-11.44V21.69h3.34V10.25Z",fill:"currentColor"})]})});return k.jsxs(d("WAWebPttButton.react").PttButton,{ref:b,xstyle:[l.pttPauseAndResumeRecordingButton,!a&&l.pttPauseAndResumeRecordingButtonEnabled,i&&l.pttPauseAndResumeRecordingButtonRefresh],testid:void 0,ariaLabel:m,confirmOnMouseUp:g,onConfirm:f,disabled:a,children:[k.jsx("div",{className:j(l.icon,i&&l.iconRefresh,e&&l.iconActive),children:o}),k.jsx("div",{className:j(l.icon,!e&&l.iconActive),children:k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",className:n,children:[k.jsx("path",{fill:"currentColor",d:"M16,4c1.9,0,3.4,1.4,3.4,3.1v8.6c0,1.7-1.5,3.1-3.4,3.1 c-1.9,0-3.4-1.4-3.4-3.1V7.1C12.6,5.4,14.1,4,16,4"}),k.jsx("path",{fill:"currentColor",d:"M16.3,23.4c-0.2,0-0.6,0-0.9,0l-0.3,0c-3.7-0.4-6.6-3.7-7.1-7.8 L8,15.2c0-0.5,0.3-0.9,0.8-0.9h0.4c0.5,0,0.8,0.4,0.9,0.9l0.1,0.4c0.5,3.1,3,5.5,5.9,5.5c2.9,0,5.3-2.3,5.9-5.4l0.1-0.4 c0-0.5,0.4-0.9,0.9-0.9h0.4c0.4,0,0.8,0.4,0.8,0.9c0,0,0,0.1-0.1,0.6c-0.6,4.1-3.7,7.3-7.4,7.6L16.3,23.4z"}),k.jsx("path",{fill:"currentColor",d:"M17.1,27.3c0,0.4-0.4,0.7-0.9,0.7h-0.5c-0.5,0-0.9-0.3-0.9-0.7V23 c0-0.4,0.4-0.7,0.9-0.7h0.5c0.5,0,0.9,0.3,0.9,0.7V27.3z"})]})})]})}a.displayName=a.name+" [from "+f.id+"]";b.displayName="PttPauseAndResumeRecordingButton";g.PttPauseAndResumeRecordingButton=b}),226);
__d("WAWebPttSendButton.react",["fbt","WAWebL10N","WAWebPttButton.react","WAWebUIRefreshGatingUtils","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={pttSendButton:{width:"x1n7h9c3",minWidth:"x1ask5yi",height:"x1s1d1n7",color:"x2jl805",$$css:!0},pttSendButtonRefresh:{color:"x1v5yvga",minWidth:"x1fns5xo",minHeight:"x1ba4aug",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",":hover_color":"xaoa0i2",$$css:!0},pttSendButtonEnabled:{":hover_color":"xof5ctd",$$css:!0},growOnHover:{transition:"x14sdrxx",transformOrigin:"x1g0ag68",$$css:!0},growOnHoverEnabled:{":hover_transform":"x1lcra6a",$$css:!0},pttSendButtonIconRTL:{transform:"xpk2tj9",$$css:!0}};b=k.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.disabled;e=e===void 0?!1:e;var f=a.confirmOnMouseUp;a=a.onConfirm;return k.jsx(d("WAWebPttButton.react").PttButton,{ref:b,xstyle:[l.pttSendButton,!e&&l.pttSendButtonEnabled,d("WAWebUIRefreshGatingUtils").composeBoxRefreshEnabled()&&l.pttSendButtonRefresh],testid:void 0,ariaLabel:h._("__JHASH__rTVI-iTC6XE__JHASH__"),confirmOnMouseUp:f,onConfirm:a,disabled:e,children:k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35 35",className:(j||(j=c("stylex")))(c("WAWebL10N").isRTL()&&l.pttSendButtonIconRTL),children:[k.jsx("path",{d:"M17.5,0h0A17.51,17.51,0,0,1,35,17.5h0A17.51,17.51,0,0,1,17.5,35h0A17.51,17.51,0,0,1,0,17.5H0A17.51,17.51,0,0,1,17.5,0Z",fill:"currentColor"}),k.jsx("path",{className:j(l.growOnHover,!e&&l.growOnHoverEnabled),d:"M25.64,18.55,11.2,24.93a.86.86,0,0,1-1.13-.44.83.83,0,0,1-.06-.44l.48-4.11a1.36,1.36,0,0,1,1.24-1.19l7.51-.6a.16.16,0,0,0,.14-.16.16.16,0,0,0-.14-.14l-7.51-.6a1.36,1.36,0,0,1-1.24-1.19L10,12a.84.84,0,0,1,.74-.94.87.87,0,0,1,.45.06l14.44,6.38a.61.61,0,0,1,.31.79A.59.59,0,0,1,25.64,18.55Z",fill:"#fff"})]})})}a.displayName=a.name+" [from "+f.id+"]";g.PttSendButton=b}),226);
__d("WAWebPttStopButton.react",["fbt","WAWebPttButton.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={pttStopButton:{width:"x1td3qas",height:"x10w6t97",color:"xz0mkc0",$$css:!0},pttStopButtonEnabled:{":hover_color":"xa8l713",$$css:!0},growOnHover:{transition:"x14sdrxx",transformOrigin:"x1g0ag68",$$css:!0},growOnHoverEnabled:{":hover_transform":"x1lcra6a",$$css:!0}};b=k.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.onConfirm,f=a.confirmOnMouseUp;a=a.disabled;a=a===void 0?!1:a;return k.jsx(d("WAWebPttButton.react").PttButton,{ref:b,xstyle:[l.pttStopButton,!a&&l.pttStopButtonEnabled],testid:void 0,ariaLabel:h._("__JHASH__1IH2wp5a4Na__JHASH__"),confirmOnMouseUp:f,onConfirm:e,disabled:a,children:k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[k.jsx("path",{fill:"currentColor",d:"M16,0C7.2,0,0,7.2,0,16s7.2,16,16,16s16-7.2,16-16S24.8,0,16,0z M16,30C8.3,30,2,23.7,2,16S8.3,2,16,2 s14,6.3,14,14S23.7,30,16,30z"}),k.jsx("path",{className:(j||(j=c("stylex")))(l.growOnHover,!a&&l.growOnHoverEnabled),fill:"currentColor",d:"M13,11c-1.1,0-2,0.9-2,2v6c0,1.1,0.9,2,2,2h6c1.1,0,2-0.9,2-2v-6c0-1.1-0.9-2-2-2H13z"})]})})}a.displayName=a.name+" [from "+f.id+"]";g.PttStopButton=b}),226);
__d("useWAWebPttRecordingSessionValues",["useWAWebCollectionValues"],(function(a,b,c,d,e,f,g){function a(a,b){return d("useWAWebCollectionValues").useModelGetterValues(a,b)}g.usePttRecordingSessionValues=a}),98);
__d("WAWebPttComposer.react",["$InternalEnum","WANullthrows","WAWebAttachMediaViewOnce.react","WAWebBizCoexUtils","WAWebClock","WAWebDivider.react","WAWebMsgType","WAWebPttCancelButton.react","WAWebPttComposerRecordingSession","WAWebPttComposerRecordingSessionGetters","WAWebPttComposerWaveform.react","WAWebPttPauseResumeRecordingButton.react","WAWebPttPlayPauseButton.react","WAWebPttSendButton.react","WAWebPttStopButton.react","WAWebPttTsExternalLogger","WAWebRecordingSessionStateEnum","WAWebServerPropsModel","WAWebTabOrder","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebVelocityTransitionGroup","WAWebViewOnceGatingUtils","asyncToGeneratorRuntime","err","react","stylex","useWAWebEventTargetValue","useWAWebListener","useWAWebOnUnmount","useWAWebPttRecordingSessionValues","useWAWebStableCallback","useWAWebToggle"],(function(a,b,c,d,e,f,g){var h,i,j;e=j||d("react");var k=h||(h=c("react")),l=e.useCallback,m=e.useEffect,n=e.useRef,o=e.useState,p=b("$InternalEnum").Mirrored(["RECORDER","PREVIEW"]),q={recorderAndPreviewContainer:{position:"x1n2onr6",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",flexBasis:"x1r8uery",alignItems:"x6s0dn4",height:"xwvwv9b",$$css:!0},recorderAndPreviewContainerRefresh:{height:"x5yr21d",$$css:!0},pauseRecordingButtonContainer:{display:"x78zum5",$$css:!0},recorderContainer:{position:"x10l6tqk",top:"x13vifvy",end:"xds687c",bottom:"x1ey2m1c",start:"x17qophe",display:"x78zum5",alignItems:"x6s0dn4",$$css:!0},previewContainer:{position:"x10l6tqk",top:"x13vifvy",end:"xds687c",bottom:"x1ey2m1c",start:"x17qophe",display:"x78zum5",alignItems:"x6s0dn4",marginEnd:"xq8finb",marginStart:"x1cxxrxm",backgroundColor:"xu5n5zk",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopColor:"x15unhv1",borderEndColor:"xihwxa6",borderBottomColor:"xvp2sfm",borderStartColor:"x8cosvx",borderTopStartRadius:"x14bsz84",borderTopEndRadius:"x1e6ar86",borderBottomEndRadius:"x18poeml",borderBottomStartRadius:"x1fnp2h5",direction:"xzt5al7",paddingEnd:"x1w2lkzu",paddingStart:"x1oq7267",$$css:!0},previewContainerRefresh:{borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",backgroundColor:"x1k74hu9",$$css:!0},recordingDotRefresh:{height:"x170jfvy",width:"x1fsd2vl",backgroundColor:"x10o6jyz",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0}};function a(a){var e=a.chat,f=a.recordingSession,g=a.onComplete;a=n();var h=o(function(){switch(f.recordingState){case d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED:return p.PREVIEW;case d("WAWebRecordingSessionStateEnum").RecordingSessionState.RECORDING:return p.RECORDER;default:throw c("err")("Invalid recording session state: "+f.recordingState)}}),j=h[0],t=h[1];h=o(function(){return j===p.PREVIEW?f.getAudioForPlayback():null});var u=h[0],v=h[1];h=c("useWAWebToggle")(!1);var w=h[0];h=h[1];var x=d("WAWebUIRefreshGatingUtils").composeBoxRefreshEnabled();m(function(){if(u!=null)return d("WAWebPttTsExternalLogger").attachPttPlayTimeSpentLogger(u.getAudio())},[u]);var y=function(){v(null),u==null?void 0:u.dispose()},z=u==null?void 0:u.getAudio(),A=n(),B=n(),C=n(f);C.current=f;var D=c("useWAWebEventTargetValue")(f,"change:duration",function(){return Math.floor(f.duration)}),E=o(function(){return Math.floor((z==null?void 0:z.currentTime)||0)}),F=E[0],G=E[1];E=o(function(){return((z==null?void 0:z.currentTime)||0)===0});var H=E[0],I=E[1],J=function(a){G(Math.floor(a)),I(a===0)};d("useWAWebListener").useListener(z,"timeupdate",function(){var a;J((a=z==null?void 0:z.currentTime)!=null?a:0)});E=o(null);var K=E[0],L=E[1];E=d("useWAWebPttRecordingSessionValues").usePttRecordingSessionValues(f,[d("WAWebPttComposerRecordingSessionGetters").getExceedsMinDuration,d("WAWebPttComposerRecordingSessionGetters").getIsRecording]);var M=E[0],N=E[1];d("useWAWebListener").useListener(f,"change:recordingState",function(){(f.recordingState===d("WAWebRecordingSessionStateEnum").RecordingSessionState.STOPPED||f.recordingState===d("WAWebRecordingSessionStateEnum").RecordingSessionState.ERROR)&&g()});E=c("useWAWebEventTargetValue")(z,["play","pause"],function(){return z!=null&&!z.paused});var O=r(),P=function(){f.stop(d("WAWebPttComposerRecordingSession").RecordingSessionStopReason.CANCEL_BUTTON)};m(function(){N&&self.setTimeout(function(){var a;(a=A.current)==null?void 0:a.focus()},100)},[N]);m(function(){j===p.PREVIEW&&(C.current.markDraftPreviewSeen(),self.setTimeout(function(){var a;(a=B.current)==null?void 0:a.focus()},100))},[j]);c("useWAWebOnUnmount")(function(){z==null?void 0:z.pause(),y(),f.pause()});var Q=function(){f.send(w)};d("useWAWebListener").useListener(f,"change:recordingState",function(){if(d("WAWebPttComposerRecordingSessionGetters").getIsRecording(f))return;if(f.recordingState!==d("WAWebRecordingSessionStateEnum").RecordingSessionState.PAUSED)return;y();var a=f.getAudioForPlayback();v(a);J(0);t(p.PREVIEW)});var R=function(){f.incrementPauseButtonCount(),f.pause()},S=function(){f.incrementPauseButtonCount(),f.pause()},T=function(){b("asyncToGeneratorRuntime").asyncToGenerator(function*(){z==null?void 0:z.pause();t(p.RECORDER);var a=(yield f.resume());a||t(p.PREVIEW)})()},aa=function(){var a=c("WANullthrows")(z);a.paused?(a.play(),f.incrementDraftPlayCount()):a.pause()};d("useWAWebListener").useListener(z,"ended",function(){c("WANullthrows")(z).load()});var U=l(function(){var a;return(a=z==null?void 0:z.currentTime)!=null?a:0},[z]),V=c("useWAWebStableCallback")(function(){return f.getPreciseDuration()}),ba=c("useWAWebStableCallback")(function(){return f.duration}),W=c("useWAWebStableCallback")(function(){return f.getLiveWaveformSamples()}),ca=c("useWAWebStableCallback")(function(){return f.getCorrectedWaveformSamples()}),X=c("useWAWebStableCallback")(function(a){J(a),L(null),c("WANullthrows")(z).currentTime=a,f.incrementDraftSeekCount()}),Y=c("useWAWebStableCallback")(function(a){L(Math.floor(a))}),Z,$;d("WAWebServerPropsModel").ServerProps.pttPausableEnabled?$=k.jsx("div",{className:(i||(i=c("stylex")))(q.pauseRecordingButtonContainer,d("WAWebUISpacing").uiMargin.end12),children:k.jsx(d("WAWebPttPauseResumeRecordingButton.react").PttPauseAndResumeRecordingButton,{recording:j===p.RECORDER,confirmOnMouseUp:O,onConfirm:j===p.RECORDER?S:T})}):Z=k.jsx("div",{className:"x78zum5",children:k.jsx(d("WAWebPttStopButton.react").PttStopButton,{confirmOnMouseUp:O,onConfirm:R})});S=k.jsxs("div",{className:(i||(i=c("stylex")))(q.recorderContainer,!x&&d("WAWebUISpacing").uiMargin.start12),children:[x&&k.jsx("div",{className:(i||(i=c("stylex")))(q.recordingDotRefresh,d("WAWebUISpacing").uiMargin.horiz12)}),k.jsx(s,{time:D}),k.jsx("div",{className:"x78zum5 x1iyjqo2 xs83m0k x1r8uery x1fgtraw xmo9yow xsgj6o6",children:k.jsx(d("WAWebPttComposerWaveform.react").Waveform,{location:d("WAWebPttComposerWaveform.react").WaveformLocation.DRAFT_PREVIEW,sampleRate:f.getWaveformSampleRate(),getSamples:W,getCurrentTime:U,getDuration:V,live:N,mode:d("WAWebPttComposerWaveform.react").WaveformMode.RECORDER,onSeek:Y,onSeekEnd:X,tabIndex:d("WAWebTabOrder").TAB_ORDER.PTT_BUTTON})}),Z]});T=d("WAWebViewOnceGatingUtils").isSendingViewOnceV2Enabled()&&!e.isNewsletter&&!e.contact.isEnterprise&&!e.isCapiHostedGroup&&!d("WAWebBizCoexUtils").isMeOrCurrentContactHosted(e.contact)&&!d("WAWebUserPrefsMeUser").isMeAccount(e.contact.id)?k.jsx("div",{className:(i||(i=c("stylex")))(d("WAWebUISpacing").uiMargin.horiz12),children:k.jsx(c("WAWebAttachMediaViewOnce.react"),{mediaType:d("WAWebMsgType").MSG_TYPE.PTT,dimension:24,onChange:h,isOn:w,disabled:!1,shouldShowNux:j===p.PREVIEW,dataTab:x?d("WAWebTabOrder").TAB_ORDER.PTT_BUTTON:void 0})}):null;W=(R=K)!=null?R:H?D:F;V=k.jsxs("div",{className:i(q.previewContainer,x&&q.previewContainerRefresh),children:[k.jsx(d("WAWebPttPlayPauseButton.react").PttPlayPauseButton,{ref:B,theme:"compose-box",paused:!E,onConfirm:aa}),k.jsx("div",{className:"x78zum5 x1iyjqo2 xs83m0k x1r8uery x1fgtraw x1t4t16n x17adc0v",children:k.jsx(d("WAWebPttComposerWaveform.react").Waveform,{location:d("WAWebPttComposerWaveform.react").WaveformLocation.DRAFT_PREVIEW,sampleRate:f.getWaveformSampleRate(),getSamples:ca,getCurrentTime:U,getDuration:ba,live:E,mode:d("WAWebPttComposerWaveform.react").WaveformMode.PREVIEW,onSeek:Y,onSeekEnd:X,tabIndex:d("WAWebTabOrder").TAB_ORDER.PTT_BUTTON})}),k.jsx(s,{time:W})]});return k.jsxs("div",{ref:a,className:"x78zum5 x6s0dn4 xh8yej3 x19ygybj",children:[k.jsx(d("WAWebPttCancelButton.react").PttCancelButton,{ref:A,confirmOnMouseUp:O,onConfirm:P}),k.jsx("div",{className:i(q.recorderAndPreviewContainer,x&&q.recorderAndPreviewContainerRefresh),children:k.jsxs(c("WAWebVelocityTransitionGroup"),{transitionName:"fade",children:[j===p.RECORDER?S:null,j===p.PREVIEW?V:null]})}),$,T&&!x&&k.jsx(c("WAWebDivider.react"),{noMargin:!0}),T,k.jsx(d("WAWebPttSendButton.react").PttSendButton,{disabled:!M,confirmOnMouseUp:O,onConfirm:Q})]})}a.displayName=a.name+" [from "+f.id+"]";function r(){var a=o(!1),b=a[0],c=a[1],d=250;m(function(){var a=self.setTimeout(function(){c(!0)},d),b=function(){c(!1),e()};window.addEventListener("mouseup",b);var e=function(){window.removeEventListener("mouseup",b),self.clearTimeout(a)};return e},[]);return b}function s(a){a=a.time;return k.jsx("div",{className:"x2c5eco x1603h9y",role:"timer",children:d("WAWebClock").Clock.durationStr(a)})}s.displayName=s.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebQuickRepliesPluginLogEvents",["WAWebQuickReplyWamEvent","WAWebWamEnumQuickReplyAction","WAWebWamEnumQuickReplyEntryPoint","WAWebWamEnumQuickReplyType"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_CHAT_IMPRESSION,quickReplyCount:a,quickReplyEntryPoint:b?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});a.commit()}function b(a){a===void 0&&(a=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_CHAT_CLICK,quickReplyKeywordMatched:!1,quickReplyEntryPoint:a?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});a.commit()}function c(a){a===void 0&&(a=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_CHAT_CLICK_CANCEL,quickReplyEntryPoint:a?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});a.commit()}function e(a){a===void 0&&(a=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_SMART_DEFAULT_CLICK,quickReplyKeywordMatched:!1,quickReplyEntryPoint:a?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD});a.commit()}function f(a){a===void 0&&(a=!1);a=new(d("WAWebQuickReplyWamEvent").QuickReplyWamEvent)({quickReplyAction:d("WAWebWamEnumQuickReplyAction").QUICK_REPLY_ACTION.ACTION_SMART_DEFAULT_CLICK,quickReplyKeywordMatched:!1,quickReplyEntryPoint:a?d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_ATTACHMENT_PANEL:d("WAWebWamEnumQuickReplyEntryPoint").QUICK_REPLY_ENTRY_POINT.QUICK_REPLY_ENTRY_POINT_KEYBOARD,quickReplyType:d("WAWebWamEnumQuickReplyType").QUICK_REPLY_TYPE.QUICK_REPLY_TYPE_PIX_KEY});a.commit()}g.logFilterEvent=a;g.logSelectEvent=b;g.logCancelEvent=c;g.logSmartDefaultSelectEvent=e;g.logPixSmartSelectEvent=f}),98);
__d("WAWebQuickRepliesPluginResult.react",["WAWebEmojiText.react","WAWebFormatConfiguration","WAWebStylesEnv","WAWebUISpacing","react","stylex","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={result:{display:"x78zum5",height:"x1qx5ct2",overflowX:"x6ikm8r",overflowY:"x10wlt62",fontSize:"x1f6kntn",color:"x40yjcy",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",verticalAlign:"xxymvpz",$$css:!0},resultEmoji:{position:"x1n2onr6",top:"x1e0gzzx",$$css:!0},resultSelected:{backgroundColor:"x1ru9bj0",$$css:!0},slash:{color:"xiqmkuo",$$css:!0},shortcutPrefix:{fontWeight:"x117nqv4",color:"x1cgtc05",$$css:!0},shortcutSuffix:{color:"xy9n6vp",$$css:!0},message:{color:"x40yjcy",textAlign:"x1yc453h",$$css:!0}};function a(a){var b=d("useWAWebModelValues").useModelValues(a.quickReply,["shortcut","message"]),e=b.shortcut;b=b.message;var f=a.query,g=a.selected,h=a.onMouseDown,l=a.onMouseEnter;a=a.onMouseUp;e=e.slice(f.length);return j.jsxs("div",{className:(i||(i=c("stylex")))(k.result,d("WAWebUISpacing").uiPadding.vert16,d("WAWebUISpacing").uiPadding.horiz18,d("WAWebStylesEnv").hasEmoji&&k.resultEmoji,g&&k.resultSelected),onMouseDown:h,onMouseUp:a,onMouseEnter:l,children:[j.jsx("span",{className:i(k.slash,d("WAWebUISpacing").uiPadding.top3)}),j.jsx(d("WAWebEmojiText.react").EmojiText,{className:i(k.shortcutPrefix,d("WAWebUISpacing").uiPadding.top3),text:f}),j.jsx(d("WAWebEmojiText.react").EmojiText,{className:i(k.shortcutSuffix,d("WAWebUISpacing").uiPadding.top3),text:e}),j.jsx(d("WAWebEmojiText.react").EmojiText,{className:i(k.message,d("WAWebUISpacing").uiPadding.top3,d("WAWebUISpacing").uiMargin.start10),testid:void 0,ellipsify:!0,text:b,formatters:d("WAWebFormatConfiguration").QuickReply()})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebSendLocationChatAction",["WALogger","WATimeUtils","WAWebAck","WAWebMsgKey","WAWebSendMsgChatAction","WAWebSendMsgResultAction","WAWebUserPrefsMeUser","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Location message send to chat failure: ",""]);h=function(){return a};return a}function a(a,b,c,d){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){b=(yield j(a,b,e,f));try{e=(yield d("WAWebSendMsgChatAction").addAndSendMsgToChat(a,b)[1]);if(!e||e.messageSendResult!==d("WAWebSendMsgResultAction").SendMsgResult.OK)throw c("err")("Location message SendMsgResult failure status")}catch(a){d("WALogger").WARN(h(),a);throw a}});return i.apply(this,arguments)}function j(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g=d("WAWebUserPrefsMeUser").getMaybeMeUser();g={type:"location",ack:d("WAWebAck").ACK.CLOCK,from:g,id:new(c("WAWebMsgKey"))({from:g,to:a.id,id:yield c("WAWebMsgKey").newId(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,t:d("WATimeUtils").unixTime(),to:a.id,lat:b,lng:e,loc:f};return g});return k.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebQuickReplySuggestions.react",["Lexical","WATypeUtils","WAWebBizSendOrderAction","WAWebBusinessProfileCollection","WAWebChatCollection","WAWebContactCollection","WAWebFrontendContactGetters","WAWebL10NCountryCodes","WAWebListSuggestionsPanel.react","WAWebQuickRepliesPluginLogEvents","WAWebQuickRepliesPluginResult.react","WAWebQuickReplyCollection","WAWebQuickReplyEnum","WAWebQuickReplyGetters","WAWebSendContactsAction","WAWebSendLocationChatAction","WAWebSendTextMsgChatAction","WAWebUserPrefsMeUser","react","useWAWebForceUpdate","useWAWebLexicalEvent","useWAWebLexicalTypeAhead","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useImperativeHandle,m=b.useMemo,n=b.useRef,o=52,p="/",q=25;e=j.forwardRef(a);function a(a,b){var e=a.editor,f=a.kind,g=a.onSelect;a=a.onHide;var h=d("useWAWebLexicalTypeAhead").useTypeAhead(e,p,{boundary:!0,maxQueryLength:q}),i=h.query,s=h.clearQuery,t=h.replaceQuery,y=h.omitQuery,z=h.setQuery;h=d("useWAWebForceUpdate").useForceUpdateDONOTUSE();var A=n(!1),B=n(),C=n(!1);d("useWAWebListener").useListener(d("WAWebQuickReplyCollection").QuickReplyCollection,"add remove change:shortcut",h);k(function(){d("WAWebQuickReplyCollection").QuickReplyCollection.addSmartDefaultsIfNeeded()},[]);h=function(a,b){return j.jsx(c("WAWebQuickRepliesPluginResult.react"),{quickReply:a.quickReply,query:a.query,selected:b},a.quickReply.id.toString())};var D=function(a){a=a.quickReply;B.current=a.message;switch(d("WAWebQuickReplyGetters").getType(a)){case d("WAWebQuickReplyEnum").QuickReplyTypes.PROFILE_SMART_DEFAULT:s();w(a);break;case d("WAWebQuickReplyEnum").QuickReplyTypes.ADDRESS_SMART_DEFAULT:s();v(a);break;case d("WAWebQuickReplyEnum").QuickReplyTypes.HOURS_SMART_DEFAULT:s();u(a);break;case d("WAWebQuickReplyEnum").QuickReplyTypes.PIX_KEY_SMART_DEFAULT:s();x(a);break;default:t(a.message,{select:!0}),a.useOnce()}d("WAWebQuickReplyGetters").getType(a)===d("WAWebQuickReplyEnum").QuickReplyTypes.PIX_KEY_SMART_DEFAULT?d("WAWebQuickRepliesPluginLogEvents").logPixSmartSelectEvent(A.current):a.isSmartDefault()?d("WAWebQuickRepliesPluginLogEvents").logSmartDefaultSelectEvent(A.current):d("WAWebQuickRepliesPluginLogEvents").logSelectEvent(A.current);C.current=A.current;A.current=!1;g==null?void 0:g()},E=function(){y(),A.current=!1},F=m(function(){if(i==null)return null;var a=r(i,A.current);return a.length===0?null:a.map(function(a,b){return{height:o,itemKey:a.id,contentKey:i,index:b,quickReply:a,query:i,selectable:!0}})},[i]);d("useWAWebLexicalEvent").useLexicalKeydownEvent(e,"Backspace",function(){var a=B.current;if(!a)return;e.getEditorState().read(function(){var b=d("Lexical").$getSelection();if(!b)return;a===b.getTextContent()&&d("WAWebQuickRepliesPluginLogEvents").logCancelEvent(C.current)})},!0);l(b,function(){return{togglePanel:function(){i==null?(z(""),A.current=!0):(s(),A.current=!1)}}});return j.jsx(d("WAWebListSuggestionsPanel.react").ListSuggestionsPanel,{kind:f,editor:e,items:F,renderItem:h,onSelect:D,onDismiss:E,onHide:a})}a.displayName=a.name+" [from "+f.id+"]";function r(a,b){var c;a=d("WAWebQuickReplyCollection").QuickReplyCollection.filterShortcuts(a);((c=d("WAWebChatCollection").ChatCollection.getActive())==null?void 0:c.isGroup)&&(a=s(a));a=t(a,d("WAWebL10NCountryCodes").getCountryShortcodeByPhone((c=d("WAWebChatCollection").ChatCollection.getActive())==null?void 0:c.contact.id.user));a.length&&d("WAWebQuickRepliesPluginLogEvents").logFilterEvent(a.length,b);return a}function s(a){return a.filter(function(a){return!a.hideFromGroupChat()})}function t(a,b){return a.filter(function(a){return!a.hideForRecipientCountryCode(b)})}function u(a){var b=d("WAWebChatCollection").ChatCollection.getActive();if(!b)return;d("WAWebSendTextMsgChatAction").sendTextMsgToChat(b,a.message);a.useOnce()}function v(a){var b=d("WAWebChatCollection").ChatCollection.getActive(),e=d("WAWebUserPrefsMeUser").getMaybeMeUser(),f=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(e);e=d("WAWebContactCollection").ContactCollection.get(e);if(!b||!f)return;var g=f.latitude,h=f.longitude,i=f.address;if(d("WATypeUtils").isNumber(g)&&d("WATypeUtils").isNumber(h)&&e){e=d("WAWebFrontendContactGetters").getDisplayName(e);f.address&&(e+="\n"+f.address);c("WAWebSendLocationChatAction")(b,g,h,e);a.useOnce()}else i&&(d("WAWebSendTextMsgChatAction").sendTextMsgToChat(b,i),a.useOnce())}function w(a){var b=d("WAWebChatCollection").ChatCollection.getActive(),e=d("WAWebContactCollection").ContactCollection.get(d("WAWebUserPrefsMeUser").getMaybeMeUser());if(!b||!e)return;c("WAWebSendContactsAction")([e],b);a.useOnce()}function x(a){var b=d("WAWebChatCollection").ChatCollection.getActive();if(!b)return;void d("WAWebBizSendOrderAction").sendPixKeyPaymentInfoMessage(b);a.useOnce()}g.QuickReplySuggestions=e}),98);
__d("WAWebReactionsFrontendUtils",["WAWebFlattenedReactionCollection","WAWebReactionGatingUtils","WAWebReactionsCollection"],(function(a,b,c,d,e,f,g){function a(a){return d("WAWebReactionGatingUtils").isFlattenedReactionsEnabled()?a.map(function(a){return Boolean(d("WAWebFlattenedReactionCollection").FlattenedReactionsCollection.get(a))}):a.map(function(a){return Boolean(d("WAWebReactionsCollection").ReactionsCollection.getSenderByMsgKey(a))})}g.hasReactionsInCollection=a}),98);
__d("WAWebUpdateOrphanReactionsMsgAction",["WALogger","WAWebAck","WAWebFlattenedReactionCollection","WAWebReactionGatingUtils","WAWebReactionTypeConversion","WAWebReactionsCollection"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["actions:checkUpdateForOrphanReactions Reaction Model does not exist for this parentMsg"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["actions:checkUpdateForOrphanReactions Reaction Model does not exist for this parentMsg"]);i=function(){return a};return a}function a(a){a.forEach(function(a){if(d("WAWebReactionGatingUtils").isFlattenedReactionsEnabled()){var b=d("WAWebFlattenedReactionCollection").FlattenedReactionsCollection.byParent(a.parentMsgKey).toArray();b.length>0?d("WAWebFlattenedReactionCollection").FlattenedReactionsCollection.addOrUpdateReaction([d("WAWebReactionTypeConversion").convertReactionRowToFlattenedReaction(a,a.ack!=null&&a.ack<d("WAWebAck").ACK.CLOCK)]):d("WALogger").DEV(i())}else{b=d("WAWebReactionsCollection").ReactionsCollection.get(a.parentMsgKey);b?d("WAWebReactionsCollection").ReactionsCollection.addOrUpdateReaction(a):d("WALogger").DEV(h())}})}g.checkUpdateForOrphanReactions=a}),98);
__d("WAWebReactionsBridgeApi",["WAWebReactionsFrontendUtils","WAWebUpdateLastAddOnPreviewChatAction","WAWebUpdateOrphanReactionsMsgAction"],(function(a,b,c,d,e,f,g){a={checkUpdateForOrphanReactions:function(a){a=a.updatedRecords;d("WAWebUpdateOrphanReactionsMsgAction").checkUpdateForOrphanReactions(a)},deleteModelsForLastAddOnPreview:function(a){a=a.messagesIds;return d("WAWebUpdateLastAddOnPreviewChatAction").deleteModelsForLastAddOnPreview(a)},hasReactionsInCollection:function(a){a=a.msgKeys;return d("WAWebReactionsFrontendUtils").hasReactionsInCollection(a)}};g.ReactionsBridgeApi=a}),98);
__d("WAWebResendGroupMsgMainThreadOnly",["WAWebCreateSendMsgRecord","WAWebGroupMsgSendUtils","WAWebOutgoingMessage","WAWebResendGroupMsg","WAWebSendMsgMetricReporter","WAWebSendMsgTypes","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function a(a,b,c,d,e,f,g,i,j){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,i,j,k){h=h.map(function(a){return d("WAWebWidFactory").createWid(a)});a=(yield d("WAWebCreateSendMsgRecord").createMsgRecord(a,b,e));if(a==null)throw c("err")("resendUserGroupMsgJob failed to deserialize msg from db");b=(yield d("WAWebGroupMsgSendUtils").getParticipantRecord(f));e=(yield d("WAWebGroupMsgSendUtils").getGroupData(f.toString(),b,a));f=a.type===d("WAWebSendMsgTypes").SendMessageRecordType.Message?d("WAWebSendMsgMetricReporter").createMsgModelMetricReporter(a.data):d("WAWebSendMsgMetricReporter").createAddonMetricReporter(a.data);f.sendReporter=f.createSendReporter({isResend:!0,originalMessage:a.type==="message"?a.data:void 0});b=d("WAWebOutgoingMessage").createOutgoingMessageProtobuf(d("WAWebOutgoingMessage").OutgoingMessageOriginType.ChatResend,a);return d("WAWebResendGroupMsg").resendGroupMsg({isDirect:g,msgRecord:a,msgProtobuf:b,groupData:e,ackTime:j,oldList:h,phash:i,metricReporter:f,serverAddressingMode:k})});return h.apply(this,arguments)}g.resendGroupMsgMainThreadOnly=a}),98);
__d("WAWebResendUserMsgMainThreadOnly",["WAWebCreateSendMsgRecord","WAWebOutgoingMessage","WAWebResendUserMsg","WAWebSendMsgMetricReporter","WAWebSendMsgTypes","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function a(a,b,c,d,e){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){f=f.map(function(a){return d("WAWebWidFactory").createWid(a)});a=(yield d("WAWebCreateSendMsgRecord").createMsgRecord(a,b,e));if(a==null)throw c("err")("resendUserMsgJob failed to deserialize msg from db");b=a.type===d("WAWebSendMsgTypes").SendMessageRecordType.Message?d("WAWebSendMsgMetricReporter").createMsgModelMetricReporter(a.data):d("WAWebSendMsgMetricReporter").createAddonMetricReporter(a.data);b.sendReporter=b.createSendReporter({isResend:!0,originalMessage:a.type==="message"?a.data:void 0});e=d("WAWebOutgoingMessage").createOutgoingMessageProtobuf(d("WAWebOutgoingMessage").OutgoingMessageOriginType.ChatResend,a);return d("WAWebResendUserMsg").resendUserMsg(a,e,f,g,b)});return h.apply(this,arguments)}g.resendUserMsgMainThreadOnly=a}),98);
__d("WAWebVerifiedBusinessNameCopyPnDataToLidRows",["WALogger","WAWebBizGatingUtils","WAWebLidMigrationUtils","WAWebModelStorageUtils","WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["copyVerifiedNamePnDataToLidRows: error ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["copyVerifiedNamePnDataToLidRows: end migration"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["copyVerifiedNamePnDataToLidRows: start migration"]);j=function(){return a};return a}function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!d("WAWebBizGatingUtils").isLidMigrationForVnameEnabled()||d("WAWebUserPrefsKeys").UserPrefs.VerifiedBusinessNameLidTableMigrationComplete)return;var e=!1;yield d("WAWebModelStorageUtils").getStorage().lock(["verified-business-name"],function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b[0];try{d("WALogger").LOG(j());var c=a.map(function(a){if(a==null)return null;var b=d("WAWebWidFactory").createUserWid(a==null?void 0:a.id);if(b.isLid())return null;var c=d("WAWebLidMigrationUtils").toPn(b);b=d("WAWebLidMigrationUtils").toLid(b);return b==null||(c==null?void 0:c.user)==null?null:{id:b.toString(),name:(c=a.name)!=null?c:a.name,isApi:(b=a.isApi)!=null?b:a.isApi,isSmb:(c=a.isSmb)!=null?c:a.isSmb,level:(b=a.level)!=null?b:a.level,privacyMode:(c=a.privacyMode)!=null?c:a.privacyMode,serial:(b=a.serial)!=null?b:a.serial}}).filter(Boolean);yield b.bulkCreateOrMerge(c);d("WALogger").LOG(i());e=!0}catch(a){d("WALogger").ERROR(h(),a).sendLogs("verified-business-name-lid-migration"),e=!1}});return function(a){return c.apply(this,arguments)}}());c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").UserPrefs.VerifiedBusinessNameLidTableMigrationComplete,e)});return k.apply(this,arguments)}g.copyVerifiedNamePnDataToLidRows=a}),98);
__d("WAWebRestoreBusinessInfo",["WALogger","WAWebApiBusinessProfile","WAWebBusinessProfileCollection","WAWebBusinessProfileCopyPnDataToLidRows","WAWebBusinessProfileTypes","WAWebChatCollection","WAWebSchemaBusinessProfile","WAWebSchemaVerifiedBusinessName","WAWebVerifiedBusinessNameCopyPnDataToLidRows","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["restore-business-info: invalid wid"]);h=function(){return a};return a}function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebSchemaVerifiedBusinessName").getVerifiedBusinessNameTable().all());yield d("WAWebVerifiedBusinessNameCopyPnDataToLidRows").copyVerifiedNamePnDataToLidRows(a);a.forEach(function(a){var b;try{b=d("WAWebWidFactory").createUserWid(a.id)}catch(a){d("WALogger").ERROR(h()).sendLogs("restore-business-info: invalid wid");return}var c=d("WAWebChatCollection").ChatCollection.get(b);if(c){a={isBusiness:!0,isEnterprise:a.isApi,verifiedName:a.name,verifiedLevel:j(a.level),privacyMode:a.privacyMode};c.contact.set(a)}});a=(yield d("WAWebSchemaBusinessProfile").getBusinessProfileTable().all());yield d("WAWebBusinessProfileCopyPnDataToLidRows").copyBusinessProfilePnDataToLidRows(a);a.forEach(function(a){a=d("WAWebApiBusinessProfile").businessProfileFromDbRow(a);d("WAWebBusinessProfileCollection").BusinessProfileCollection.gadd(babelHelpers["extends"]({},a,{dataSource:"db"}))})});return i.apply(this,arguments)}function j(a){switch(a){case"unknown":return d("WAWebBusinessProfileTypes").VERIFIED_LEVEL.UNKNOWN;case"low":return d("WAWebBusinessProfileTypes").VERIFIED_LEVEL.LOW;case"high":return d("WAWebBusinessProfileTypes").VERIFIED_LEVEL.HIGH}return d("WAWebBusinessProfileTypes").VERIFIED_LEVEL.UNKNOWN}g.restoreBusinessInfo=a}),98);
__d("WAWebRestoreChatsAndMessages",["Promise","WAJobOrchestratorTypes","WALogger","WATimeUtils","WAWebABProps","WAWebApiChat","WAWebApiHydrateWidsUtil","WAWebBackendApi","WAWebChatCollection","WAWebChatComparator","WAWebChatMsgsCollection","WAWebDBAddOnProviders","WAWebDBMessageSerialization","WAWebDBMessageStoreUtils","WAWebDBMessageUtils","WAWebDbEncryptionKey","WAWebEventsWaitForOfflineDeliveryEnd","WAWebModelStorageInitialize","WAWebMsgCollection","WAWebMsgKey","WAWebNewsletterCollection","WAWebNewsletterGatingUtils","WAWebOrchestratorNonPersistedJob","WAWebPnhGatingUtils","WAWebPromiseQueue","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebRestoreBusinessInfo","WAWebSchemaMessage","WAWebThreadMetadata","WAWebUpdateDuplicatedLidThread","WAWebWamOfflineResumeReporter","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["anchor id: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unread anchor message does not exist in message table"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["chat: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["unreadMsgAnchorId is not defined"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["additional data: chat ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["processPreviewMessageInChat: restoring "," message."]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["restoreMessagesForChat: restoring last "," messages."]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["restoreChatsAndMessages: failed with error: ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] complete add all chats to collection"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] complete load all chats from storage"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] start load all chats"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] load DbEncKeyStore key"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["loadLastMessagesFromDB: failed with error: ",""]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] loadLastMessagesFromDB, ","ms, load "," messages"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unread anchor message is not in message collection."]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] restoreMessagesForChat, id: ",", ","ms"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreChatsAndMessagesChunked ","ms, finish load "," - ",""]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] restoreMessagesForChats: ","ms, finish chat "," - ",""]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage] updateKeyMetadataForChats: ","ms, finish chat "," - ",""]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreChatsAndMessagesChunked start load "," - ",""]);B=function(){return a};return a}var C=20,D=5,E=100;function F(a,b){return a.reduce(function(a,c){c=d("WAWebApiHydrateWidsUtil").hydrateWids(babelHelpers["extends"]({},c,{pendingInitialLoading:!0,isReadOnly:(c=c.isReadOnly)!=null?c:!1}));var e=b==null?void 0:b[c.id.toString({legacy:!0})];e!=null&&(c.previewT=e);c.id.isNewsletter()?a.newsletters.push(c):a.chats.push(c);return a},{chats:[],newsletters:[]})}function a(){return G.apply(this,arguments)}function G(){G=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreChatsAndMessages_start");yield d("WAWebDbEncryptionKey").DbEncKeyStore.waitForFinalDbMsgEncKey();d("WALogger").DEV(t());return d("WAWebModelStorageInitialize").initializeWithoutGKs().then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,b;(a=d("WAWebQplQuickPerformanceLoggerModule")).QPL.markerPoint((b=d("WAWebQplQuickPerformanceLoggerMarkerIds")).QuickLogMarkerId.OFFLINE_RESUME,"RestoreChats_start");d("WALogger").DEV(s());a.QPL.markerPoint(b.QuickLogMarkerId.OFFLINE_RESUME,"RCMGetChats_start");var e=(yield d("WAWebApiChat").getAllChatsDeserialized());a.QPL.markerPoint(b.QuickLogMarkerId.OFFLINE_RESUME,"RCMGetChats_end");a.QPL.markerPoint(b.QuickLogMarkerId.OFFLINE_RESUME,"RCMPopulateMatCache_start");d("WAWebApiChat").populateMatCacheBulk(e);a.QPL.markerPoint(b.QuickLogMarkerId.OFFLINE_RESUME,"RCMPopulateMatCache_end");a.QPL.markerPoint(b.QuickLogMarkerId.OFFLINE_RESUME,"RCMFilterChats_start");a=d("WAWebThreadMetadata").getOfflineThreadMetaPreview();b=F(e,a==null?void 0:a.chatTimestamp);a=b.chats;b=b.newsletters;d("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflineChatThreadCount(e.length);d("WALogger").DEV(r());a.sort(c("WAWebChatComparator"));d("WAWebChatCollection").ChatCollection.add(a,{merge:!0});d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMFilterChats_end");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreChats_end");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreChatsAndMessagesFirstChunk_start");var f=d("WAWebABProps").getABPropConfigValue("web_init_chat_batch_size")||E;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,{"int":{web_init_chat_batch_size:f}});d("WAWebNewsletterGatingUtils").isNewsletterEnabled()&&(b.sort(c("WAWebChatComparator")),c("WAWebNewsletterCollection")==null?void 0:c("WAWebNewsletterCollection").add(b,{merge:!0}),H(b,f));d("WALogger").DEV(q());b=(yield H(a,f));d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreChatsAndMessagesFirstChunk_end");d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMUpdateDuplicatedLidThread_start");d("WAWebPnhGatingUtils").isMatFullyEnabled()&&(yield d("WAWebUpdateDuplicatedLidThread").updateDuplicatedLidThreadBulk(e));d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMUpdateDuplicatedLidThread_end");return b})).then(d("WAWebRestoreBusinessInfo").restoreBusinessInfo).then(function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreChatsAndMessages_end")})["catch"](function(a){d("WALogger").ERROR(p(),a);throw a})});return G.apply(this,arguments)}function H(a,e){var f=(h||(h=b("Promise"))).resolve(),g=new(d("WAWebPromiseQueue").PromiseQueue)(),i=function(h){var i=a.slice(h,h+e),j=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(B(),h,h+e);var a=self.performance.now();h===0&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMChatMetadata_start");var b=(yield I(i));h===0&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMChatMetadata_end");d("WALogger").DEV(A(),self.performance.now()-a,h,h+e);h===0&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMRestoreMessages_start");yield J(b);h===0&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RCMRestoreMessages_end");d("WALogger").DEV(z(),self.performance.now()-a,h,h+e);var f=[];b.forEach(function(a){var b;a=a.chat;b=(d("WAWebNewsletterGatingUtils").isNewsletterEnabled==null?void 0:d("WAWebNewsletterGatingUtils").isNewsletterEnabled())?(b=d("WAWebChatCollection").ChatCollection.get(a.id))!=null?b:c("WAWebNewsletterCollection")==null?void 0:c("WAWebNewsletterCollection").get(a.id):d("WAWebChatCollection").ChatCollection.get(a.id);b&&(b.set({pendingInitialLoading:!1}),b.isGroup&&f.push(String(a.id)))});yield d("WAWebBackendApi").frontendSendAndReceive("restoreGroupParticipantsForChats",{chatIds:f});d("WALogger").DEV(y(),self.performance.now()-a,h,h+e)});return function(){return a.apply(this,arguments)}}();h===0?f=g.enqueue(function(){return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("initialChatLoad",j,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.SKIP}).waitUntilCompleted()}):g.enqueue(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd();return d("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("initialChatLoad",j).waitUntilCompleted()}))};for(var j=0;j<a.length;j+=e)i(j);return f}function I(a){return(h||(h=b("Promise"))).all(a.map(function(a){var b=K(a);return d("WAWebDBMessageStoreUtils").getKeyMsgsFromChatHistory(a,b).then(function(c){var d=c.anchor,e=c.previewMsg;c=c.lastReceivedKey;d=babelHelpers["extends"]({},a,{unreadMsgAnchorId:b?d:void 0});return{chat:d,previewMsg:e,lastReceivedKey:c}})}))}function J(a){a=L(a);var c=a.tasks;a=a.lastMessageKeys;c.push(S(a));return(h||(h=b("Promise"))).all(c)}function K(a){return a.t!=null&&d("WATimeUtils").happenedWithin(d("WATimeUtils").castToUnixTime(a.t),d("WATimeUtils").DAY_SECONDS)||a.pin!=null&&a.pin>0}function L(a){var b=[],e=[];a.forEach(function(a){var f=a.chat,g=a.previewMsg;a=a.lastReceivedKey;if(K(f)||g&&g.id!==a){var h=self.performance.now();b.push(M(f,g).then(function(){d("WALogger").DEV(x(),f.id,self.performance.now()-h);if(f.unreadMsgAnchorId){var a=c("WAWebMsgKey").fromString(f.unreadMsgAnchorId);a=d("WAWebMsgCollection").MsgCollection.get(a);if(!a){d("WALogger").WARN(w()).devConsole("anchor id: "+f.unreadMsgAnchorId);return}var b=d("WAWebChatCollection").ChatCollection.get(d("WAWebWidFactory").createWidFromWidLike(f.id));b&&(b.unreadMsgAnchor=a)}}))}else e.push(String(a))});return{tasks:b,lastMessageKeys:e}}function M(a,b){return N.apply(this,arguments)}function N(){N=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!K(a)||a.unreadCount===0)return O(a,b);if(a.unreadCount>=C){yield O(a,b);return Q(a)}d("WALogger").LOG(o(),a.unreadCount+D);var c=[];if(b){var e=d("WAWebDBMessageSerialization").messageFromDbRow(b),f=d("WAWebDBAddOnProviders").getAddOnProviderForFutureproofMsg(e);(f==null?void 0:f.canRenderInUi(e))&&c.push(b.id.toString())}f=(yield d("WAWebDBMessageStoreUtils").queryChatVisibleMessageHelper(a.id+"_/",a.id+"_g",{reverse:!0},a.unreadCount+D,c));yield d("WAWebMsgCollection").MsgCollection.processMultipleMessages(d("WAWebWidFactory").createWidFromWidLike(a.id),f.map(function(a){return d("WAWebDBMessageSerialization").messageFromDbRow(a)}).reverse(),{pendingMsgsDone:!0,resume:!1,add:"last",isHistory:!0},"restoreMessagesForChat")});return N.apply(this,arguments)}function O(a,b){return P.apply(this,arguments)}function P(){P=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=[];if(b!=null&&b.internalId!=null){var e=b.internalId,f=d("WAWebDBMessageSerialization").messageFromDbRow(b),g=d("WAWebDBAddOnProviders").getAddOnProviderForFutureproofMsg(f);b&&(g==null?void 0:g.canRenderInUi(f))&&c.push(b.id.toString());g=(yield d("WAWebDBMessageStoreUtils").queryChatVisibleMessageHelper(e,a.id+"_g",{lowerInclusive:!0},void 0,c))}else{f=1;g=(yield d("WAWebDBMessageStoreUtils").queryChatVisibleMessageHelper(a.id+"_/",a.id+"_g",{reverse:!0},f))}d("WALogger").LOG(n(),g.length);d("WALogger").DEV(m(),a.id);d("WAWebMsgCollection").MsgCollection.processMultipleMessages(d("WAWebWidFactory").createWidFromWidLike(a.id),g.map(function(a){return d("WAWebDBMessageSerialization").messageFromDbRow(a,function(a){a.invis=!0})}),{pendingMsgsDone:!1,resume:!1,add:"last",isHistory:!0},"processPreviewMessageInChat")});return P.apply(this,arguments)}function Q(a){return R.apply(this,arguments)}function R(){R=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!a.unreadMsgAnchorId){d("WALogger").WARN(l());d("WALogger").DEV(k(),a.id);return(h||(h=b("Promise"))).resolve()}yield d("WAWebSchemaMessage").getMessageTable().equals(["id"],a.unreadMsgAnchorId).then(function(e){if(e.length===0){d("WALogger").WARN(j());d("WALogger").DEV(i(),a.unreadMsgAnchorId||"");return}e=d("WAWebDBMessageUtils").getInChatMsgId(e[0].internalId||"");var f=T(a,e,D);e=U(a,e,D);f=(h||(h=b("Promise"))).all([f,e]).then(function(a){var b=a[0];a=a[1];return[].concat(b,a)});return f.then(function(b){var e=b.length-D;if(e<0)return;e=b[b.length-D].id;b=b.map(function(a){return d("WAWebDBMessageSerialization").messageFromDbRow(a,function(a){a.invis=!0})});return d("WAWebMsgCollection").MsgCollection.processMultipleMessages(d("WAWebWidFactory").createWidFromWidLike(a.id),b,{pendingMsgsDone:!0,resume:!1,add:"unread",isHistory:!0,firstUnreadKey:c("WAWebMsgKey").fromString(e)},"processUnreadMessage",new(d("WAWebChatMsgsCollection").ChatMsgsCollection)())})})});return R.apply(this,arguments)}function S(a){var c=self.performance.now();return d("WAWebSchemaMessage").getMessageTable().bulkGet(a).then(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield (h||(h=b("Promise"))).all(e.map(function(a){if(!a)return(h||(h=b("Promise"))).resolve();a=d("WAWebDBMessageSerialization").messageFromDbRow(a,function(a){a.invis=!0});return d("WAWebMsgCollection").MsgCollection.processMultipleMessages(a.id.remote,[a],{pendingMsgsDone:!1,resume:!1,add:"last",isHistory:!0},"loadLastMessagesFromDb")})),d("WALogger").DEV(v(),self.performance.now()-c,a.length)});return function(a){return e.apply(this,arguments)}}())["catch"](function(a){d("WALogger").ERROR(u(),a);throw a})}function T(a,b,c){c={lowerInclusive:!0,upperInclusive:!1};var e=d("WAWebDBMessageUtils").beginningOfChat(d("WAWebWidFactory").createWid(a.id));a=d("WAWebDBMessageUtils").craftInternalId(a.id,b);return d("WAWebDBMessageStoreUtils").queryChatVisibleMessageHelper(e,a,babelHelpers["extends"]({},c,{reverse:!0}),D).then(function(a){return a.reverse()})}function U(a,b,c){c={lowerInclusive:!0,upperInclusive:!1};return d("WAWebDBMessageStoreUtils").queryChatVisibleMessageHelper(d("WAWebDBMessageUtils").craftInternalId(a.id,b),d("WAWebDBMessageUtils").endOfChat(d("WAWebWidFactory").createWid(a.id)),c,D)}g.restoreChatsAndMessages=a}),98);
__d("WAWebRestoreGroupsAndContacts",["Promise","WALogger","WAWebApiContact","WAWebApiHydrateWidsUtil","WAWebChatCollection","WAWebContactCollection","WAWebContactsDbLidMigrationUtils","WAWebCopyPnDataToLidRows","WAWebGroupMetadataCollection","WAWebGroupQueryBridge","WAWebLidAwareContactsDB","WAWebModelStorageInitialize","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebSchemaGroupMetadata","WAWebUserPrefsGeneral","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreGroupMetadataPromise: ","ms, restore "," groups"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreContactsPromise: ","ms, restore "," contacts"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["warming up lid/pn cache"]);k=function(){return a};return a}function a(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreGroupsAndContacts_start");return d("WAWebModelStorageInitialize").initializeWithoutGKs().then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=self.performance.now();d("WAWebUserPrefsGeneral").getContactsDbReadIsUsingLid()?d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreContactsReadByLid_start"):d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreContacts_start");var e=c("WAWebLidAwareContactsDB").all().then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){d("WALogger").LOG(k());d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"WarmupAllLidMappings_start");yield d("WAWebApiContact").warmUpAllLidPnMappings(b);d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"WarmupAllLidMappings_end");d("WAWebContactCollection").ContactCollection.add(b.map(d("WAWebApiHydrateWidsUtil").hydrateWids),{silent:!0,merge:!0});d("WALogger").DEV(j(),self.performance.now()-a,b.length);d("WAWebUserPrefsGeneral").getContactsDbReadIsUsingLid()?d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreContactsReadByLid_end"):d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreContacts_end");return b});return function(a){return c.apply(this,arguments)}}());void e.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WAWebContactsDbLidMigrationUtils").shouldRunContactsDbLidMigration()&&(d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"LIDMigration_start"),yield d("WAWebCopyPnDataToLidRows").copyPnDataToLidRows(a),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"LIDMigration_end"))});return function(b){return a.apply(this,arguments)}}());d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreGroups_start");var f=d("WAWebSchemaGroupMetadata").getGroupMetadataTable().all().then(function(b){c("WAWebGroupMetadataCollection").add(b.map(d("WAWebApiHydrateWidsUtil").hydrateWids),{merge:!0}),b.forEach(function(a){var b=d("WAWebWidFactory").createWidFromWidLike(a.id);a.isParentGroup===!0&&d("WAWebChatCollection").ChatCollection.gadd({id:b,isReadOnly:!1});d("WAWebGroupQueryBridge").updateSubject(b,a.subject)}),d("WALogger").DEV(i(),self.performance.now()-a,b.length),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreGroups_end")});return(h||(h=b("Promise"))).all([e,f])})).then(function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreGroupsAndContacts_end")})}g.restoreGroupsAndContacts=a}),98);
__d("WAWebRestoreProfilePictures",["WALogger","WAWebApiHydrateWidsUtil","WAWebProfilePicThumbCollection","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebSchemaProfilePicThumb","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[init-from-storage]: restoreProfilePics: ","ms, restore "," picture urls"]);h=function(){return a};return a}function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=self.performance.now();d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreProfilePictures_start");var b=(yield d("WAWebSchemaProfilePicThumb").getProfilePicThumbTable().all()),c=[],e=[];b.forEach(function(a){var b=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);b!=null||d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.isProfilePicRefreshNeeded(a.timestamp)?e.push(a.id):c.push(a)});e.length>0&&d("WAWebSchemaProfilePicThumb").getProfilePicThumbTable().bulkRemove(e);b=c.map(function(a){return babelHelpers["extends"]({},d("WAWebApiHydrateWidsUtil").hydrateWids(a),{stale:!1,eurlStale:!1})});d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.add(b,{silent:!0,merge:!1});d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"RestoreProfilePictures_end");d("WALogger").DEV(h(),self.performance.now()-a,b.length)});return i.apply(this,arguments)}g.restoreProfilePictures=a}),98);
__d("WAWebSetArchiveChatAction",["fbt","Promise","WAAbortError","WALogger","WAWebActionToast.react","WAWebChatArchiveBridge","WAWebMiscErrors","WAWebNoop","WAWebStateUtils","WAWebToastManager","react"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["models:chat:setArchive dropped"]);k=function(){return a};return a}var l=j||c("react");function a(a,b,c){return m(d("WAWebStateUtils").unproxy(a),b,c)}function m(a,e,f,g){g===void 0&&(g=d("WAWebActionToast.react").genId());if(a.archive===e)return(i||(i=b("Promise"))).reject(new(d("WAWebMiscErrors").ActionError)());var j=a.promises;if(j.setArchive)return j.setArchive.promise;var n=a.getLastMsgKeyForAction(),o=new AbortController(),p=o.signal;n=d("WAWebChatArchiveBridge").sendConversationArchive(a.id,e,n);var q=e?new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__TbdFR9SFyko__JHASH__")):new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__aafThUMTB5r__JHASH__")),r=n.then(function(b){if(p.aborted)throw new(d("WAAbortError").AbortError)();var c;if(b.status===200){c=e?h._("__JHASH__Dk9cAZTATJ5__JHASH__"):h._("__JHASH__71z-T1_c3m6__JHASH__");return new(d("WAWebActionToast.react").ActionType)(c,{actionText:h._("__JHASH__mpD8GydGn1Q__JHASH__"),actionHandler:function(){return m(a,!e,f,g)}})}else if(b.status>=400)return e?new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__uHolzO1t-s4__JHASH__")):new(d("WAWebActionToast.react").ActionType)(h._("__JHASH__Gi641J940rP__JHASH__"))})["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")))["catch"](function(b){d("WALogger").WARN(k()).devConsole(b);b=e?h._("__JHASH__uHolzO1t-s4__JHASH__"):h._("__JHASH__Gi641J940rP__JHASH__");return new(d("WAWebActionToast.react").ActionType)(b,{actionText:h._("__JHASH__TyKOR8KAtP1__JHASH__"),actionHandler:function(){return m(a,e,f,g)}})});f&&d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebActionToast.react").ActionToast,{id:g,initialAction:q,pendingAction:r}));q=n.then(function(b){b.status===200&&(a.archive=e,e&&(a.pin=void 0))})["finally"](function(){delete j.setArchive});r={promise:q,abortController:o,archive:e};j.setArchive=r;return q}g.setArchive=a}),226);
__d("WAWebSocketBridgeApi",["WAWebSocketModel"],(function(a,b,c,d,e,f,g){a={socketLogout:function(a){a=a.reason;d("WAWebSocketModel").Socket.logout(a)}};g.SocketBridgeApi=a}),98);
__d("WAWebStatusBridgeApi",["WAWebStatusCollection"],(function(a,b,c,d,e,f,g){a={handleStatusUpdate:function(a){var b=a.rawMsg,c=a.checksum;a=a.isMsgUpdate;return d("WAWebStatusCollection").StatusCollection.handleUpdate(b,c,a)},handleReadStatus:function(a){a=a.msgKeys;for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(c>=a.length)break;e=a[c++]}else{c=a.next();if(c.done)break;e=c.value}e=e;var f=e.participant;f=f&&d("WAWebStatusCollection").StatusCollection.get(f);f&&f.handleReadStatus(e)}}};g.StatusBridgeApi=a}),98);
__d("WAWebTextStatusBridgeApi",["WAWebTextStatusCollection","WAWebUserPrefsMeUser","WAWebWidFactory"],(function(a,b,c,d,e,f,g){a={setMyStatus:function(a){a=a.status;var b=d("WAWebUserPrefsMeUser").assertGetMe();d("WAWebTextStatusCollection").TextStatusCollection.assertGet(d("WAWebWidFactory").toUserWid(b)).status=(b=a)!=null?b:d("WAWebTextStatusCollection").getDefaultTextStatus()}};g.TextStatusBridgeApi=a}),98);
__d("WAWebUnreadMentionMetadataBridgeApi",["WAWebChatCollection","WAWebGroupUnreadMessageType","WAWebMsgGetters","WAWebUnreadMentionModel"],(function(a,b,c,d,e,f,g){a={processAndGetUnreadMentionsInfo:function(a){a=a.filteredMsgs;var b=new Map(),c=new Map();a.forEach(function(a){if(d("WAWebMsgGetters").getIsImportantMessage(a)){var e=a.id.remote.toString(),f=0;if(!c.has(e)){var g=d("WAWebChatCollection").ChatCollection.get(e);f=(g=g==null?void 0:(g=g.groupMetadata)==null?void 0:g.unreadMentionMetadata.pendingUnreadMentionCount)!=null?g:0;c.set(e,f)}else{f=(g=c.get(e))!=null?g:0}if(f>0){c.set(e,f-1);g={id:a.id.toString(),timestamp:a.t};if(b.has(e)){(f=b.get(e))==null?void 0:f.push(g)}else b.set(e,[g])}}});return{unreadMentionsToAdd:b,pendingUnreadMentionsMap:c}},getChatIdsNeedToBeDeletedFromUnreadMentionInfo:function(a){var b=a.unreadMentionsToAdd,e=a.pendingUnreadMentionsMap,f=[];b.forEach(function(a,b){var g,h,i=d("WAWebChatCollection").ChatCollection.get(b);g=(g=e.get(b))!=null?g:0;h=i==null?void 0:(h=i.groupMetadata)==null?void 0:h.unreadMentionMetadata;if((h==null?void 0:h.pendingUnreadMentionCount)===0||(i==null?void 0:i.hasChatBeenOpened)){f.push(b);return}if(h&&h.pendingUnreadMentionCount>0){h.pendingUnreadMentionCount=g;i=a.map(function(a){return new(c("WAWebUnreadMentionModel"))({id:a.id.toString(),timestamp:a.timestamp})});h.addUnreadMentions(i,d("WAWebGroupUnreadMessageType").UnreadMessageType.HISTORYC_SYNC_CHUNK)}});return f},updateUnreadMentionMetadataByAdding:function(a){var b=a.chatId,e=a.newUnreadMentions;a=a.pendingUnreadMentionCount;b=d("WAWebChatCollection").ChatCollection.get(b);b=b==null?void 0:(b=b.groupMetadata)==null?void 0:b.unreadMentionMetadata;e=e.map(function(a){return new(c("WAWebUnreadMentionModel"))({id:a.id.toString(),timestamp:a.timestamp})});b&&b.pendingUnreadMentionCount>0&&(b.pendingUnreadMentionCount=a,b.addUnreadMentions(e,d("WAWebGroupUnreadMessageType").UnreadMessageType.HISTORYC_SYNC_CHUNK))}};g.UnreadMentionMetadataBridgeApi=a}),98);
__d("WAWebVerifiedNameBridgeApi",["Promise","WAWebChatCollection","WAWebHandleSingleMsg"],(function(a,b,c,d,e,f,g){var h;a={updatePrivacySystemMessages:function(a){var c=a.wid;a=a.systemMsgs;a.map(function(a){if(a!=null){var b=d("WAWebChatCollection").ChatCollection.get(c);if(b!=null)return d("WAWebHandleSingleMsg").handleSingleMsg(c,a,"bizStateChangeNotification")}});return(h||(h=b("Promise"))).resolve()}};g.VerifiedNameBridgeApiType=a}),98);
__d("WAWebVoipActionWriteCallLogMessage",["Promise","WAResolvable","WATimeUtils","WAWebABProps","WAWebCmd","WAWebGetMessageCache","WAWebHandleSingleMsg","WAWebMessageProcessUtils","WAWebMessageQueue","WAWebMsgKey","WAWebMsgType","WAWebUpdateMessageUIAction","WAWebUserPrefsMeUser","WAWebViewMode.flow","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.callCreatorWid,e=a.offerTime,f=a.isVideo,g=a.isSilenced,h=a.isGroup,i=a.groupJid,k=a.callId;a=a.isOffline;if(d("WAWebABProps").getABPropConfigValue("web_missed_call_notifications")===!1)return;var l=d("WAWebWidFactory").toUserWid(b);if(b.isLid()&&!h){b=(yield d("WAWebMessageProcessUtils").selectChatForOneOnOneMessage({wid:d("WAWebWidFactory").toUserWid(b)}));b=b.chatId;l=d("WAWebWidFactory").toUserWid(b)}g?b="silence":h?f?b="miss_group_video":b="miss_group":f?b="miss_video":b="miss";f=(g=k)!=null?g:yield c("WAWebMsgKey").newId();var m;h&&k!=null?i&&(m={id:new(c("WAWebMsgKey"))({remote:i,fromMe:!1,id:f}),type:d("WAWebMsgType").MSG_TYPE.CALL_LOG,viewMode:d("WAWebViewMode.flow").ViewModeType.VISIBLE,kind:d("WAWebMsgType").MsgKind.CallLog,subtype:b,from:l,t:e!=null?e:d("WATimeUtils").unixTime(),to:i}):m={id:new(c("WAWebMsgKey"))({remote:l,fromMe:!1,id:f}),type:d("WAWebMsgType").MSG_TYPE.CALL_LOG,kind:d("WAWebMsgType").MsgKind.CallLog,subtype:b,viewMode:d("WAWebViewMode.flow").ViewModeType.VISIBLE,from:l,t:e!=null?e:d("WATimeUtils").unixTime(),to:d("WAWebUserPrefsMeUser").assertGetMe()};m!=null&&(yield j(l.toString(),m,a===!0))});return i.apply(this,arguments)}function j(a,c,e){var f=new(d("WAResolvable").Resolvable)();void d("WAWebMessageQueue").onMessageQueue(a,e,b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=g(c).then(function(){f.resolve()});return e?(h||(h=b("Promise"))).resolve():a}));return f.promise;function g(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(e){d("WAWebCmd").Cmd.isMainStreamReadyMd&&void d("WAWebUpdateMessageUIAction").updateUI(a.id.remote,a);return d("WAWebGetMessageCache").getMessageCache().addMessages([{msg:a}],!1)}yield d("WAWebHandleSingleMsg").handleSingleMsg(a.from,a)});return i.apply(this,arguments)}}g.generateMissedCallLog=a}),98);
__d("WAWebVoipActionWebHandleIncomingSignalingMessage",["WALogger","WAWebCallCollection","WAWebVoipActionWriteCallLogMessage","WAWebVoipSignalingEnums","WAWebVoipWaCallEnums"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["voip:voip_common_disabled: Received signaling msg type "," but could not find call for call ID"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['voip:handleIncomingSignalingMsg: type: "','" msg: ']);i=function(){return a};return a}function a(a,b){var e=d("WAWebVoipSignalingEnums").TYPE_NAME[a.type];d("WALogger").LOG(i(),e).devConsole(a);e=c("WAWebCallCollection").processIncomingCall(a.call_id,a.peer_jid,{isVideo:a.isVideoCall,offerTime:a.t,isSilenced:a.isSilenced,offerReceivedWhileOffline:a.is_offline,groupWid:a.group_jid});if(!e){d("WALogger").WARN(h(),a.type).devConsole(a.call_id);return}switch(a.type){case d("WAWebVoipSignalingEnums").TYPE.OFFER:a.t!=null&&(e.offerTime=a.t);e.isVideo=!!a.isVideoCall;e.setState(d("WAWebVoipWaCallEnums").CALL_STATES.INCOMING_RING);break;case d("WAWebVoipSignalingEnums").TYPE.TERMINATE:e.setState(d("WAWebVoipWaCallEnums").CALL_STATES.ENDED);b=(b=b.payload[1])==null?void 0:b.reason;switch(b){case"group_call_ended":case"timeout":case void 0:b=b==="group_call_ended";b=b?{isGroup:!0,groupJid:e.groupJid}:{isGroup:!1};void d("WAWebVoipActionWriteCallLogMessage").generateMissedCallLog(babelHelpers["extends"]({callCreatorWid:a.call_creator,offerTime:e.offerTime,isVideo:e.isVideo,isSilenced:e.isSilenced,callId:a.call_id,isOffline:a.is_offline},b))}break}}g.handleVoipWebIncomingSignalingMessageAction=a}),98);
__d("WAWebVoipWebBridgeApi",["WAWebVoipActionWebHandleIncomingSignalingMessage"],(function(a,b,c,d,e,f,g){"use strict";a={handleVoipWebIncomingSignalingMessageAction:function(a){var b=a.msg;a=a.payload;return d("WAWebVoipActionWebHandleIncomingSignalingMessage").handleVoipWebIncomingSignalingMessageAction(b,a)}};g.VoipWebBridgeApi=a}),98);
__d("WAWebWamBridgeApi",["WAWebEphemeralKeepInChatWamUtils","WAWebOTPLoggingHelper"],(function(a,b,c,d,e,f,g){a={logTieBreakIgnoredKicWam:function(a){a=a.keepInChatMessage;return d("WAWebEphemeralKeepInChatWamUtils").logTieBreakIgnoredKic(a)},logOTPMessageReceivedActions:function(a){a=a.msgData;void d("WAWebOTPLoggingHelper").logOTPMessageReceived(a)},logOTPMessageReadActions:function(a){a=a.msgRow;void d("WAWebOTPLoggingHelper").logOTPMessageRead(a)}};g.WamBridgeApi=a}),98);
__d("WAWebSetFrontendHandlerApi",["WAWebAddOnsBridgeApi","WAWebBizAiBridgeApi","WAWebCTWABridgeApi","WAWebChatBridgeApi","WAWebClockBridgeApi","WAWebContactBridgeApi","WAWebCustomPaymentMethodsSyncBridgeApi","WAWebDeviceSwitchingBridgeApi","WAWebGroupBridgeApi","WAWebGroupMetadataBridgeApi","WAWebHistorySyncApi","WAWebIdentityBridgeApi","WAWebL10nHelpersBridgeApi","WAWebLabelsBridgeApi","WAWebMemoryInfoBridgeApi","WAWebMsgBridgeApi","WAWebMsgInfoBridgeApi","WAWebNewsletterBridgeApi","WAWebNoteBridgeApi","WAWebPaymentInfoSyncBridgeApi","WAWebPrimaryFeaturesBridgeApi","WAWebPrivacyBridgeApi","WAWebProfilePicThumbBridgeApi","WAWebReactionsBridgeApi","WAWebSocketBridgeApi","WAWebStatusBridgeApi","WAWebTextStatusBridgeApi","WAWebUnreadMentionMetadataBridgeApi","WAWebVerifiedNameBridgeApi","WAWebVoipWebBridgeApi","WAWebWamBridgeApi"],(function(a,b,c,d,e,f,g){function a(a){a.setHandlers("event",babelHelpers["extends"]({},d("WAWebMsgBridgeApi").MsgBridgeApi,d("WAWebLabelsBridgeApi").LabelsBridgeApi,d("WAWebContactBridgeApi").ContactBridgeApi,d("WAWebChatBridgeApi").ChatBridgeApi,d("WAWebClockBridgeApi").ClockBridgeApi,d("WAWebCTWABridgeApi").CTWABridgeApi,d("WAWebStatusBridgeApi").StatusBridgeApi,d("WAWebTextStatusBridgeApi").TextStatusBridgeApi,d("WAWebMsgInfoBridgeApi").MsgInfoBridgeApi,d("WAWebGroupBridgeApi").GroupBridgeApi,d("WAWebHistorySyncApi").HistorySyncBridgeApi,d("WAWebIdentityBridgeApi").IdentityBridgeApi,d("WAWebSocketBridgeApi").SocketBridgeApi,d("WAWebWamBridgeApi").WamBridgeApi,d("WAWebReactionsBridgeApi").ReactionsBridgeApi,d("WAWebAddOnsBridgeApi").AddOnsBridgeApi,d("WAWebGroupMetadataBridgeApi").GroupMetadataBridgeApi,d("WAWebNewsletterBridgeApi").NewsletterBridgeApi,d("WAWebPrimaryFeaturesBridgeApi").PrimaryFeaturesBridgeApi,d("WAWebProfilePicThumbBridgeApi").ProfilePicThumbBridgeApi,d("WAWebDeviceSwitchingBridgeApi").DeviceSwitchingBridgeApi,d("WAWebPrivacyBridgeApi").PrivacyBridgeApi,d("WAWebPaymentInfoSyncBridgeApi").PaymentInfoSyncBridgeApi,d("WAWebCustomPaymentMethodsSyncBridgeApi").CustomPaymentMethodsSyncBridgeApi,d("WAWebUnreadMentionMetadataBridgeApi").UnreadMentionMetadataBridgeApi,d("WAWebL10nHelpersBridgeApi").L10nHelpersBridgeApi,d("WAWebNoteBridgeApi").NoteBridgeApi,d("WAWebBizAiBridgeApi").BizAiBridgeApi,d("WAWebVoipWebBridgeApi").VoipWebBridgeApi,d("WAWebVerifiedNameBridgeApi").VerifiedNameBridgeApiType,d("WAWebMemoryInfoBridgeApi").MemoryInfoBridgeApi))}g.setFrontendHandlers=a}),98);
__d("WAWebUpdateMsgBizPrivacyStatusAction",["WALogger","WAWebPrivacyModeSystemMsg","WAWebProtobufsWeb.pb","WAWebSchemaMessage","WAWebWid","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["msg.bizPrivacyStatus exist already, we can not assign a new value anymore"]);h=function(){return a};return a}function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e;if(!c("WAWebWid").isUser(a.id.remote))return;if(a.id.remote.isBot()||((e=a.invokedBotWid)==null?void 0:e.isBot()))return;e=a.privacyModeWhenSent;if(e==null&&b==null)return;if(e!=null&&b!=null&&e.privacyModeTs>=b.privacyModeTs)return;b=d("WAWebPrivacyModeSystemMsg").getReducedPrivacyMode(b);e=d("WAWebPrivacyModeSystemMsg").getReducedPrivacyMode(e);if(b===e)return;if(a.bizPrivacyStatus!=null){d("WALogger").WARN(h());return}e=j(b);a.bizPrivacyStatus=e;yield d("WAWebSchemaMessage").getMessageTable().merge(a.id.toString(),{bizPrivacyStatus:e})});return i.apply(this,arguments)}function j(a){switch(a){case d("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.E2EE:return d("WAWebProtobufsWeb.pb").WebMessageInfo$BizPrivacyStatus.E2EE;case d("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.BSP:return d("WAWebProtobufsWeb.pb").WebMessageInfo$BizPrivacyStatus.BSP;case d("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.FB:case d("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.HOSTED_GROUP:return d("WAWebProtobufsWeb.pb").WebMessageInfo$BizPrivacyStatus.FB}}g["default"]=a}),98);
__d("WAWebWorkerSafeBridgeApi",["Promise","WATaskScheduler","WAWebCTWASuggestionInitFromStorage","WAWebChatCollection","WAWebContactCollection","WAWebEphemeralityResolver","WAWebFetchAdEntryPointsConfiguration","WAWebFetchQuickPromotions","WAWebFtsClient","WAWebGetOrQueryUsyncInfoContactAction","WAWebGroupCreationKeyDistribution","WAWebHandleHistorySyncNotification","WAWebJobLoadQuickPromotions","WAWebKeyManagementHandleKeyRequestApi","WAWebKeyManagementHandleKeyShareApi","WAWebKeyManagementSendKeyShareApi","WAWebMsgCollection","WAWebNonMessageDataRequestHandler","WAWebPaymentNotificationHandler","WAWebPnhCtwaDailyStatsUtils","WAWebPrivacyMode_WORKER_INCOMPATIBLE","WAWebProfilePicThumbCollection","WAWebResendGroupMsgMainThreadOnly","WAWebResendUserMsgMainThreadOnly","WAWebRestoreChatsAndMessages","WAWebRestoreGroupsAndContacts","WAWebRestoreProfilePictures","WAWebTasksDefinitions","WAWebTosCountryGating","WAWebTosGating","WAWebUpdateMsgBizPrivacyStatusAction","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a={setProfilePicThumb:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.wid;a=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.gadd(a);yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.update(a.id)});function c(b){return a.apply(this,arguments)}return c}(),getPrivacyMode:function(a){a=a.id;return d("WAWebPrivacyMode_WORKER_INCOMPATIBLE").getPrivacyModeFromModel(a)},updateBizPrivacyStatus:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.msgIds,f=a.privacyMode;yield (h||(h=b("Promise"))).all(e.map(function(a){return d("WAWebMsgCollection").MsgCollection.get(a)}).filter(Boolean).map(function(a){return c("WAWebUpdateMsgBizPrivacyStatusAction")(a,f)}))});function e(b){return a.apply(this,arguments)}return e}(),getChatPrivacyInfoOnNewMsg:function(a){a=a.chatId;var b=d("WAWebChatCollection").ChatCollection.get(a);return{verifiedLevel:b==null?void 0:b.contact.verifiedLevel,privacyMode:d("WAWebPrivacyMode_WORKER_INCOMPATIBLE").getPrivacyModeFromModel(a)}},getContactData:function(a){a=a.ids;return new Map(a.map(function(a){var b=d("WAWebContactCollection").ContactCollection.get(a),c=d("WAWebEphemeralityResolver").getEphemeralDurationForUser(b);return[a.toJid(),{ephemeralDuration:c,shouldBlockByCountry:function(){return b==null?!1:d("WAWebTosCountryGating").shouldBlockByCountry(b)},shouldBlockByTos:function(){return b==null?!1:d("WAWebTosGating").shouldBlockByTos(b)}}]}))},getBizBotData:function(a){a=a.chatIds;return new Map(a.map(function(a){var b=d("WAWebChatCollection").ChatCollection.get(a);return[a.toJid(),{bizBotSystemMsgType:b==null?void 0:b.bizBotSystemMsgType}]}))},handleHistorySyncNotification:function(a){var b=a.historySyncMetaData,c=a.from;a=a.externalId;return d("WAWebHandleHistorySyncNotification").handleHistorySyncNotification(b,c,a)},handleAppStateSyncKeyShare:function(a){var b=a.keyShare;a=a.from;return d("WAWebKeyManagementHandleKeyShareApi").handleAppStateSyncKeyShare(b,a)},sendAppStateSyncKeyShare:function(a){a=a.keyShare;return d("WAWebKeyManagementSendKeyShareApi").sendAppStateSyncKeyShare(a)},restoreChatsAndMessages:function(){return d("WAWebRestoreChatsAndMessages").restoreChatsAndMessages()},restoreGroupsAndContacts:function(){return d("WAWebRestoreGroupsAndContacts").restoreGroupsAndContacts()},restoreProfilePictures:function(){return d("WAWebRestoreProfilePictures").restoreProfilePictures()},processAllOrphanPaymentNotifications:function(){return d("WAWebPaymentNotificationHandler").processAllOrphanPaymentNotifications()},handleAppStateSyncKeyRequest:function(a){var b=a.keyRequest;a=a.from;return d("WAWebKeyManagementHandleKeyRequestApi").handleAppStateSyncKeyRequest(b,a)},handlePeerDataOperationRequestResponse:function(a){var b=a.stanzaId;a=a.response;return d("WAWebNonMessageDataRequestHandler").handlePeerDataOperationRequestResponse(b,a)},handlePeerDataOperationRequest:function(a){var b=a.stanzaId;a=a.request;return d("WAWebNonMessageDataRequestHandler").handlePeerDataOperationRequest(b,a)},getFtsClientInstance:function(){return d("WAWebFtsClient").ftsClient},getOrQueryUsyncInfo:function(a){a=a.wid;return d("WAWebGetOrQueryUsyncInfoContactAction").getOrQueryUsyncInfo(a)},maybeSendKeyDistributionMsgToNewGroup:function(a){a=a.groupId;return d("WAWebGroupCreationKeyDistribution").maybeSendKeyDistributionMsgToNewGroup(a)},incrementPnhCtwaDailyCount:function(a){a=a.chatId;return d("WAWebPnhCtwaDailyStatsUtils").incrementPnhCtwaDailyCount(a)},processOrphanPaymentNotifications:function(a){a=a.msgs;return d("WAWebPaymentNotificationHandler").processOrphanPaymentNotifications(a)},processLastMsgs:function(a){var c=a.chatId,e=a.msgObjs,f=a.meta,g=a.processMessagesOrigin,i=a.chatMsgsCollection;a=a.preserveOrder;var j=d("WAWebChatCollection").ChatCollection.get(c);return j&&j.msgs.length===0&&!j.pendingInitialLoading?d("WAWebMsgCollection").MsgCollection.processMultipleMessages(c,e,f,g,i,a):(h||(h=b("Promise"))).resolve([])},loadQuickPromotions:function(a){a=a.trigger;return d("WAWebJobLoadQuickPromotions").loadQuickPromotions(a)},fetchQuickPromotionsNow:function(){void d("WAWebFetchQuickPromotions").fetchQuickPromotions().then(function(){d("WATaskScheduler").rescheduleNow(d("WAWebTasksDefinitions").TaskType.FETCH_QUICK_PROMOTIONS)})},fetchAdEntryPointsConfiguration:function(a){a=a.trigger;return d("WAWebFetchAdEntryPointsConfiguration").fetchAdEntryPointsConfiguration(a)},restoreCTWASuggestions:function(){return d("WAWebCTWASuggestionInitFromStorage").restoreCTWASuggestions()},resendUserMsg:function(a){var b=a.msgId,c=a.msgType,e=a.msgRecordType,f=a.excludeList;a=a.ackTime;return d("WAWebResendUserMsgMainThreadOnly").resendUserMsgMainThreadOnly(b,c,e,f,a)},resendGroupMsg:function(a){var b=a.msgId,c=a.msgType,e=a.msgRecordType,f=a.groupId,g=a.isDirect,h=a.oldList,i=a.phash,j=a.ackTime;a=a.serverAddressingMode;return d("WAWebResendGroupMsgMainThreadOnly").resendGroupMsgMainThreadOnly(b,c,e,f,g,h,i,j,a)}};g.WorkerSafeBridgeApi=a}),98);
__d("WAWebSetWorkerSafeHandlerApi",["WAWebWorkerSafeBridgeApi"],(function(a,b,c,d,e,f,g){function a(a){a.setHandlers("workerSafeEvent",babelHelpers["extends"]({},d("WAWebWorkerSafeBridgeApi").WorkerSafeBridgeApi))}g.setWorkerSafeHandlers=a}),98);
__d("WAWebSettingsOutlineIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="settings-outline";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M11.75 14.5C13.1307 14.5 14.25 13.3807 14.25 12C14.25 10.6193 13.1307 9.5 11.75 9.5C10.3693 9.5 9.25 10.6193 9.25 12C9.25 13.3807 10.3693 14.5 11.75 14.5Z",stroke:"currentColor",strokeWidth:2}),j.jsx("mask",{id:"mask0_226_11",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:2,y:2,width:20,height:20,children:j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.87042 22H13.6204C13.8704 22 14.0871 21.9167 14.2704 21.75C14.4538 21.5833 14.5621 21.375 14.5954 21.125L14.8954 18.8C15.0954 18.7167 15.2954 18.6167 15.4954 18.5C15.6954 18.3833 15.8871 18.2583 16.0704 18.125L18.1954 19.025C18.4288 19.1083 18.6663 19.1125 18.9079 19.0375C19.1496 18.9625 19.3371 18.8167 19.4704 18.6L21.3204 15.4C21.4538 15.1833 21.4954 14.95 21.4454 14.7C21.3954 14.45 21.2704 14.25 21.0704 14.1L19.1954 12.675C19.2288 12.5583 19.2454 12.4458 19.2454 12.3375V11.6625C19.2454 11.5542 19.2371 11.4417 19.2204 11.325L21.0954 9.9C21.2954 9.75 21.4204 9.55 21.4704 9.3C21.5204 9.05 21.4788 8.81667 21.3454 8.6L19.4954 5.375C19.3621 5.15833 19.1788 5.01667 18.9454 4.95C18.7121 4.88333 18.4788 4.89167 18.2454 4.975L16.0704 5.875C15.8871 5.74167 15.6996 5.61667 15.5079 5.5C15.3163 5.38333 15.1121 5.28333 14.8954 5.2L14.5954 2.875C14.5621 2.625 14.4538 2.41667 14.2704 2.25C14.0871 2.08333 13.8704 2 13.6204 2H9.87042C9.62046 2 9.40379 2.08333 9.22046 2.25C9.03712 2.41667 8.92879 2.625 8.89546 2.875L8.59546 5.2C8.39546 5.28333 8.19546 5.38333 7.99546 5.5C7.79546 5.61667 7.60379 5.74167 7.42046 5.875L5.24546 4.975C5.01212 4.89167 4.77462 4.87917 4.53296 4.9375C4.29129 4.99583 4.11212 5.14167 3.99546 5.375L2.14546 8.6C2.01212 8.81667 1.97046 9.05 2.02046 9.3C2.07046 9.55 2.19546 9.75 2.39546 9.9L4.27046 11.325C4.25379 11.4417 4.24546 11.5542 4.24546 11.6625V12.3375C4.24546 12.4458 4.25379 12.5583 4.27046 12.675L2.39546 14.1C2.19546 14.25 2.07046 14.45 2.02046 14.7C1.97046 14.95 2.01212 15.1833 2.14546 15.4L3.99546 18.625C4.12879 18.8417 4.31212 18.9833 4.54546 19.05C4.77879 19.1167 5.01212 19.1083 5.24546 19.025L7.42046 18.125C7.60379 18.2583 7.79129 18.3833 7.98296 18.5C8.17462 18.6167 8.37879 18.7167 8.59546 18.8L8.89546 21.125C8.92879 21.375 9.03712 21.5833 9.22046 21.75C9.40379 21.9167 9.62046 22 9.87042 22Z",fill:"white"})}),j.jsx("g",{mask:"url(#mask0_226_11)",children:j.jsx("path",{d:"M14.5954 21.125L16.5779 21.3893L16.579 21.3809L14.5954 21.125ZM14.8954 18.8L14.1262 16.9538L13.0597 17.3982L12.9119 18.5441L14.8954 18.8ZM16.0704 18.125L16.8504 16.2834L15.8089 15.8422L14.8941 16.5075L16.0704 18.125ZM18.1954 19.025L17.4155 20.8666L17.4685 20.8891L17.5228 20.9085L18.1954 19.025ZM19.4704 18.6L21.1738 19.6482L21.1882 19.6248L21.2019 19.601L19.4704 18.6ZM21.3204 15.4L19.6171 14.3518L19.6027 14.3752L19.589 14.399L21.3204 15.4ZM21.0704 14.1L19.8602 15.6924L19.8704 15.7L21.0704 14.1ZM19.1954 12.675L17.2724 12.1256L16.8968 13.4401L17.9853 14.2673L19.1954 12.675ZM19.2204 11.325L18.0103 9.73268L17.0743 10.444L17.2405 11.6078L19.2204 11.325ZM21.0954 9.9L19.8954 8.29997L19.8853 8.30768L21.0954 9.9ZM21.3454 8.6L19.6106 9.59517L19.626 9.62193L19.6421 9.64819L21.3454 8.6ZM19.4954 5.375L21.2303 4.37983L21.2149 4.35307L21.1988 4.32681L19.4954 5.375ZM18.2454 4.975L17.5728 3.09152L17.5263 3.10811L17.4807 3.12697L18.2454 4.975ZM16.0704 5.875L14.8941 7.49247L15.8 8.15135L16.8351 7.72303L16.0704 5.875ZM14.8954 5.2L12.9119 5.45594L13.0645 6.63862L14.1775 7.06669L14.8954 5.2ZM14.5954 2.875L16.579 2.61905L16.5779 2.61067L14.5954 2.875ZM8.89544 2.875L6.91296 2.61067L6.91188 2.61906L8.89544 2.875ZM8.59544 5.2L9.36467 7.04615L10.4311 6.60179L10.579 5.45594L8.59544 5.2ZM7.42044 5.875L6.65573 7.72303L7.69083 8.15135L8.59678 7.49247L7.42044 5.875ZM5.24544 4.975L6.01014 3.12697L5.96456 3.10811L5.91811 3.09152L5.24544 4.975ZM3.99544 5.375L5.73027 6.37017L5.75872 6.32057L5.78429 6.26943L3.99544 5.375ZM2.14544 8.6L3.84875 9.64819L3.86492 9.62193L3.88027 9.59517L2.14544 8.6ZM2.39544 9.9L3.60563 8.30764L3.59544 8.3L2.39544 9.9ZM4.27044 11.325L6.25034 11.6078L6.4166 10.444L5.4806 9.73268L4.27044 11.325ZM4.27044 12.675L5.4806 14.2673L6.4166 13.556L6.25034 12.3922L4.27044 12.675ZM2.39544 14.1L3.59546 15.7L3.6056 15.6923L2.39544 14.1ZM2.14544 15.4L3.88027 14.4048L3.86492 14.3781L3.84875 14.3518L2.14544 15.4ZM3.99544 18.625L2.26061 19.6202L2.27596 19.6469L2.29212 19.6732L3.99544 18.625ZM5.24544 19.025L5.91811 20.9085L5.96456 20.8919L6.01014 20.873L5.24544 19.025ZM7.42044 18.125L8.59678 16.5075L7.69083 15.8487L6.65573 16.277L7.42044 18.125ZM8.59544 18.8L10.579 18.5441L10.4264 17.3614L9.3134 16.9333L8.59544 18.8ZM8.89544 21.125L6.91186 21.3809L6.91298 21.3893L8.89544 21.125ZM13.6204 20H9.8704V24H13.6204V20ZM12.9251 20.2701C13.0043 20.1981 13.1143 20.1239 13.2525 20.0708C13.3903 20.0178 13.519 20 13.6204 20V24C14.363 24 15.0606 23.7345 15.6158 23.2299L12.9251 20.2701ZM12.613 20.8607C12.6247 20.7729 12.6543 20.6624 12.7148 20.546C12.7755 20.4292 12.8517 20.3369 12.9251 20.2701L15.6158 23.2299C16.155 22.7397 16.4834 22.0978 16.5779 21.3893L12.613 20.8607ZM12.9119 18.5441L12.6119 20.8691L16.579 21.3809L16.879 19.0559L12.9119 18.5441ZM14.4877 16.7724C14.3593 16.8474 14.2388 16.9069 14.1262 16.9538L15.6647 20.6462C15.9521 20.5264 16.2316 20.386 16.5032 20.2276L14.4877 16.7724ZM14.8941 16.5075C14.7662 16.6005 14.6309 16.6889 14.4877 16.7724L16.5032 20.2276C16.76 20.0778 17.008 19.9161 17.2468 19.7425L14.8941 16.5075ZM18.9754 17.1834L16.8504 16.2834L15.2905 19.9666L17.4155 20.8666L18.9754 17.1834ZM18.3151 17.1274C18.3842 17.1059 18.4762 17.089 18.5836 17.0909C18.6916 17.0928 18.7889 17.1132 18.8681 17.1415L17.5228 20.9085C18.1732 21.1408 18.855 21.148 19.5007 20.9476L18.3151 17.1274ZM17.7671 17.5518C17.8169 17.4708 17.8937 17.3774 18.0019 17.2932C18.1103 17.2089 18.2212 17.1565 18.3151 17.1274L19.5007 20.9476C20.2074 20.7283 20.7883 20.2746 21.1738 19.6482L17.7671 17.5518ZM19.589 14.399L17.739 17.599L21.2019 19.601L23.0519 16.401L19.589 14.399ZM19.4843 15.0922C19.464 14.9906 19.4565 14.8586 19.4828 14.7109C19.5092 14.5632 19.5621 14.4412 19.6171 14.3518L23.0238 16.4482C23.4225 15.8002 23.5555 15.0521 23.4066 14.3078L19.4843 15.0922ZM19.8704 15.7C19.7852 15.6361 19.694 15.5438 19.6182 15.4225C19.5427 15.3017 19.5028 15.1847 19.4843 15.0922L23.4066 14.3078C23.2622 13.5858 22.8726 12.9516 22.2704 12.5L19.8704 15.7ZM17.9853 14.2673L19.8602 15.6924L22.2806 12.5077L20.4056 11.0827L17.9853 14.2673ZM17.2454 12.3375C17.2454 12.2393 17.2607 12.1665 17.2724 12.1256L21.1185 13.2244C21.1968 12.9502 21.2454 12.6524 21.2454 12.3375H17.2454ZM17.2454 11.6625V12.3375H21.2454V11.6625H17.2454ZM17.2405 11.6078C17.245 11.6389 17.2454 11.6566 17.2454 11.6625H21.2454C21.2454 11.4517 21.2292 11.2444 21.2003 11.0422L17.2405 11.6078ZM19.8853 8.30768L18.0103 9.73268L20.4306 12.9173L22.3056 11.4923L19.8853 8.30768ZM19.5093 8.90777C19.5278 8.81526 19.5677 8.69828 19.6432 8.5775C19.719 8.45616 19.8102 8.3639 19.8954 8.29997L22.2954 11.5C22.8976 11.0484 23.2872 10.4142 23.4316 9.69223L19.5093 8.90777ZM19.6421 9.64819C19.5871 9.5588 19.5342 9.43682 19.5078 9.28908C19.4815 9.14142 19.489 9.00936 19.5093 8.90777L23.4316 9.69223C23.5805 8.94794 23.4475 8.19983 23.0488 7.55181L19.6421 9.64819ZM17.7606 6.37017L19.6106 9.59517L23.0803 7.60483L21.2303 4.37983L17.7606 6.37017ZM18.396 6.87305C18.2804 6.84001 18.1537 6.78048 18.035 6.68882C17.9177 6.59818 17.8396 6.50037 17.7921 6.42319L21.1988 4.32681C20.8175 3.70724 20.2335 3.238 19.4949 3.02695L18.396 6.87305ZM18.9181 6.85848C18.8533 6.88163 18.7675 6.90138 18.6668 6.90498C18.5657 6.90859 18.473 6.89505 18.396 6.87305L19.4949 3.02695C18.8511 2.84301 18.1905 2.8709 17.5728 3.09152L18.9181 6.85848ZM16.8351 7.72303L19.0101 6.82303L17.4807 3.12697L15.3057 4.02697L16.8351 7.72303ZM14.468 7.2084C14.6125 7.29634 14.7545 7.39097 14.8941 7.49247L17.2468 4.25753C17.0197 4.09236 16.7867 3.93699 16.5478 3.7916L14.468 7.2084ZM14.1775 7.06669C14.2862 7.10849 14.3822 7.15615 14.468 7.2084L16.5478 3.7916C16.2503 3.61052 15.938 3.45817 15.6134 3.33331L14.1775 7.06669ZM12.6119 3.13094L12.9119 5.45594L16.879 4.94406L16.579 2.61905L12.6119 3.13094ZM12.9251 3.72988C12.8517 3.66314 12.7755 3.57076 12.7148 3.45395C12.6543 3.33761 12.6247 3.22709 12.613 3.13933L16.5779 2.61067C16.4834 1.90221 16.155 1.26032 15.6158 0.77012L12.9251 3.72988ZM13.6204 4C13.519 4 13.3903 3.98222 13.2525 3.92919C13.1143 3.87605 13.0043 3.80191 12.9251 3.72988L15.6158 0.77012C15.0606 0.265451 14.363 0 13.6204 0V4ZM9.8704 4H13.6204V0H9.8704V4ZM10.5658 3.72988C10.4865 3.80191 10.3766 3.87605 10.2384 3.92919C10.1005 3.98222 9.9719 4 9.8704 4V0C9.12787 0 8.43023 0.265451 7.87509 0.77012L10.5658 3.72988ZM10.8779 3.13933C10.8662 3.22709 10.8366 3.33762 10.7761 3.45396C10.7154 3.57076 10.6392 3.66314 10.5658 3.72988L7.87509 0.77012C7.33588 1.26032 7.00742 1.9022 6.91296 2.61067L10.8779 3.13933ZM10.579 5.45594L10.879 3.13094L6.91188 2.61906L6.61188 4.94406L10.579 5.45594ZM9.00318 7.22756C9.1316 7.15265 9.25209 7.09306 9.36467 7.04615L7.82621 3.35385C7.53878 3.47361 7.25928 3.61402 6.9877 3.77244L9.00318 7.22756ZM8.59678 7.49247C8.72465 7.39947 8.85996 7.3111 9.00318 7.22756L6.9877 3.77244C6.73092 3.92223 6.48289 4.08386 6.24409 4.25753L8.59678 7.49247ZM4.48073 6.82303L6.65573 7.72303L8.18514 4.02697L6.01014 3.12697L4.48073 6.82303ZM5.00222 6.88166C4.94371 6.89579 4.87006 6.90472 4.78719 6.90036C4.70427 6.896 4.63109 6.87931 4.57277 6.85848L5.91811 3.09152C5.31682 2.87677 4.6824 2.84398 4.06366 2.99334L5.00222 6.88166ZM5.78429 6.26943C5.73217 6.37367 5.6371 6.51376 5.47986 6.64175C5.32037 6.77156 5.14931 6.84616 5.00222 6.88166L4.06366 2.99334C3.21731 3.19763 2.572 3.74974 2.20658 4.48057L5.78429 6.26943ZM3.88027 9.59517L5.73027 6.37017L2.26061 4.37983L0.410609 7.60483L3.88027 9.59517ZM3.9816 8.90777C4.00192 9.00936 4.00941 9.14142 3.98304 9.28908C3.95666 9.43682 3.90377 9.5588 3.84875 9.64819L0.442121 7.55181C0.0433362 8.19983 -0.0895818 8.94794 0.0592762 9.69223L3.9816 8.90777ZM3.59544 8.3C3.68068 8.36393 3.77185 8.45616 3.84768 8.5775C3.92317 8.69828 3.9631 8.81525 3.9816 8.90777L0.0592762 9.69223C0.203672 10.4142 0.593266 11.0484 1.19544 11.5L3.59544 8.3ZM5.4806 9.73268L3.60563 8.30764L1.18527 11.4923L3.06027 12.9173L5.4806 9.73268ZM6.24544 11.6625C6.24544 11.6566 6.2459 11.6389 6.25034 11.6078L2.29054 11.0422C2.26164 11.2444 2.24544 11.4517 2.24544 11.6625H6.24544ZM6.24544 12.3375V11.6625H2.24544V12.3375H6.24544ZM6.25034 12.3922C6.2459 12.3611 6.24544 12.3434 6.24544 12.3375H2.24544C2.24544 12.5483 2.26164 12.7556 2.29054 12.9578L6.25034 12.3922ZM3.6056 15.6923L5.4806 14.2673L3.06027 11.0827L1.18527 12.5077L3.6056 15.6923ZM3.9816 15.0922C3.9631 15.1847 3.92317 15.3017 3.84768 15.4225C3.77185 15.5438 3.6807 15.6361 3.59546 15.7L1.19544 12.5C0.593266 12.9516 0.203672 13.5858 0.0592762 14.3078L3.9816 15.0922ZM3.84875 14.3518C3.90377 14.4412 3.95666 14.5632 3.98304 14.7109C4.00941 14.8586 4.00192 14.9906 3.9816 15.0922L0.0592762 14.3078C-0.0895818 15.0521 0.0433353 15.8002 0.442122 16.4482L3.84875 14.3518ZM5.73027 17.6298L3.88027 14.4048L0.410609 16.3952L2.26061 19.6202L5.73027 17.6298ZM5.09489 17.127C5.21053 17.16 5.33721 17.2195 5.45583 17.3112C5.57313 17.4018 5.65126 17.4996 5.69876 17.5768L2.29212 19.6732C2.6734 20.2928 3.25734 20.762 3.99599 20.973L5.09489 17.127ZM4.57276 17.1415C4.63756 17.1184 4.72334 17.0986 4.82405 17.095C4.92518 17.0914 5.01786 17.1049 5.09489 17.127L3.99599 20.973C4.63979 21.157 5.30038 21.1291 5.91811 20.9085L4.57276 17.1415ZM6.65573 16.277L4.48073 17.177L6.01014 20.873L8.18514 19.973L6.65573 16.277ZM9.02283 16.7916C8.87835 16.7037 8.73635 16.609 8.59678 16.5075L6.24409 19.7425C6.47119 19.9076 6.70419 20.063 6.94304 20.2084L9.02283 16.7916ZM9.3134 16.9333C9.20471 16.8915 9.10868 16.8439 9.02283 16.7916L6.94304 20.2084C7.24053 20.3895 7.55283 20.5418 7.87747 20.6667L9.3134 16.9333ZM10.879 20.8691L10.579 18.5441L6.61188 19.0559L6.91186 21.3809L10.879 20.8691ZM10.5658 20.2701C10.6392 20.3369 10.7154 20.4292 10.7761 20.546C10.8366 20.6624 10.8662 20.7729 10.8779 20.8607L6.91298 21.3893C7.00744 22.0978 7.33587 22.7397 7.87509 23.2299L10.5658 20.2701ZM9.8704 20C9.9719 20 10.1005 20.0178 10.2384 20.0708C10.3766 20.1239 10.4865 20.1981 10.5658 20.2701L7.87509 23.2299C8.43023 23.7345 9.12787 24 9.8704 24V20Z",fill:"currentColor"})})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.SettingsOutlineIcon=a}),98);
__d("WAWebSupportChatConfirmationModal.react",["WAWebConfirmPopup.react","WAWebFbtCommon","WAWebFlex.react","WAWebModalManager","WAWebSupportChatStrings","WAWebWDSText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(){return i.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:c("WAWebFbtCommon")("OK"),onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:i.jsx(d("WAWebFlex.react").FlexColumn,{children:i.jsx(d("WAWebWDSText.react").WDSTextSmall,{children:d("WAWebSupportChatStrings").SupportChatConfirmationModalText()})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebSupportChatUtils",["WALogger","WAWebABPropsSaga","WAWebApiChat","WAWebDrawerManager","WAWebHandleSingleMsg","WAWebModalManager","WAWebOpenChatFlow.react","WAWebSagaSystemMsg","WAWebSupportAIInfoNuxLoadable","WAWebSupportAiSessionWamEvent","WAWebSupportChatConfirmationModal.react","WAWebWamEnumSupportAiEventType","WAWebWidFactory","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["InAppSupport: Error opening support chat: ",""]);i=function(){return a};return a}var j=h||c("react");function a(){new(d("WAWebSupportAiSessionWamEvent").SupportAiSessionWamEvent)({supportAiEventType:d("WAWebWamEnumSupportAiEventType").SUPPORT_AI_EVENT_TYPE.SUPPORT_AI_SCREEN_SHOWN_ON_THE_CHAT}).commit(),d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebSupportAIInfoNuxLoadable").SupportAIInfoNuxLoadable,{}),{transition:"modal-flow"})}function e(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=d("WAWebWidFactory").createWid(a),f=(yield d("WAWebApiChat").getChatRecord(e));d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebOpenChatFlow.react").OpenChatFlow,{targetId:e,onSuccess:function(){d("WAWebDrawerManager").DrawerManager.closeDrawerLeft(),b&&(f&&!d("WAWebABPropsSaga").getIsSagaProtobufSystemMessageEnabled()&&void d("WAWebHandleSingleMsg").handleSingleMsg(e,d("WAWebSagaSystemMsg").genSagaInitSystemMsg(e)))},msgText:null,customError:j.jsx("div",{children:j.jsx(c("WAWebSupportChatConfirmationModal.react"),{})}),onError:function(a){d("WALogger").WARN(i(),a)}}),{transition:"modal-flow"})});return k.apply(this,arguments)}g.openSupportAINux=a;g.openSupportChat=e}),98);
__d("WAWebTosModal.react",["fbt","WAWebConfirmPopup.react","WAWebConnModel","WAWebModalManager","WAWebSocketModel","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function k(){d("WAWebConnModel").Conn.tos===0&&d("WAWebModalManager").ModalManager.close()}function l(){d("WAWebModalManager").ModalManager.close(),d("WAWebSocketModel").Socket.logout()}function a(){var a,b,c;d("useWAWebListener").useListener(d("WAWebConnModel").Conn,"change:tos",k);switch(d("WAWebConnModel").Conn.tos){default:case 1:a=h._("__JHASH__IzGnGAypMLF__JHASH__");b=h._("__JHASH__On50MyzV-mK__JHASH__");c=function(){return d("WAWebModalManager").ModalManager.close()};break;case 2:a=h._("__JHASH__zCMiXHvPR-N__JHASH__");b=h._("__JHASH__3n1bF_cZdZK__JHASH__");c=l;break}return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:c,okText:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useForceUpdate",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useReducer;function a(){var a=i(function(a){return a+1},0);a[0];a=a[1];return a}g["default"]=a}),98);
__d("useWAWebConversationPanelMessageSelection",["WANullthrows","WAWebMultiSelectBar.react","WAWebMultiSelection","WAWebRevokeMetricUtils","react","useLazyRef","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useState;function a(a){var b=i(!1),e=b[0],f=b[1];b=i(d("WAWebMultiSelectBar.react").MultiSelectMode.DEFAULT);var g=b[0],h=b[1],j=c("useLazyRef")(function(){return new(c("WAWebMultiSelection"))([],function(a){return a.id.toString()})});b=function(){d("WAWebRevokeMetricUtils").UiRevokeActionHelper.startSession(),f(!0)};var k=function(b,d,e){if(!b||!a)return;b=a.indexOf(b);if(!b)return;d=a.indexOf(d);var f=d>b?-1:1;b=b+(e?f:d<b?0:f*2);while(d!==b)j.current.setVal(c("WANullthrows")(a.at(d)).safe(),e,!0),d+=f},l=function(a,b,c,e){f(!0);c&&h(c);c=j.current.getSelected().pop();e=(e==null?void 0:e.shiftKey)===!0;j.current.setVal(a,b,!0);b&&d("WAWebRevokeMetricUtils").UiRevokeActionHelper.messageSelected();e&&k(c,a,b)},m=function(){if(!e)return;j.current.unsetAll();f(!1);h(d("WAWebMultiSelectBar.react").MultiSelectMode.DEFAULT)};d("useWAWebListener").useListener(a,"remove",function(a){j.current.isSelected(a)&&l(a,!1)});return{selectable:e,selectedMessages:j.current,handleSelectMessages:b,handleMessageSelect:l,handleCancelSelection:m,selectionMode:g}}g["default"]=a}),98);
__d("useWAWebNoop",[],(function(a,b,c,d,e,f){"use strict";function a(){return}f["default"]=a}),66);